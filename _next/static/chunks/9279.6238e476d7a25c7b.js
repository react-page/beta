"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9279],{44838:function(e,t,n){n.d(t,{lp:function(){return f},sq:function(){return s},CK:function(){return m},rG:function(){return v},rV:function(){return p}});var r=n(27378),o=n(77534),l=n(7524),i=function(e){return e&&e.reactPage&&e.reactPage.focus},a=function(e){var t,n,r;return null!==(r=null===(n=null===(t=i(e))||void 0===t?void 0:t.nodeIds)||void 0===n?void 0:n.filter((function(t){var n;return null===(n=(0,l.$5)(e,t))||void 0===n?void 0:n.node})))&&void 0!==r?r:[]},c=function(e){var t=a(e);return 1===(null===t||void 0===t?void 0:t.length)?t[0]:null},u=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,l=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(o)throw o.error}}return i},d=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,l=t.length;o<l;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},s=function(){return(0,o.v9)(c)},f=function(){return(0,o.v9)(a)},v=function(e){return(0,o.v9)((function(t){return a(t).includes(e)}))},m=function(e){return(0,o.v9)((function(t){return c(t)===e}))},p=function(e,t,n){var l=(0,o.v9)((function(t){var n=i(t),r=c(t);return n&&r===e?n.scrollToCell:null}));(0,r.useEffect)((function(){if(l)return t()}),d([l],u(n),!1))}},24832:function(e,t,n){n.d(t,{G:function(){return r}});var r=function(e){return!!e&&"id"in e}},34242:function(e,t,n){n.r(t),n.d(t,{default:function(){return Xn}});var r=n(27378),o=n(36737),l=n(11377),i=n(99892),a=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,l=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(o)throw o.error}}return i},c=function(e){var t=e.children,n=(0,l.xe)(),c=(0,i.c0)(),u=a((0,o.L)({accept:"cell",canDrop:function(e){return c(e)},drop:function(e,t){t.didDrop()||n(e.cell)}}),2)[1],d=(0,l.pv)(),s=(0,r.useCallback)((function(e){var t;(null===(t=e.target.classList)||void 0===t?void 0:t.contains("react-page-editable"))&&d(null)}),[d]);return r.createElement("div",{ref:u,onClick:s},t)},u=n(7935),d=n(77534),s=n(1928),f=n(28854),v=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,l=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(o)throw o.error}}return i},m=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,l=t.length;o<l;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},p=function(){var e=(0,d.I0)();return(0,r.useCallback)((function(t){return e((0,s.cq)(t))}),[e])},g=function(){return(0,d.v9)((function(e){return e.reactPage.display.zoom}))},h=n(48389),y=n.n(h),b=function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n="smooth"),e){var r=document.body.getBoundingClientRect().top,o=e.getBoundingClientRect().top-r-t;window.scrollTo({top:o,behavior:n})}};var E,w=function(e){var t=(0,u.iY)(),n=r.useRef();(0,r.useEffect)((function(){var t=y()((function(){if(e.current){var t=Array.prototype.find.call(e.current.getElementsByClassName("react-page-cell"),(function(e){return function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}(e)}));n.current=t?{el:t,topOffset:t.getBoundingClientRect().top}:null}}),600);return window.addEventListener("scroll",t),function(){window.removeEventListener("scroll",t)}}),[]),(0,r.useEffect)((function(){if(n.current){var e=n.current,t=e.el,r=e.topOffset;setTimeout((function(){b(t,r,"auto")}),0)}}),[t])},C=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,l=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(o)throw o.error}}return i},A=r.memo((function(e){var t=e.parentCellId,n=(0,u.N6)(),a=(0,l.xe)(t),c=(0,u.x8)(),d=(0,u.gX)(),s=(0,l.pv)(),f=(0,i.c0)(t),v=C((0,o.L)({accept:"cell",canDrop:function(e){return f(e)},collect:function(e){return{isOver:e.isOver(),isAllowed:f(e.getItem())}},drop:function(e,t){t.didDrop()||a(e.cell)}}),2),m=v[0],p=m.isOver,g=m.isAllowed,h=v[1];return c?null:r.createElement("div",{ref:h,className:"react-page-cell-insert-new"+(p&&g?" hover":""),style:{pointerEvents:"all",zIndex:d?10:1,overflow:"hidden",width:"50%",minWidth:120,margin:"auto",cursor:p&&!g?"not-allowed":"pointer"},onClick:function(e){e.stopPropagation(),s(t),n()}})})),x=n(7524),I=n(61138),O=n(60042),R=n.n(O),H=n(16957),k=n(46242),L=n(68330),S=n(25158).y?40:60,P=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,l=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(o)throw o.error}}return i},B=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,l=t.length;o<l;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},j=function(){return new Error("dummy").stack.replace(/^[^(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@").split("\n")},Z=function(){function e(){}return e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,B(["Warning:"],P(e),!1))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,B(["Debug:"],P(e),!1))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,B(["Info:"],P(e),!1))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,B(["Error:"],P(e),!1)),console.error("Trace:",j())},e.prototype.fatal=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw console.error.apply(console,B(["Fatal:"],P(e),!1)),console.error("Trace:",j()),new Error(e.join(" "))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,B(["Fatal:"],P(e),!1)),console.log("Trace:",j())},e}(),N=new Z,W=function(){return W=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},W.apply(this,arguments)},F={NO:0,C1:10,C2:11,C3:12,C4:13,AH:200,AA:201,BH:210,BA:211,LH:220,LA:221,RH:230,RA:231,IL:300,IR:301},z={"10x10":[[F.C1,F.AA,F.AA,F.AA,F.AA,F.AA,F.AA,F.AA,F.AA,F.C2],[F.LA,F.IL,F.IL,F.IL,F.AH,F.AH,F.IR,F.IR,F.IR,F.RA],[F.LA,F.IL,F.IL,F.IL,F.AH,F.AH,F.IR,F.IR,F.IR,F.RA],[F.LA,F.IL,F.IL,F.IL,F.AH,F.AH,F.IR,F.IR,F.IR,F.RA],[F.LA,F.LH,F.LH,F.LH,F.C1,F.C2,F.RH,F.RH,F.RH,F.RA],[F.LA,F.LH,F.LH,F.LH,F.C4,F.C3,F.RH,F.RH,F.RH,F.RA],[F.LA,F.LH,F.LH,F.C4,F.BH,F.BH,F.C3,F.IR,F.RH,F.RA],[F.LA,F.LH,F.C4,F.BH,F.BH,F.BH,F.BH,F.C3,F.RH,F.RA],[F.LA,F.C4,F.BH,F.BH,F.BH,F.BH,F.BH,F.BH,F.C3,F.RA],[F.C4,F.BA,F.BA,F.BA,F.BA,F.BA,F.BA,F.BA,F.BA,F.C3]],"10x10-no-inline":[[F.C1,F.AA,F.AA,F.AA,F.AA,F.AA,F.AA,F.AA,F.AA,F.C2],[F.LA,F.C1,F.AH,F.AH,F.AH,F.AH,F.AH,F.AH,F.C2,F.RA],[F.LA,F.LH,F.C1,F.AH,F.AH,F.AH,F.AH,F.C2,F.RH,F.RA],[F.LA,F.LH,F.LH,F.C1,F.AH,F.AH,F.C2,F.RH,F.RH,F.RA],[F.LA,F.LH,F.LH,F.LH,F.C1,F.C2,F.RH,F.RH,F.RH,F.RA],[F.LA,F.LH,F.LH,F.LH,F.C4,F.C3,F.RH,F.RH,F.RH,F.RA],[F.LA,F.LH,F.LH,F.C4,F.BH,F.BH,F.C3,F.RH,F.RH,F.RA],[F.LA,F.LH,F.C4,F.BH,F.BH,F.BH,F.BH,F.C3,F.RH,F.RA],[F.LA,F.C4,F.BH,F.BH,F.BH,F.BH,F.BH,F.BH,F.C3,F.RA],[F.C4,F.BA,F.BA,F.BA,F.BA,F.BA,F.BA,F.BA,F.BA,F.C3]]},D={"10x10":null,"10x10-no-inline":null},M=function(e,t,n,r){var o,l,i=r.room,a=r.mouse,c=r.cellPlugins,u=null!==(l=null===(o=c.find((function(e){return e.id===t.pluginId})))||void 0===o?void 0:o.allowInlineNeighbours)&&void 0!==l&&l,d="10x10".concat(u?"":"-no-inline"),s=z[d],f=function(e){var t=e.room,n=e.matrix,r=n.length,o=n[0].length;return{x:t.width/o,y:t.height/r}}({room:i,matrix:s}),v=function(e){var t=e.mouse,n=e.scale;return{cell:Math.floor(t.x/n.x),row:Math.floor(t.y/n.y)}}({mouse:a,scale:f}),m=s.length,p=s[0].length;v.row>=m?v.row=m-1:v.row<0&&(v.row=0),v.cell>=p?v.cell=p-1:v.cell<0&&(v.cell=0);var g=s[v.row][v.cell];if(U[g]){var h={item:e.id,hover:t.id,actions:n,ctx:{room:i,mouse:a,position:v,size:{rows:m,cells:p},scale:f}};if(!(0,I.Z)(h,D[d]))return D[d]=h,U[g](e,t,n,{room:i,mouse:a,position:v,size:{rows:m,cells:p},cellPlugins:c,scale:f})}else N.error("Matrix callback not found.",{room:i,mouse:a,matrix:s,scale:f,hoverCell:v,rows:m,cells:p})},T=function(e){var t=e.mouse,n=e.position,r=e.scale;return{x:Math.round(t.x-n.cell*r.x),y:Math.round(t.y-n.row*r.y)}},X=function(e){var t=e.size,n=e.levels,r=e.position;if(t<=2*(n+1))return Math.round(r/(t/n));for(var o=[0],l=t-2*(n+1),i=0;i<=n;i++)if(o.push(o[i]+l/2),l/=2,r>=o[i]+2*i&&r<o[i+1]+2*(i+1))return i;return n},G=function(e,t){var n=e.mouse,r=e.position,o=e.hover,l=e.scale,i=e.level;void 0===t&&(t=!1);var a=T({mouse:n,position:r,scale:l}).x,c=X({size:l.x,position:a,levels:i});return(0,k.j)(o)?i:(o.inline&&0===c&&(c=1),t?i-c:c)},K=function(e,t){var n=e.level,r=e.mouse,o=e.hover,l=e.position,i=e.scale;void 0===t&&(t=!1);var a=T({mouse:r,position:l,scale:i}).y,c=X({size:i.y,position:a,levels:n});return(0,k.j)(o)?n:(o.inline&&0===c&&(c=1),t?n-c:c)},V=function(e){return!(0,k.j)(e)&&e.inline?1:0},U=((E={})[F.NO]=function(e,t,n){return(0,n.clear)()},E[F.C1]=function(e,t,n,r){var o=n.leftOf,l=n.above,i=T(r),a=V(t);if(i.x<i.y)return o(e,t,{level:a});l(e,t,{level:a})},E[F.C2]=function(e,t,n,r){var o=n.rightOf,l=n.above,i=T(r),a=V(t);if(i.x>i.y)return o(e,t,{level:a});l(e,t,{level:a})},E[F.C3]=function(e,t,n,r){var o=n.rightOf,l=n.below,i=T(r),a=V(t);if(i.x>i.y)return o(e,t,{level:a});l(e,t,{level:a})},E[F.C4]=function(e,t,n,r){var o=n.leftOf,l=n.below,i=T(r),a=V(t);if(i.x<i.y)return o(e,t,{level:a});l(e,t,{level:a})},E[F.AH]=function(e,t,n){(0,n.above)(e,t,{level:V(t)})},E[F.BH]=function(e,t,n){(0,n.below)(e,t,{level:V(t)})},E[F.LH]=function(e,t,n){(0,n.leftOf)(e,t,{level:V(t)})},E[F.RH]=function(e,t,n){(0,n.rightOf)(e,t,{level:V(t)})},E[F.AA]=function(e,t,n,r){return(0,n.above)(e,t,{level:K(W(W({},r),{hover:t,level:t.levels.above}),!0)})},E[F.BA]=function(e,t,n,r){return(0,n.below)(e,t,{level:K(W(W({},r),{hover:t,level:t.levels.below}))})},E[F.LA]=function(e,t,n,r){return(0,n.leftOf)(e,t,{level:G(W(W({},r),{hover:t,level:t.levels.left}),!0)})},E[F.RA]=function(e,t,n,r){return(0,n.rightOf)(e,t,{level:G(W(W({},r),{hover:t,level:t.levels.right}))})},E[F.IL]=function(e,t,n,r){var o,l=n.inlineLeft,i=n.leftOf,a=r.cellPlugins;if(!(0,k.j)(e)&&!(0,k.j)(t)){var c=t.inline,u=t.hasInlineNeighbour,d=a.find((function(t){var n;return t.id===("string"===typeof e.plugin?e.plugin:null===(n=e.plugin)||void 0===n?void 0:n.id)})),s=null!==(o=null===d||void 0===d?void 0:d.isInlineable)&&void 0!==o&&o;return c||!s||u&&u!==e.id||u&&u===e.id&&"left"===e.inline?i(e,t,{level:2}):void l(e,t)}},E[F.IR]=function(e,t,n,r){var o,l=n.inlineRight,i=n.rightOf,a=r.cellPlugins;if(!(0,k.j)(e)&&!(0,k.j)(t)){var c=t.inline,u=t.hasInlineNeighbour,d=a.find((function(t){var n;return t.id===("string"===typeof e.plugin?e.plugin:null===(n=e.plugin)||void 0===n?void 0:n.id)})),s=null!==(o=null===d||void 0===d?void 0:d.isInlineable)&&void 0!==o&&o;return c||!s||u&&u!==e.id||u&&u===e.id&&"right"===e.inline?i(e,t,{level:2}):void l(e,t)}},E),_=function(e,t,n,r,o,l){var i=r.getClientOffset(),a=o.getBoundingClientRect(),c={height:a.bottom-a.top,width:a.right-a.left},u={y:i.y-a.top,x:i.x-a.left};M(n,t,e,{room:c,mouse:u,cellPlugins:l})},q={hoverId:"",dragId:""},Y=function(e,t){return(e!==q.hoverId||t!==q.dragId)&&(q={hoverId:e,dragId:t},!0)},J=y()((function(e,t,n,r,o){var l=t.getItem();l&&e&&(l.cell.id!==e.id?t.isOver({shallow:!0})&&(e.ancestorIds.includes(l.cell.id)?Y(e.id,l.cell.id)&&r.clear():e.id?(q={hoverId:e.id,dragId:l.cell.id},function(e,t,n,r,o,l){_(o,e,t,n,r,l)}(e,l.cell,t,n,r,o)):N.warn("Canceled cell drop, no id given.",e,l)):Y(e.id,l.cell.id)&&r.clear())}),S,{leading:!1}),$=function(e,t,n,r,o){var l=t.getItem();!t.didDrop()&&t.isOver({shallow:!0})&&e&&(l.cell.id!==e.id?e.ancestorIds.includes(l.cell.id)?r.cancelCellDrag():(q={hoverId:e.id,dragId:l.cell.id},function(e,t,n,r,o,l){_(o,e,t,n,r,l)}(e,l.cell,t,n,r,o)):r.cancelCellDrag())},Q=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,l=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(o)throw o.error}}return i},ee=function(e){var t,n=r.useRef(null),l=(0,i.l4)(e),a=null===(t=null===l||void 0===l?void 0:l.ancestorIds)||void 0===t?void 0:t[0],c=(0,i.c0)(a),u=(0,i.R7)(e),s=(0,i.Ks)(a),f=(0,L.T)(),v=(0,L.G)(a),m=(0,d.v9)((function(t){var n;return(null===(n=t.reactPage.hover)||void 0===n?void 0:n.nodeId)===e})),p=Q((0,o.L)({accept:"cell",canDrop:function(t){return!!c(t)&&(!((null===u||void 0===u?void 0:u.allowNeighbour)&&!u.allowNeighbour(t.cell))&&(t.cell.id!==e&&!(null===l||void 0===l?void 0:l.ancestorIds.includes(t.cell.id))))},collect:function(e){return{isOver:e.isOver(),isAllowed:c(e.getItem())}},hover:function(e,t){if((null===u||void 0===u?void 0:u.allowNeighbour)&&!u.allowNeighbour(e.cell))return!1;J(l,t,n.current,f,s)},drop:function(e,t){$(l,t,n.current,v,s)}}),2),g=p[0],h=g.isOver,y=g.isAllowed,b=p[1];return(0,r.useEffect)((function(){!h&&m&&f.clear()}),[h,m,f.clear]),[(0,r.useCallback)((function(e){b(e),n.current=e}),[b]),y]},te=function(e){var t,n=(0,u.gX)(),o=(0,u.Wb)(),l=Q(ee(e.nodeId),2),a=l[0],c=l[1],d=(0,i.KO)(e.nodeId),s=(0,f.Fv)("allowMoveInEditMode"),v=(0,i.fG)(e.nodeId),m=(0,f.Z3)().y,p=!e.isLeaf&&!v;return n||o||s?r.createElement("div",{ref:a,style:{height:"100%"},className:"react-page-cell-droppable"},r.createElement("div",{style:{position:"absolute",pointerEvents:"none",top:p?"".concat(m/2,"px"):0,left:0,bottom:p?"".concat(m/2,"px"):0,right:0},className:R()((t={"react-page-cell-droppable-not-allowed":!c,"react-page-cell-droppable-is-over-current":c&&d},t["react-page-cell-droppable-is-over-".concat(d)]=c&&d,t["react-page-cell-droppable-leaf"]=e.isLeaf,t))}),e.children):r.createElement("div",{className:"react-page-cell-droppable-container"},e.children)},ne=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,l=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(o)throw o.error}}return i},re=function(e){var t=e.children,n=e.nodeId,o=(0,u.gX)(),l=(0,u.Wb)(),i=ne(ee(n),2),a=i[0];i[1];return o||l?r.createElement("div",{ref:a,className:"react-page-row-droppable"},t):r.createElement("div",{className:"react-page-row-droppable-container"},t)},oe=n(49529),le=n.n(oe),ie=n(5311),ae=n(44838),ce=function(e){var t=e.nodeId,n=e.error,o=(0,u.CG)(),i=(0,l.XL)(t),a=(0,f.WW)().t;return r.createElement("div",{className:"react-page-cell-error"},r.createElement("strong",null,a("An error occurred!")),r.createElement("small",null,r.createElement("dl",null,r.createElement("dt",null,a("Cause:")),r.createElement("dd",null,n.message),r.createElement("dt",null,a("Cell:")),r.createElement("dd",null,t))),o?r.createElement("button",{onClick:function(){return i()}},a("Remove")):null)},ue=n(22348),de=n(78214),se=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,l=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(o)throw o.error}}return i},fe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAhCAYAAACbffiEAAAA6UlEQVRYhe2ZQQ6CMBBFX0njHg7ESXTp1p3uvIBewc3Em3AfdelSFwRDCAm01JRO+pa0lP8zzc9kMCKyAa7AFqhIixdwB44WuACHuHq8KWm1vwtgF1lMCPaWkevUNE3Qr9R17XTu1P5uvUdV+IpbG2qMGBH5xBYRAjUVUWPEjj10SS3XRFry3kha/VBTETVGcmqtDTVGFqdWn7k9ku96f88QNRVRYySn1tpQY8QptXz7qinmnpt7rZTIqbU21BgJ2mv1+XfCDVFTETVGjIg8SG8KP+RZ0I7lU+dmgRNgaKfyZVw9znT/R85fOHJJE77U6UcAAAAASUVORK5CYII=",ve=function(e,t){void 0===t&&(t=!0);var n=(0,L.T)(),o=(0,i.Wf)(e),l=se((0,ue.c)({canDrag:t,item:function(){return n.dragCell(e),{cell:o}},type:"cell",collect:function(e){return{isDragging:e.isDragging()}},end:function(e,t){t.didDrop()||n.cancelCellDrag()}}),3),a=l[0].isDragging,c=l[1],u=l[2];return[a,c,r.createElement(de.h,{connect:u,src:fe})]},me=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,l=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(o)throw o.error}}return i},pe=r.memo((function(e){var t=e.nodeId,n=(0,f.Fv)("allowMoveInEditMode"),o=(0,u.gX)(),a=n||o,c=me(ve(t,a),3),d=c[0],s=c[1],v=c[2],m=(0,l.Bk)(t),p=(0,i.R7)(t),g=(0,f.WW)().t;return p?r.createElement(r.Fragment,null,v,r.createElement("div",{className:R()("react-page-cell-handle",{"react-page-cell-handle-drag-enabled":a,"react-page-cell-handle-is-dragging":d}),ref:s,onClick:function(e){var t=e.metaKey||e.ctrlKey?"add":"replace";m(!1,t)}},g((null===p||void 0===p?void 0:p.title)||(null===p||void 0===p?void 0:p.text)))):null})),ge=n(40842),he=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,l=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(o)throw o.error}}return i},ye=function(e){var t=e.onClick;return r.createElement("div",{className:"react-page-cell-draggable-overlay-handle",onClick:t},r.createElement("div",{className:"react-page-cell-draggable-overlay-handle-icon"}))},be=function(e){var t,n,o=e.isLeaf,a=e.children,c=e.nodeId,d=(0,i.Wf)(c),s=he(ve(c),3),v=s[0],m=s[1],p=s[2],g=(0,l.Bk)(c),h=(0,u.gX)(),y=(0,f.Fv)("allowMoveInEditMode"),b=(0,f.Fv)("components"),E=null!==(n=null===b||void 0===b?void 0:b.EditModeResizeHandle)&&void 0!==n?n:ye;return r.createElement(r.Fragment,null,p,r.createElement("div",{ref:h?m:void 0,style:{height:"100%"},className:R()({"react-page-cell-draggable-in-edit":!h&&y,"react-page-cell-draggable":h,"react-page-cell-draggable-is-dragging":v})},h?r.createElement("div",{onClick:function(e){var t=e.metaKey||e.ctrlKey?"add":"replace";g(!1,t)},className:R()((t={"react-page-cell-draggable-overlay":h},t["react-page-cell-draggable-inline-".concat(d.inline)]=d.inline,t["react-page-cell-draggable-leaf"]=o,t))}):y?r.createElement("div",{ref:m},r.createElement(E,{onClick:g})):null,a))},Ee=n(20319),we=n(37088),Ce=n(95541),Ae=n(75861),xe=n(44719),Ie=function(){return Ie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ie.apply(this,arguments)},Oe=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,l=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(o)throw o.error}}return i},Re=(0,Ae.Z)((function(){return{wrapper:{alignItems:"flex-start"}}}))(we.Z),He=(0,Ae.Z)((function(e){return{root:{marginTop:-12,marginBottom:-12,marginLeft:-24,alignItems:"flex-start",backgroundColor:e.palette.background.default}}}))(Ce.Z),ke=r.memo((function(e){var t,n=e.controls,o=e.componentProps,l=Oe((0,r.useState)(0),2),i=l[0],a=l[1],c=null===(t=n[i])||void 0===t?void 0:t.controls;return r.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.createElement(He,{value:i,onChange:function(e,t){return a(t)},orientation:"vertical",variant:"scrollable"},n.map((function(e,t){return r.createElement(Re,{label:e.title,key:t})}))),c?r.createElement("div",{style:{flex:1,marginLeft:24,display:"flex"}},r.createElement(Le,{controls:c,componentProps:o})):null)})),Le=r.memo((function(e){var t=e.controls,n=e.componentProps,o=null;if(Array.isArray(t))return r.createElement(ke,{componentProps:n,controls:t});if("custom"===(null===t||void 0===t?void 0:t.type)){var l=t.Component;o=r.createElement(l,Ie({},n,t))}else"autoform"===(null===t||void 0===t?void 0:t.type)&&(o=r.createElement(xe.lK,Ie({},n,t)));return r.createElement("div",{style:{overflow:"auto",flex:1}},o)})),Se=r.memo((function(e){var t=e.controls,n=e.componentProps;return r.createElement("div",{style:{maxHeight:"50vh",width:Array.isArray(t)?"100vw":void 0,maxWidth:"100%",display:"flex"}},r.createElement(Le,{controls:t,componentProps:n}))})),Pe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Be=function(e){var t=e.children,n=Pe(e,["children"]);return r.createElement("div",null,r.createElement("div",{style:{backgroundColor:"red",padding:"8px",border:"1px solid black",margin:"2px",overflowX:"scroll"}},"The requested plugin `",n.pluginId,"` could not be found.",r.createElement("button",{onClick:n.remove},"Delete Plugin"),r.createElement("pre",null,JSON.stringify(n,null,2))),t)},je=n(69774),Ze=function(){return Ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ze.apply(this,arguments)},Ne=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,l=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(o)throw o.error}}return i},We=function(e){var t,n,o,a=e.nodeId,c=e.children,d=e.hasChildren,s=(0,f.Jr)(),v=(0,f.Fv)("components"),m=null===v||void 0===v?void 0:v.CellPluginMissing,p=(0,u.x8)(),g=(0,u.CG)(),h=Ne((0,i.px)(a),2),y=h[0],b=h[1],E=(0,i.Ri)(a,(function(e){var t;return null===(t=e.plugin)||void 0===t?void 0:t.id})),w=(0,i.R7)(a),C=(0,ae.CK)(a),A=(0,i.Ri)(a,(function(e){return e.hasInlineNeighbour})),x=null===w||void 0===w?void 0:w.Renderer,I=null!==m&&void 0!==m?m:Be,O=null!==(t=null===w||void 0===w?void 0:w.Provider)&&void 0!==t?t:je.Z,R=(0,l.XL)(a),H=null!==(n=null===v||void 0===v?void 0:v.BottomToolbar)&&void 0!==n?n:Ee.hx,k=(0,r.useMemo)((function(){return{nodeId:a,lang:s,data:y,pluginConfig:w,focused:g&&C,readOnly:!g,onChange:b,isEditMode:g,isPreviewMode:p,remove:R}}),[a,s,y,w,g,C,b,g,p,R]),L=A?{}:{display:"flex",flexDirection:"column"};return r.createElement(O,Ze({},k),r.createElement(r.Fragment,null,r.createElement("div",{style:Ze(Ze({},L),{height:"100%",pointerEvents:p||!w||(null===w||void 0===w?void 0:w.allowClickInside)||d?void 0:"none"})},x?r.createElement(x,Ze({},k),c):E?r.createElement(I,Ze({},k,{pluginId:E})):c),r.createElement(H,{nodeId:a,open:C,dark:null===(o=null===w||void 0===w?void 0:w.bottomToolbar)||void 0===o?void 0:o.dark,pluginControls:g&&(null===w||void 0===w?void 0:w.controls)?r.createElement(Se,{componentProps:k,controls:null===w||void 0===w?void 0:w.controls}):null})))},Fe=function(){return Fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Fe.apply(this,arguments)},ze=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,l=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(o)throw o.error}}return i},De=r.memo((function(e){var t,n,o,a=e.nodeId,c=(0,u.x8)(),d=(0,u.CG)(),s=(0,i.fG)(a),v=(0,i.R7)(a),m=(0,u.XM)(),p=(0,l.Bk)(a),g=(0,ae.rG)(a),h=(0,i.E$)(a),y=(0,f.Z3)().y,b=r.useRef(),E=h.length>0,w=(0,i.YJ)(a),C=(0,ge.d)(v,w),x=ze((0,f.kn)(C),2),I=x[0],O=x[1];"undefined"!==typeof C&&null!=C&&(y=(0,ge.o)(C).y);var R=r.useCallback((function(e){var t,n=e.target;if(!g&&d&&!(null===(t=n.classList)||void 0===t?void 0:t.contains("react-page-row"))&&(null===n||void 0===n?void 0:n.closest)&&n.closest(".react-page-cell-inner")===b.current&&n.closest(".react-page-cell.react-page-cell-has-plugin")===b.current.closest(".react-page-cell")){var r=e.metaKey||e.ctrlKey?"add":"replace";p(!1,r),m()}}),[p,g,d,m]),H=!(null===(t=null===v||void 0===v?void 0:v.childConstraints)||void 0===t?void 0:t.maxChildren)||(null===(n=null===v||void 0===v?void 0:v.childConstraints)||void 0===n?void 0:n.maxChildren)>h.length,k=(0,i.vB)(a),L=h.map((function(e){return r.createElement(Qe,{nodeId:e,key:e})})),S=(0,f.Fv)("components"),P=null!==(o=null===S||void 0===S?void 0:S.InsertNew)&&void 0!==o?o:A;return s?r.createElement(te,{nodeId:a,isLeaf:!E},r.createElement(be,{nodeId:a,isLeaf:!E},r.createElement("div",Fe({onClick:c?void 0:R,tabIndex:-1,ref:b},k),r.createElement(We,{nodeId:a,hasChildren:E},E?r.createElement(I,{value:O},r.createElement("div",{style:0!==y?{margin:"".concat(-y/2,"px 0")}:void 0},L)):L,H?r.createElement(P,{parentCellId:a,childrenIds:h}):null)))):r.createElement(te,{nodeId:a},L)})),Me=n(34125),Te=function(){return Te=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Te.apply(this,arguments)},Xe={position:"absolute",margin:0},Ge=function(e){var t=e.nodeId;return r.createElement("div",{className:"react-page-cell-move-actions",style:Te({left:0,right:0,bottom:0,top:0,zIndex:100,pointerEvents:"none"},Xe)},r.createElement(Me.iD,{nodeId:t,style:Te(Te({},Xe),{top:10,left:"50%",transform:"translateX(-50%)"})}),r.createElement(Me.WT,{nodeId:t,style:Te(Te({},Xe),{left:10,top:"50%",transform:"translateY(-50%)"})}),r.createElement(Me.LG,{nodeId:t,style:Te(Te({},Xe),{right:10,top:"50%",transform:"translateY(-50%)"})}),r.createElement(Me.HQ,{nodeId:t,style:Te(Te({},Xe),{bottom:10,left:"50%",transform:"translateX(-50%)"})}))},Ke=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ve=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={error:null},t}return Ke(t,e),t.prototype.componentDidCatch=function(e){this.setState({error:e})},t.prototype.render=function(){return this.state.error?r.createElement(ce,{nodeId:this.props.nodeId,error:this.state.error}):this.props.children},t}(r.Component),Ue=r.memo((function(e){var t,n=e.nodeId,o=e.measureRef,a=(0,ae.rG)(n),c=(0,i.Ri)(n,(function(e){return{inline:e.inline,hasInlineNeighbour:e.hasInlineNeighbour,isDraft:e.isDraft,isDraftI18n:e.isDraftI18n,size:e.size}})),d=c.inline,s=c.hasInlineNeighbour,v=c.isDraft,m=c.isDraftI18n,p=c.size,g=(0,f.Jr)(),h=(0,u.x8)(),y=(0,u.rv)(),E=(0,u.gX)(),w=(0,u.Wb)(),C=(0,ae.lp)().length>1,A=(0,i.od)(n),x=(0,f.Fv)("showMoveButtonsInLayoutMode"),I=(0,i.fG)(n),O=(0,f.Z3)(),H=O.x,k=O.y,L=!A||I,S=null!==(t=null===m||void 0===m?void 0:m[g])&&void 0!==t?t:v,P=r.useRef(),B=(0,l.pv)(),j=(0,r.useCallback)((function(e){w&&(e.stopPropagation(),B(n))}),[n,w,B]);if((0,ae.rV)(n,(function(){P.current&&b(P.current,120)}),[P.current]),S&&h)return null;var Z=0!==k||0!==H?{padding:"".concat(L?k/2:0,"px ").concat(H/2,"px")}:void 0;return r.createElement("div",{style:Z,ref:P,className:(0,ie.mI)({hasChildren:A,hasInlineNeighbour:s,size:p,inline:d})+" "+R()({"react-page-cell-has-plugin":I,"react-page-cell-focused":a,"react-page-cell-is-draft":S,"react-page-cell-bring-to-front":!y&&!E&&d}),onClick:j},r.createElement(pe,{nodeId:n}),x&&E&&!A&&!C?r.createElement(Ge,{nodeId:n}):null,r.createElement("div",{ref:o,style:{height:"100%",boxSizing:"border-box"}},r.createElement(Ve,{nodeId:n},r.createElement(De,{nodeId:n}))))})),_e=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,l=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(o)throw o.error}}return i},qe=r.memo((function(e){var t=e.nodeId,n=e.rowWidth,o=e.rowHasInlineChildrenPosition,i=e.isLast,a=e.offset,c=e.size,d=e.maxSize,s=n/12,v=(0,f.Fv)("allowResizeInEditMode"),m=(0,u.rv)(),p=(0,u.CG)(),g=(0,u.x8)(),h=(0,l.tc)(t),y=_e((0,H.Z)(),2),b=y[0],E=y[1].height,w=(0,f.Z3)().y,C=!g&&!i&&(m||v&&p);return r.createElement(r.Fragment,null,r.createElement(Ue,{nodeId:t,measureRef:b}),C?r.createElement(le(),{bounds:{top:0,bottom:0,left:Math.round(s),right:Math.round(n-s)},position:{x:"right"===o?Math.round(s*(12-a)):Math.round(s*a),y:0},axis:"x",onDrag:function(e,t){var n=Math.round(t.deltaX/s),r="right"===o?c-n:c+n;r>0&&r<=d&&h(r)},grid:[Math.round(s),0]},r.createElement("div",{className:"resize-handle",style:{height:o?E:"auto",margin:0!==w?"".concat(w/2,"px 0"):void 0},onClick:function(e){return e.stopPropagation()}})):null)})),Ye=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,l=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(o)throw o.error}}return i},Je=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,l=t.length;o<l;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},$e=function(e,t,n,r){var o,l,i=r[n+1],a=(0,k.j)(t)?12:t.size,c=!i||(0,k.j)(i)?0:i.size,u=a+(null!==(l=null===(o=e[n-1])||void 0===o?void 0:o.offset)&&void 0!==l?l:0);return Je(Je([],Ye(e),!1),[{id:t.id,size:a,maxSize:a+c-1,offset:u}],!1)},Qe=r.memo((function(e){var t,n=e.nodeId,o=Ye((0,H.Z)(),2),l=o[0],a=o[1].width,c=(0,i.KO)(n),u=(0,i.Lp)(n,(function(e){var t,n,r,o;return(0,k.j)(e)?null!==(n=null===(t=e.cells)||void 0===t?void 0:t.reduce($e,[]))&&void 0!==n?n:[]:null!==(o=null===(r=e.rows)||void 0===r?void 0:r.reduce($e,[]))&&void 0!==o?o:[]})),d=(0,i.Lp)(n,(function(e){var t;return(0,k.j)(e)&&2===e.cells.length&&(null===(t=e.cells[0])||void 0===t?void 0:t.inline)})),s=(0,f.Z3)(),v=s.x,m=s.y;return r.createElement(re,{nodeId:n},r.createElement("div",{ref:l,className:R()("react-page-row",{"react-page-row-has-floating-children":Boolean(d)}),style:{position:"relative",margin:0!==v?"0 ".concat(-v/2,"px"):void 0}},r.createElement("div",{style:{position:"absolute",pointerEvents:"none",top:"".concat(m/2,"px"),left:"".concat(v/2,"px"),bottom:"".concat(m/2,"px"),right:"".concat(v/2,"px")},className:R()((t={"react-page-row-is-hovering-this":Boolean(c)},t["react-page-row-is-hovering-".concat(c||"")]=Boolean(c),t))}),u.map((function(e,t){var n=e.offset,o=e.id,l=e.size,i=e.maxSize;return r.createElement(qe,{key:o,isLast:t===u.length-1,rowWidth:a,nodeId:o,rowHasInlineChildrenPosition:d,offset:n,size:l,maxSize:i})}))))})),et=r.memo((function(){var e,t,n=(t=function(e){var t,n;return{rowIds:null!==(n=null===(t=null===e||void 0===e?void 0:e.rows)||void 0===t?void 0:t.map((function(e){return e.id})))&&void 0!==n?n:[]}},(0,d.v9)((function(e){return t((0,x.i5)(e))}),I.Z)).rowIds,o=(0,f.Fv)("childConstraints"),l=(0,f.Fv)("components"),i=(0,f.Z3)().y,a=!(null===o||void 0===o?void 0:o.maxChildren)||(null===o||void 0===o?void 0:o.maxChildren)>n.length,c=null!==(e=null===l||void 0===l?void 0:l.InsertNew)&&void 0!==e?e:A;return r.createElement(r.Fragment,null,n.length>0?r.createElement("div",{style:0!==i?{margin:"".concat(-i/2,"px 0")}:void 0},n.map((function(e){return r.createElement(Qe,{nodeId:e,key:e})}))):null,a?r.createElement(c,{childrenIds:n}):null)})),tt=r.memo((function(){var e,t=(0,u.iY)(),n=(0,r.useRef)(),o=g();w(n);var l=null===(e=n.current)||void 0===e?void 0:e.getBoundingClientRect(),i=window.innerHeight/2-(null===l||void 0===l?void 0:l.top),a=i/(null===l||void 0===l?void 0:l.height),c=50*(1-o),d=c+"%",s=100-c+"%",f=c*a*2+"%",v=100-c*(1-a)*2+"%";return r.createElement("div",{ref:n,style:{position:"relative"}},r.createElement("div",{style:{opacity:o<1?1:0,position:"absolute",top:0,left:0,right:0,bottom:0,transition:"0.6s",clipPath:"polygon(0% 0%, 0% 100%, ".concat(d," 100%, ").concat(d," ").concat(f,", ").concat(s," ").concat(f,", ").concat(s," ").concat(v,", ").concat(d," ").concat(v,", ").concat(d," 100%, 100% 100%, 100% 0%)"),background:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16  ' viewBox='0 0 8 8'%3E%3Cg fill='%23c5c5c5' fill-opacity='0.4'%3E%3Cpath fill-rule='evenodd' d='M0 0h4v4H0V0zm4 4h4v4H4V4z'/%3E%3C/g%3E%3C/svg%3E\")"}}),r.createElement("div",{style:{transformOrigin:"center ".concat(i,"px"),transform:"scale(".concat(o,")"),transition:"0.6s"},className:"react-page-editable react-page-editable-mode-"+t},r.createElement(et,null)))})),nt=r.memo((function(){return r.createElement(c,null,r.createElement(tt,null))})),rt=n(71236),ot=n(24832),lt=n(20879),it=n(40033),at=n(92795),ct=function(){var e=(0,d.I0)();return(0,r.useCallback)((function(){return e({type:at.MF.UNDO})}),[e])},ut=function(){var e=(0,d.I0)();return(0,r.useCallback)((function(){return e({type:at.MF.REDO})}),[e])},dt=function(e,t,n,r){return new(n||(n=Promise))((function(o,l){function i(e){try{c(r.next(e))}catch(t){l(t)}}function a(e){try{c(r.throw(e))}catch(t){l(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},st=function(e,t){var n,r,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function a(l){return function(a){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(a){l=[6,a],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,a])}}},ft=null,vt=function(e){var t=e.focusRef,n=(0,f.Eh)(),o=ct(),a=ut(),c=(0,u.N6)(),d=(0,u.CG)(),s=(0,l.VV)(),v=(0,ae.lp)(),m=v.length>0,p=(0,ae.sq)(),g=(0,i.gG)(p),h=(0,i.Ks)(g),y=(0,l.Xc)(),b=(0,l.$V)(),E=(0,l.G7)(),w=(0,u.Wb)(),C=(0,u.XM)(),A=(0,r.useCallback)((function(e,t,r,o){return dt(void 0,void 0,void 0,(function(){var l,i,a;return st(this,(function(c){switch(c.label){case 0:l=n.getNode(t),i=h.find((function(e){var t;return e.id===(null===(t=null===l||void 0===l?void 0:l.plugin)||void 0===t?void 0:t.id)})),c.label=1;case 1:return c.trys.push([1,5,,6]),d&&l&&i[r]?[4,i[r](e,l)]:[3,3];case 2:c.sent(),c.label=3;case 3:return[4,o(e,l)];case 4:return c.sent(),[3,6];case 5:return(a=c.sent())&&console.error(a),[3,6];case 6:return[2]}}))}))}),[n,d]),x=(0,r.useMemo)((function(){var e=function(e){var t,r;if(void 0===e&&(e=!1),"Range"!==(null===(r=window.getSelection())||void 0===r?void 0:r.type)&&(null===v||void 0===v?void 0:v.length)>0){var o=(0,lt.n)(n,v),l=(0,it.C)(o),i="text/plain",a=new Blob([JSON.stringify(l)],{type:i}),c=[new ClipboardItem((t={},t[i]=a,t))];navigator.clipboard.write(c),e&&b(v)}};return[{hotkeys:["Escape"],handler:function(){m&&s(),w&&C()}},{hotkeys:["mod+z"],handler:function(){o()}},{hotkeys:["mod+c"],handler:function(){e(!1)}},{hotkeys:["mod+x"],handler:function(){e(!0)}},{hotkeys:["mod+v"],handler:function(){return dt(void 0,void 0,void 0,(function(){var e,t,r,o,l;return st(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=(t=JSON).parse,[4,navigator.clipboard.readText()];case 1:return e=r.apply(t,[i.sent()]),(0,ot.G)(e)&&(o=v.length>0?(0,lt.n)(n,v):null,l=o?(0,k.j)(o)?1===o.cells.length?o.cells[0].id:o.id:o.rows[o.rows.length-1].id:null,E(e,l)),[3,3];case 2:return i.sent(),[3,3];case 3:return[2]}}))}))}},{hotkeys:["ctrl+shift+z","ctrl+y","command+shift+z","command+y"],handler:function(){a()}},{hotkeys:["alt+del","alt+backspace"],handler:function(e){A(e,p,"handleRemoveHotKey",(function(){b(v)}))}}]}),[p,v,m,s,y,b,C,c]);return(0,r.useEffect)((function(){ft=t.current;var e=function(e){if(ft===t.current){var n=x.find((function(t){return t.hotkeys.some((function(t){return(0,rt.ZP)(t,e)}))}));null===n||void 0===n||n.handler(e)}};document.addEventListener("keydown",e);var n=function(){ft=t.current};return t.current.addEventListener("click",n),t.current.addEventListener("mouseenter",n),function(){var r,o;document.removeEventListener("keydown",e),null===(r=t.current)||void 0===r||r.removeEventListener("mouseenter",n),null===(o=t.current)||void 0===o||o.removeEventListener("click",n),ft===t.current&&(ft=null)}}),[x,m,d,t]),null},mt=n(30313),pt=n(95362),gt=function(e){var t=e.children,n=(0,f.Fv)("dndBackend");return r.createElement(pt.W,{backend:n},t)};var ht=function(e){var t=e.children,n=function(e){var t=e.defaultMode,n=void 0===t?s.kH:t,o=e.disabled,i=r.useRef(),a=(0,l.VV)(),c=(0,u.r8)(),d=(0,u.Wb)();return(0,r.useEffect)((function(){if(!o&&i.current&&(document||document.body)){var e=function(e){(function(e,t){if(!e)return!1;for(var n=function(e){for(var t in e)if(t.startsWith("__reactInternalInstance$")||t.startsWith("__reactFiber$"))return e[t];return null}(t);n;){if(n.stateNode===e)return!0;n=n.return}return!1})(i.current,e.target)||(a(),d&&c(n))};return document.body.addEventListener("mousedown",e),function(){document.body.removeEventListener("mousedown",e)}}}),[i.current,o,d,c,a]),i}({defaultMode:(0,f.Fv)("blurGateDefaultMode"),disabled:(0,f.Fv)("blurGateDisabled")});return r.createElement("div",{ref:n},t)},yt=(0,r.createContext)({}),bt=function(e){var t=(0,r.useContext)(yt)[e],n=(0,r.useRef)(t);return n.current!==t&&(n.current=t),n.current},Et=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},wt=function(e){var t=e.children,n=Et(e,["children"]),o=(0,r.useRef)();return!!o.current&&(0,I.Z)(o.current,n)||(o.current=n),r.createElement(yt.Provider,{value:o.current},t)},Ct=n(97074),At=n(68658),xt=n(57615),It=function(){return It=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},It.apply(this,arguments)},Ot=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Rt=function(e,t){return It(It({},e),{cells:e.cells.map((function(e){return Ht(e,t)}))})},Ht=function(e,t){var n,r=e.plugin,o=r?t.find((function(e){return e.id===r.id})):null,l=e.dataI18n?Object.keys(e.dataI18n).reduce((function(t,n){var r,l,i;return It(It({},t),((r={})[n]=(i=null===(l=e.dataI18n)||void 0===l?void 0:l[n],(null===o||void 0===o?void 0:o.serialize)?o.serialize(i):i),r))}),{}):null;return It(It({},e),{rows:null===(n=e.rows)||void 0===n?void 0:n.map((function(e){return Rt(e,t)})),dataI18n:l})},kt=n(25489),Lt=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,l=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(o)throw o.error}}return i},St=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,l=t.length;o<l;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Pt=function(e){var t=e.children,n=e.lang,o=e.value,l=(0,At.ZG)("cellPlugins"),i=(0,f.Fv)("middleware"),a=bt("onChangeLang"),c=bt("onChange"),u=(0,f.Fv)("store"),s=(0,r.useMemo)((function(){return new mt.ZP({initialState:(0,kt.E3)((0,xt.k)(o,{cellPlugins:l,lang:n}),n),store:u,middleware:i})}),St([u],Lt(i),!1)),v=(0,r.useRef)(o);return(0,r.useEffect)((function(){var e=n,t=s.store.subscribe((function(){var t=s.store.getState().reactPage.settings.lang;if(t===e&&t===n||(e=t,null===a||void 0===a||a(t)),c){var r=s.store.getState().reactPage.values.present;if(r){var o=function(e,t){var n=e.rows,r=Ot(e,["rows"]);return It(It({},r),{rows:n.map((function(e){return Rt(e,t)}))})}(r,l);(0,I.Z)(v.current,o)||(v.current=o,c(o))}}}));return function(){t()}}),[s,c,l]),(0,r.useEffect)((function(){if(!(0,I.Z)(o,v.current)){v.current=o;var e=(0,xt.k)(o,{cellPlugins:l,lang:n});s.store.dispatch((0,Ct.s)(e))}}),[o,l,n]),(0,r.useEffect)((function(){s.setLang(n)}),[s,n]),r.createElement(d.m$,{store:s.store},r.createElement(mt.rU.Provider,{value:s},t))},Bt=n(57001),jt=function(){return jt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},jt.apply(this,arguments)},Zt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Nt=function(e){var t=e.children,n=Zt(e,["children"]),o=(0,r.useRef)(),l=jt(jt({},Bt.W),n);return!!o.current&&(0,I.Z)(o.current,l)||(o.current=l),r.createElement(f.jI.Provider,{value:o.current},t)},Wt=function(){return Wt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Wt.apply(this,arguments)},Ft=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},zt=function(e){var t=e.children,n=Ft(e,["children"]),o=(0,r.useRef)(),l=Wt(Wt({},Bt.t),n);return!!o.current&&(0,I.Z)(o.current,l)||(o.current=l),r.createElement(At.cu.Provider,{value:o.current},t)},Dt=function(){return Dt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Dt.apply(this,arguments)},Mt=function(e){var t=e.lang,n=e.value,o=e.children,l=void 0===o?[]:o,i=e.renderOptions,a=e.callbacks,c=e.options;return r.createElement(Nt,Dt({},c),r.createElement(zt,Dt({},i),r.createElement(wt,Dt({},a),r.createElement(gt,null,r.createElement(Pt,{lang:t,value:n},r.createElement(ht,null,l))))))},Tt=n(75773),Xt=n(80396),Gt=n(50755),Kt=n(53332),Vt=n(44920),Ut=n(20919),_t=n(29721),qt=n(83864),Yt=n(57299),Jt=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,l=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(o)throw o.error}}return i},$t=function(e){var t=e.insert,n=e.children,o=(0,u.dH)(),l=Jt((0,ue.c)({type:"cell",item:function(){return o(),{cell:t}},collect:function(e){return{isDragging:e.isDragging()}}}),3),i=l[0].isDragging,a=l[1],c=l[2],d=R()({"react-page-toolbar-draggable-is-dragged":i},"react-page-toolbar-draggable");return r.createElement("div",{className:d,ref:a},r.createElement(de.h,{connect:c,src:fe}),n)},Qt=function(e){var t,n=e.plugin,o=e.insert,i=null!==(t=n.title)&&void 0!==t?t:n.text,a=(0,f.WW)().t;if(!n.icon&&!i)return null;var c=(0,u.iu)(),d=(0,l.xe)(c),s=r.useCallback((function(){return d(o)}),[d,c,o]);return r.createElement($t,{insert:o},r.createElement(Kt.Z,{title:a("Click to add or drag and drop it somewhere on your page!"),className:"react-page-plugin-drawer-item",onClick:s},r.createElement(qt.Z,{children:n.icon||i[0],style:{marginRight:16}}),r.createElement(Yt.Z,{primary:a(i),secondary:a(n.description)})))},en=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,l=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(o)throw o.error}}return i},tn=r.memo((function(){var e={noPluginFoundContent:"No blocks found",searchPlaceholder:"Search for blocks",insertPlugin:"Add blocks to page",dragMe:"Drag me!"},t=(0,u.iu)(),n=(0,i.Ks)(t),o=(0,f.WW)().t,l=en(r.useState(""),2),a=l[0],c=l[1],d=r.useCallback((function(e){var t=e.id,n=function(e){var t;return null!==(t=e.title||e.text)&&void 0!==t?t:""}(e);return e&&t&&!e.hideInMenu&&(t.toLowerCase().startsWith(null===a||void 0===a?void 0:a.toLowerCase())||e.description&&e.description.toLowerCase().startsWith(null===a||void 0===a?void 0:a.toLowerCase())||n&&n.toLowerCase().startsWith(null===a||void 0===a?void 0:a.toLowerCase()))}),[a]),s=r.useCallback((function(e){var t=e.target;t instanceof HTMLInputElement&&c(t.value)}),[c]),v=(0,u.Wb)(),m=r.useRef();r.useEffect((function(){var e;return m.current&&v&&(e=setTimeout((function(){var e=m.current.querySelector("input");e&&e.focus()}),100)),function(){clearTimeout(e)}}),[m.current,v]);var p=n.filter(d);return r.createElement(_t.Z,null,r.createElement(Xt.ZP,{variant:"persistent",className:"react-page-plugin-drawer",open:v,PaperProps:{style:{width:320}}},r.createElement(Gt.Z,{subheader:r.createElement(Vt.Z,null,o(e.insertPlugin))},r.createElement(Kt.Z,null,r.createElement(Ut.Z,{inputRef:m,placeholder:o(e.searchPlaceholder),fullWidth:!0,onChange:s})),0===p.length&&r.createElement(Vt.Z,null,o(e.noPluginFoundContent))),p.length>0&&r.createElement(Gt.Z,null,p.map((function(t,n){return r.createElement(Qt,{translations:e,plugin:t,key:n.toString(),insert:{plugin:t.id}})})))))})),nn=n(32883),rn=n(40458),on=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,l=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(o)throw o.error}}return i},ln=r.memo((function(){var e=(0,u.gX)(),t=on((0,l.ux)(),2),n=t[0].isHovering,o=t[1];return r.createElement("div",{ref:o,className:R()("react-page-controls-trash",{"react-page-controls-trash-active":e})},r.createElement(nn.Z,{color:"secondary",disabled:!n},r.createElement(rn.Z,null)))})),an=n(52894),cn=n(80458),un=function(){return un=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},un.apply(this,arguments)},dn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},sn=function(e){var t=e.description,n=e.icon,o=e.onClick,l=e.active,i=e.disabled,a=e.activeColor,c=void 0===a?"secondary":a,u=e.style,d=dn(e,["description","icon","onClick","active","disabled","activeColor","style"]),s=(0,cn.D)();return r.createElement("div",{className:"react-page-controls-mode-toggle-button",style:u},r.createElement("div",{className:"react-page-controls-mode-toggle-button-inner"},r.createElement(nn.Z,un({color:l?c:"default",size:s?"small":"large",onClick:o,disabled:i},d),n)),r.createElement("div",{className:"react-page-controls-mode-toggle-button-description"},t))},fn=r.memo((function(e){var t=e.label,n=(0,u.CG)(),o=(0,u.XM)();return r.createElement(sn,{icon:r.createElement(an.Z,null),description:t,active:n,onClick:o})})),vn=n(96341),mn=r.memo((function(e){var t=e.label,n=(0,u.Wb)(),o=(0,u.N6)();return r.createElement(sn,{icon:r.createElement(vn.Z,null),description:t,active:n,onClick:o})})),pn=n(9094),gn=r.memo((function(e){var t=e.label,n=(0,u.gX)(),o=(0,u.dH)();return r.createElement(sn,{icon:r.createElement(pn.Z,null),description:t,active:n,onClick:o})})),hn=n(80338),yn=r.memo((function(e){var t=e.label,n=(0,u.x8)(),o=(0,u.fe)();return r.createElement(sn,{icon:r.createElement(hn.Z,null),description:t,active:n,onClick:o})})),bn=n(52385),En=r.memo((function(e){var t=(0,u.rv)(),n=(0,u.$s)();return r.createElement(sn,{icon:r.createElement(bn.Z,null),description:e.label,active:t,onClick:n})})),wn=n(45794),Cn=n(72409),An=r.memo((function(e){var t=e.labelUndo,n=e.labelRedo,o=ct(),l=(0,d.v9)((function(e){return e.reactPage.values.past.length>0})),i=(0,d.v9)((function(e){return e.reactPage.values.future.length>0})),a=ut(),c=(0,cn.D)();return r.createElement("div",{style:{height:c?56:80,float:"right",display:"flex",direction:"ltr",transform:"scale(1.2)"}},r.createElement("div",{style:{width:c?29:36,overflow:"hidden",marginRight:c?1:2}},r.createElement(sn,{active:!0,disabled:!l,style:{transform:"translateX(".concat(c?27:35,"px)")},icon:r.createElement(Cn.Z,{style:{transform:"translateX(-".concat(c?6:12,"px)")}}),description:t,onClick:o,activeColor:"primary"})),r.createElement("div",{style:{width:c?28:36,overflow:"hidden",marginLeft:1}},r.createElement(sn,{style:{position:"relative",transform:"translateX(1px)"},active:!0,disabled:!i,icon:r.createElement(wn.Z,{style:{transform:"translateX(".concat(c?6:12,"px)")}}),description:n,onClick:a,activeColor:"primary"})))})),xn=n(41857),In=n(1532),On=r.memo((function(e){var t=e.labelZoomIn,n=e.labelZoomOut,o=function(){var e=g();return(0,f.Fv)("zoomFactors").some((function(t){return t>e}))}(),l=function(){var e=g();return(0,f.Fv)("zoomFactors").some((function(t){return t<e}))}(),i=function(){var e=g(),t=(0,f.Fv)("zoomFactors"),n=p();return(0,r.useCallback)((function(){var r=t.find((function(t){return t<e}));r&&n(r)}),[e,n,t])}(),a=function(){var e=g(),t=p(),n=(0,f.Fv)("zoomFactors");return(0,r.useCallback)((function(){var r=m([],v(n),!1).reverse().find((function(t){return t>e}));r&&t(r)}),[e,t,n])}(),c=(0,cn.D)();return r.createElement("div",{style:{height:c?56:80,float:"right",display:"flex",direction:"ltr",transform:"scale(1.2)"}},r.createElement("div",{style:{width:c?29:36,overflow:"hidden",marginRight:c?1:2}},r.createElement(sn,{active:!0,disabled:!o,style:{transform:"translateX(".concat(c?27:35,"px)")},icon:r.createElement(In.Z,{style:{transform:"translateX(-".concat(c?6:12,"px)")}}),description:t,onClick:a,activeColor:"default"})),r.createElement("div",{style:{width:c?28:36,overflow:"hidden",marginLeft:1}},r.createElement(sn,{style:{position:"relative",transform:"translateX(1px)"},active:!0,disabled:!l,icon:r.createElement(xn.Z,{style:{transform:"translateX(".concat(c?6:12,"px)")}}),description:n,onClick:i,activeColor:"default"})))})),Rn=function(){return Rn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Rn.apply(this,arguments)},Hn=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,l=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(o)throw o.error}}return i},kn=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,l=t.length;o<l;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Ln=function(e){var t,n=e.stickyNess,o=(0,f.WW)().t,l=(0,f.Fv)("zoomEnabled"),i=(0,f.Fv)("undoRedoEnabled"),a=(0,f.Fv)("editEnabled"),c=(0,f.Fv)("insertEnabled"),u=(0,f.Fv)("layoutEnabled"),d=(0,f.Fv)("resizeEnabled"),s=(0,f.Fv)("previewEnabled"),v="Edit blocks",m="Add blocks",p="Move blocks",g="Resize blocks",h="Preview page",y=(0,f.Fv)("customOptions"),b=kn([i?{action:r.createElement(An,{labelRedo:"redo",labelUndo:"undo"})}:null,l?{action:r.createElement(On,{labelZoomIn:"zoom in",labelZoomOut:"zoom out"})}:null,a?{action:r.createElement(fn,{label:o(v)})}:null,c?{action:r.createElement(mn,{label:o(m)})}:null,u?{action:r.createElement(gn,{label:o(p)})}:null,d?{action:r.createElement(En,{label:o(g)})}:null,s?{action:r.createElement(yn,{label:o(h)})}:null],Hn(y.map((function(e){return{action:e}}))),!1).filter(Boolean);return r.createElement("div",{className:"react-page-controls-mode-toggle-control-group",style:Rn({position:"fixed",zIndex:10001,bottom:0,right:0,display:"flex",maxHeight:"100%"},(t=n,t&&(t.shouldStickToBottom||t.shouldStickToTop)?{position:"absolute",bottom:t.shouldStickToBottom?0:"auto",top:t.shouldStickToTop?0:"auto",right:-t.rightOffset||0}:{position:"fixed",right:t.rightOffsetFixed||0}))},r.createElement("div",{ref:n.stickyElRef,style:{padding:16,position:"relative",flexFlow:"column wrap",direction:"rtl",display:"flex"}},b.map((function(e,t){var n=e.action;return r.createElement("div",{key:t,className:"react-page-controls-mode-toggle-control",style:{animationDelay:150*(b.length-t)+"ms"}},n,r.createElement("div",{className:"react-page-controls-mode-toggle-clearfix"}))}))))},Sn=n(86877),Pn=n(54344),Bn=n(24813),jn=n(70),Zn=n(90547),Nn=function(){var e=(0,l.$V)(),t=(0,ae.lp)(),n=(0,f.WW)().t;return r.createElement(jn.ZP,{title:n("Remove all selected")},r.createElement(Zn.Z,{onClick:function(){return e(t)},"aria-label":"delete",color:"secondary"},r.createElement(rn.Z,null)))},Wn=n(13899),Fn=function(){var e=(0,l.Ij)(),t=(0,f.WW)().t,n=(0,ae.lp)();return r.createElement(jn.ZP,{title:t("Duplicate al")},r.createElement(Zn.Z,{onClick:function(){return e(n)},"aria-label":"delete",color:"default"},r.createElement(Wn.Z,null)))},zn=r.memo((function(){var e=(0,f.WW)().t,t=(0,ae.lp)();return r.createElement(Bn.p,{open:t.length>1,anchor:"bottom"},r.createElement(Sn.Z,{container:!0,direction:"row",alignItems:"center"},r.createElement(Sn.Z,{item:!0},r.createElement(qt.Z,{children:t.length,style:{marginRight:16}})),r.createElement(Sn.Z,{item:!0},r.createElement(Pn.Z,{variant:"subtitle1"},e("(multiple selected)"))),r.createElement(Sn.Z,{item:!0,style:{marginLeft:"auto"}},r.createElement(Fn,null)),r.createElement(Sn.Z,{item:!0},r.createElement(Nn,null))))})),Dn=r.memo((function(e){var t=e.stickyNess,n=void 0===t?{shouldStickToTop:!1,shouldStickToBottom:!1,rightOffset:0,rightOffsetFixed:0}:t,o=(0,f.Fv)("hideEditorSidebar");return r.createElement(Tt.f,null,r.createElement(ln,null),!o&&r.createElement(Ln,{stickyNess:n}),r.createElement(tn,null),r.createElement(zn,null))})),Mn=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,l=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(o)throw o.error}}return i},Tn=function(e){var t=e.children,o=r.createRef(),l=(0,f.Fv)("sidebarPosition"),i=r.createRef(),a=Mn((0,r.useState)(!1),2),c=a[0],u=a[1],d=Mn((0,r.useState)(!0),2),s=d[0],v=d[1],m=Mn((0,r.useState)(0),2),p=m[0],g=m[1],h=Mn((0,r.useState)(0),2),y=h[0],b=h[1];return r.useEffect((function(){var e=function(){var e,t,n,r,a,c,d,s;if(o.current){var f=o.current.getBoundingClientRect(),m=f.top,p=f.left,h=f.right,y=m+o.current.clientHeight;if("rightAbsolute"===l){var E=document.documentElement.clientWidth-p-o.current.clientWidth;g(E),b(0)}else if("rightRelative"===l){E=document.documentElement.clientWidth-p-o.current.clientWidth;var w=null===(e=i.current)||void 0===e?void 0:e.clientWidth,C=h+(null===(t=i.current)||void 0===t?void 0:t.clientWidth)>document.documentElement.clientWidth;g(C?E:w),b(C?0:document.documentElement.clientWidth-h-(null===(n=i.current)||void 0===n?void 0:n.clientWidth))}else if("leftRelative"===l){var A=-o.current.clientWidth,x=-o.current.clientWidth-p+(null!==(a=null===(r=i.current)||void 0===r?void 0:r.clientWidth)&&void 0!==a?a:100),I=h+A<i.current.clientWidth;g(I?x:A),b(document.documentElement.clientWidth-p)}else if("leftAbsolute"===l){console.warn("sidebarPosition leftAbsolute is currently buggy");x=-o.current.clientWidth-p+(null!==(d=null===(c=i.current)||void 0===c?void 0:c.clientWidth)&&void 0!==d?d:100);g(x),b(document.documentElement.clientWidth-(null===(s=i.current)||void 0===s?void 0:s.clientWidth))}var O=i.current?i.current.clientHeight:400;u(m>window.innerHeight-O),v(y<window.innerHeight)}};document.addEventListener("scroll",e),window.addEventListener("resize",e);var t=null;return n.g.IntersectionObserver&&(t=new IntersectionObserver(e),o.current&&t.observe(o.current)),e(),function(){document.removeEventListener("scroll",e),window.removeEventListener("resize",e),null===t||void 0===t||t.disconnect()}}),[o,i]),r.createElement("div",{style:{position:"relative"},ref:o},t({rightOffset:p,stickyElRef:i,focusRef:o,shouldStickToTop:c,shouldStickToBottom:s,rightOffsetFixed:y}))},Xn=function(e){var t=e.value,n=e.lang,o=e.children,l=e.options,i=e.renderOptions,a=e.callbacks,c=t||(0,mt.H2)();return r.createElement(Mt,{lang:n,callbacks:a,value:c,renderOptions:i,options:l},o,r.createElement(Tn,null,(function(e){return r.createElement(r.Fragment,null,r.createElement(vt,{focusRef:e.focusRef}),r.createElement(nt,null),r.createElement(Dn,{stickyNess:e}))})))}},44719:function(e,t,n){n.d(t,{NE:function(){return c},UE:function(){return u},lK:function(){return d}});var r=n(27378),o=n(80458),l=n(7256),i=n(62847),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)},c=(0,l.Z)((function(){return Promise.all([n.e(3477),n.e(8496),n.e(4576),n.e(919),n.e(1866),n.e(1847),n.e(4007),n.e(2852),n.e(5485)]).then(n.bind(n,5485))})),u=((0,l.Z)((function(){return Promise.all([n.e(3477),n.e(8496),n.e(4576),n.e(919),n.e(1866),n.e(1847),n.e(4007),n.e(2852),n.e(1268)]).then(n.bind(n,41268))})),(0,l.Z)((function(){return Promise.all([n.e(3477),n.e(8496),n.e(4576),n.e(919),n.e(1866),n.e(1847),n.e(4007),n.e(2852),n.e(4320)]).then(n.bind(n,74320))})));function d(e){var t=e.onChange,n=e.data,l=e.schema,d=e.columnCount,s=void 0===d?2:d,f=e.Content,v=(0,r.useMemo)((function(){return(0,i.Z)(l)}),[l]);(0,r.useEffect)((function(){var e=a(a({},function(e){return e.getSubfields().reduce((function(t,n){var r;return a(a({},t),((r={})[n]=e.getInitialValue(n),r))}),{})}(v)),null!==n&&void 0!==n?n:{});t(e)}),[v]);var m=(0,o.D)();return r.createElement(c,{model:n,autosave:!0,schema:v,onSubmit:t},f?r.createElement(f,{data:n,columnCount:s}):r.createElement("div",{style:{columnCount:m?1:s,columnRule:"1px solid #E0E0E0",columnGap:48}},r.createElement(u,{element:r.Fragment})))}},62847:function(e,t,n){var r=n(14498),o=n(17140),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)},i=new r.ZP({allErrors:!0,useDefaults:!0});i.addKeyword("uniforms"),t.Z=function(e){var t=l({type:"object"},e);return new o.j(t,function(e){var t=i.compile(e);return function(e){var n;if(t(e),t.errors&&t.errors.length)return(null===(n=t.errors)||void 0===n?void 0:n.length)?{details:t.errors}:null}}(t))}}}]);