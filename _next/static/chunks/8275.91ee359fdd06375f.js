(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8275,92],{31320:function(e,t,r){"use strict";function n(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function a(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function o(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r,n=getComputedStyle(e,null);return a(n.overflowY,t)||a(n.overflowX,t)||!!(r=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(t){return null}}(e))&&(r.clientHeight<e.scrollHeight||r.clientWidth<e.scrollWidth)}return!1}function i(e,t,r,n,a,o,i,s){return o<e&&i>t||o>e&&i<t?0:o<=e&&s<=r||i>=t&&s>=r?o-e-n:i>t&&s<r||o<e&&s>r?i-t+a:0}function s(e,t){var r=window,a=t.scrollMode,s=t.block,l=t.inline,d=t.boundary,c=t.skipOverflowHiddenElements,u="function"==typeof d?d:function(e){return e!==d};if(!n(e))throw TypeError("Invalid target");for(var f=document.scrollingElement||document.documentElement,p=[],v=e;n(v)&&u(v);){if((v=v.parentElement)===f){p.push(v);break}null!=v&&v===document.body&&o(v)&&!o(document.documentElement)||null!=v&&o(v,c)&&p.push(v)}for(var h=r.visualViewport?r.visualViewport.width:innerWidth,g=r.visualViewport?r.visualViewport.height:innerHeight,m=window.scrollX||pageXOffset,w=window.scrollY||pageYOffset,E=e.getBoundingClientRect(),b=E.height,y=E.width,k=E.top,C=E.right,D=E.bottom,O=E.left,x="start"===s||"nearest"===s?k:"end"===s?D:k+b/2,S="center"===l?O+y/2:"end"===l?C:O,P=[],R=0;R<p.length;R++){var F=p[R],M=F.getBoundingClientRect(),T=M.height,B=M.width,N=M.top,j=M.right,A=M.bottom,L=M.left;if("if-needed"===a&&k>=0&&O>=0&&D<=g&&C<=h&&k>=N&&D<=A&&O>=L&&C<=j)break;var W=getComputedStyle(F),I=parseInt(W.borderLeftWidth,10),U=parseInt(W.borderTopWidth,10),z=parseInt(W.borderRightWidth,10),_=parseInt(W.borderBottomWidth,10),V=0,q=0,K="offsetWidth"in F?F.offsetWidth-F.clientWidth-I-z:0,H="offsetHeight"in F?F.offsetHeight-F.clientHeight-U-_:0;if(f===F)V="start"===s?x:"end"===s?x-g:"nearest"===s?i(w,w+g,g,U,_,w+x,w+x+b,b):x-g/2,q="start"===l?S:"center"===l?S-h/2:"end"===l?S-h:i(m,m+h,h,I,z,m+S,m+S+y,y),V=Math.max(0,V+w),q=Math.max(0,q+m);else{V="start"===s?x-N-U:"end"===s?x-A+_+H:"nearest"===s?i(N,A,T,U,_+H,x,x+b,b):x-(N+T/2)+H/2,q="start"===l?S-L-I:"center"===l?S-(L+B/2)+K/2:"end"===l?S-j+z+K:i(L,j,B,I,z+K,S,S+y,y);var J=F.scrollLeft,X=F.scrollTop;x+=X-(V=Math.max(0,Math.min(X+V,F.scrollHeight-T+H))),S+=J-(q=Math.max(0,Math.min(J+q,F.scrollWidth-B+K)))}P.push({el:F,top:V,left:q})}return P}r.d(t,{Z:function(){return s}})},61242:function(e){"use strict";e.exports=function(e){return(e=String(e||""),n.test(e))?"rtl":a.test(e)?"ltr":"neutral"};var t="֑-߿יִ-﷽ﹰ-ﻼ",r="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",n=RegExp("^[^"+r+"]*["+t+"]"),a=RegExp("^[^"+t+"]*["+r+"]")},87222:function(e){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(a=n;0!=a--;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(a=n;0!=a--;)if(!Object.prototype.hasOwnProperty.call(r,o[a]))return!1;for(a=n;0!=a--;){var n,a,o,i=o[a];if(!e(t[i],r[i]))return!1}return!0}return t!=t&&r!=r}},28907:function(e,t,r){"use strict";function n(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(e){return"'"+e+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function a(e){return!!e&&!!e[z]}function o(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===_}(e)||Array.isArray(e)||!!e[U]||!!e.constructor[U]||c(e)||u(e))}function i(e,t,r){void 0===r&&(r=!1),0===s(e)?(r?Object.keys:V)(e).forEach(function(n){r&&"symbol"==typeof n||t(n,e[n],e)}):e.forEach(function(r,n){return t(n,r,e)})}function s(e){var t=e[z];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:c(e)?2:u(e)?3:0}function l(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function d(e,t,r){var n=s(e);2===n?e.set(t,r):3===n?(e.delete(t),e.add(r)):e[t]=r}function c(e){return A&&e instanceof Map}function u(e){return L&&e instanceof Set}function f(e){return e.o||e.t}function p(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=q(e);delete t[z];for(var r=V(t),n=0;n<r.length;n++){var a=r[n],o=t[a];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function v(e,t){return void 0===t&&(t=!1),g(e)||a(e)||!o(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=h),Object.freeze(e),t&&i(e,function(e,t){return v(t,!0)},!0)),e}function h(){n(2)}function g(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function m(e){var t=K[e];return t||n(18,e),t}function w(e,t){t&&(m("Patches"),e.u=[],e.s=[],e.v=t)}function E(e){b(e),e.p.forEach(k),e.p=null}function b(e){e===N&&(N=e.l)}function y(e){return N={p:[],l:N,h:e,m:!0,_:0}}function k(e){var t=e[z];0===t.i||1===t.i?t.j():t.O=!0}function C(e,t){t._=t.p.length;var r=t.p[0],a=void 0!==e&&e!==r;return t.h.g||m("ES5").S(t,e,a),a?(r[z].P&&(E(t),n(4)),o(e)&&(e=D(t,e),t.l||x(t,e)),t.u&&m("Patches").M(r[z],e,t.u,t.s)):e=D(t,r,[]),E(t),t.u&&t.v(t.u,t.s),e!==I?e:void 0}function D(e,t,r){if(g(t))return t;var n=t[z];if(!n)return i(t,function(a,o){return O(e,n,t,a,o,r)},!0),t;if(n.A!==e)return t;if(!n.P)return x(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var a=4===n.i||5===n.i?n.o=p(n.k):n.o;i(3===n.i?new Set(a):a,function(t,o){return O(e,n,a,t,o,r)}),x(e,a,!1),r&&e.u&&m("Patches").R(n,r,e.u,e.s)}return n.o}function O(e,t,r,n,i,s){if(a(i)){var c=D(e,i,s&&t&&3!==t.i&&!l(t.D,n)?s.concat(n):void 0);if(d(r,n,c),!a(c))return;e.m=!1}if(o(i)&&!g(i)){if(!e.h.F&&e._<1)return;D(e,i),t&&t.A.l||x(e,i)}}function x(e,t,r){void 0===r&&(r=!1),e.h.F&&e.m&&v(t,r)}function S(e,t){var r=e[z];return(r?f(r):e)[t]}function P(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function R(e){e.P||(e.P=!0,e.l&&R(e.l))}function F(e){e.o||(e.o=p(e.t))}function M(e,t,r){var n,a,o,i,s,l,d,f=c(t)?m("MapSet").N(t,r):u(t)?m("MapSet").T(t,r):e.g?(o=a={i:(n=Array.isArray(t))?1:0,A:r?r.A:N,P:!1,I:!1,D:{},l:r,t:t,k:null,o:null,j:null,C:!1},i=H,n&&(o=[a],i=J),l=(s=Proxy.revocable(o,i)).revoke,d=s.proxy,a.k=d,a.j=l,d):m("ES5").J(t,r);return(r?r.A:N).p.push(f),f}function T(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return p(e)}r.d(t,{P2:function(){return Y},Uy:function(){return $},_x:function(){return Z},mv:function(){return a}});var B,N,j="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),A="undefined"!=typeof Map,L="undefined"!=typeof Set,W="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,I=j?Symbol.for("immer-nothing"):((B={})["immer-nothing"]=!0,B),U=j?Symbol.for("immer-draftable"):"__$immer_draftable",z=j?Symbol.for("immer-state"):"__$immer_state",_=""+Object.prototype.constructor,V="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,q=Object.getOwnPropertyDescriptors||function(e){var t={};return V(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},K={},H={get:function(e,t){if(t===z)return e;var r,n,a=f(e);if(!l(a,t))return(n=P(a,t))?"value"in n?n.value:null===(r=n.get)||void 0===r?void 0:r.call(e.k):void 0;var i=a[t];return e.I||!o(i)?i:i===S(e.t,t)?(F(e),e.o[t]=M(e.A.h,i,e)):i},has:function(e,t){return t in f(e)},ownKeys:function(e){return Reflect.ownKeys(f(e))},set:function(e,t,r){var n=P(f(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var a=S(f(e),t),o=null==a?void 0:a[z];if(o&&o.t===r)return e.o[t]=r,e.D[t]=!1,!0;if((r===a?0!==r||1/r==1/a:r!=r&&a!=a)&&(void 0!==r||l(e.t,t)))return!0;F(e),R(e)}return e.o[t]===r&&"number"!=typeof r&&(void 0!==r||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==S(e.t,t)||t in e.t?(e.D[t]=!1,F(e),R(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=f(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){n(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){n(12)}},J={};i(H,function(e,t){J[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),J.deleteProperty=function(e,t){return H.deleteProperty.call(this,e[0],t)},J.set=function(e,t,r){return H.set.call(this,e[0],t,r,e[0])};var X=new(function(){function e(e){var t=this;this.g=W,this.F=!0,this.produce=function(e,r,a){if("function"==typeof e&&"function"!=typeof r){var i,s=r;return r=e,function(e){var n=this;void 0===e&&(e=s);for(var a=arguments.length,o=Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];return t.produce(e,function(e){var t;return(t=r).call.apply(t,[n,e].concat(o))})}}if("function"!=typeof r&&n(6),void 0!==a&&"function"!=typeof a&&n(7),o(e)){var l=y(t),d=M(t,e,void 0),c=!0;try{i=r(d),c=!1}finally{c?E(l):b(l)}return"undefined"!=typeof Promise&&i instanceof Promise?i.then(function(e){return w(l,a),C(e,l)},function(e){throw E(l),e}):(w(l,a),C(i,l))}if(!e||"object"!=typeof e){if((i=r(e))===I)return;return void 0===i&&(i=e),t.F&&v(i,!0),i}n(21,e)},this.produceWithPatches=function(e,r){var n,a;return"function"==typeof e?function(r){for(var n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return t.produceWithPatches(r,function(t){return e.apply(void 0,[t].concat(a))})}:[t.produce(e,r,function(e,t){n=e,a=t}),n,a]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){o(e)||n(8),a(e)&&(a(t=e)||n(22,t),e=function e(t){if(!o(t))return t;var r,n=t[z],a=s(t);if(n){if(!n.P&&(n.i<4||!m("ES5").K(n)))return n.t;n.I=!0,r=T(t,a),n.I=!1}else r=T(t,a);return i(r,function(t,a){var o;n&&(2===s(o=n.t)?o.get(t):o[t])===a||d(r,t,e(a))}),3===a?new Set(r):r}(t));var t,r=y(this),l=M(this,e,void 0);return l[z].C=!0,b(r),l},t.finishDraft=function(e,t){var r=(e&&e[z]).A;return w(r,t),C(void 0,r)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!W&&n(20),this.g=e},t.applyPatches=function(e,t){for(r=t.length-1;r>=0;r--){var r,n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}var o=m("Patches").$;return a(e)?o(e,t):this.produce(e,function(e){return o(e,t.slice(r+1))})},e}()),$=X.produce,Y=(X.produceWithPatches.bind(X),X.setAutoFreeze.bind(X),X.setUseProxies.bind(X),X.applyPatches.bind(X),X.createDraft.bind(X)),Z=X.finishDraft.bind(X)},96539:function(e,t,r){var n=r(77400).Symbol;e.exports=n},99736:function(e,t,r){var n=r(96539),a=r(34840),o=r(21258),i=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},74833:function(e,t,r){var n=r(56127),a=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(a,""):e}},39120:function(e,t,r){var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},34840:function(e,t,r){var n=r(96539),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(a){}var l=i.call(e);return n&&(t?e[s]=r:delete e[s]),l}},21258:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},77400:function(e,t,r){var n=r(39120),a="object"==typeof self&&self&&self.Object===Object&&self,o=n||a||Function("return this")();e.exports=o},56127:function(e){var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},66726:function(e,t,r){var n=r(11611),a=r(82846),o=r(91936),i=Math.max,s=Math.min;e.exports=function(e,t,r){var l,d,c,u,f,p,v=0,h=!1,g=!1,m=!0;if("function"!=typeof e)throw TypeError("Expected a function");function w(t){var r=l,n=d;return l=d=void 0,v=t,u=e.apply(n,r)}function E(e){var r=e-p,n=e-v;return void 0===p||r>=t||r<0||g&&n>=c}function b(){var e,r,n,o=a();if(E(o))return y(o);f=setTimeout(b,(e=o-p,r=o-v,n=t-e,g?s(n,c-r):n))}function y(e){return(f=void 0,m&&l)?w(e):(l=d=void 0,u)}function k(){var e,r=a(),n=E(r);if(l=arguments,d=this,p=r,n){if(void 0===f)return v=e=p,f=setTimeout(b,t),h?w(e):u;if(g)return clearTimeout(f),f=setTimeout(b,t),w(p)}return void 0===f&&(f=setTimeout(b,t)),u}return t=o(t)||0,n(r)&&(h=!!r.leading,c=(g="maxWait"in r)?i(o(r.maxWait)||0,t):c,m="trailing"in r?!!r.trailing:m),k.cancel=function(){void 0!==f&&clearTimeout(f),v=0,l=p=d=f=void 0},k.flush=function(){return void 0===f?u:y(a())},k}},11611:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},92360:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},55193:function(e,t,r){var n=r(99736),a=r(92360);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==n(e)}},82846:function(e,t,r){var n=r(77400);e.exports=function(){return n.Date.now()}},19783:function(e,t,r){var n=r(66726),a=r(11611);e.exports=function(e,t,r){var o=!0,i=!0;if("function"!=typeof e)throw TypeError("Expected a function");return a(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),n(e,t,{leading:o,maxWait:t,trailing:i})}},91936:function(e,t,r){var n=r(74833),a=r(11611),o=r(55193),i=0/0,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,d=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return i;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=l.test(e);return r||d.test(e)?c(e.slice(2),r?2:8):s.test(e)?i:+e}},78895:function(e,t,r){"use strict";r.d(t,{CX:function(){return tE},F3:function(){return e8},mH:function(){return tp},UE:function(){return tc},vt:function(){return eg},ui:function(){return ex},_7:function(){return ev},BU:function(){return tm}});var n=r(27378),a=r(85912),o=r(61242),i=r.n(o),s=r(66726),l=r.n(s),d=r(19783),c=r.n(d),u=r(31320);function f(e){return e===Object(e)&&0!==Object.keys(e).length}var p=function(e,t){var r=!e.ownerDocument.documentElement.contains(e);if(f(t)&&"function"==typeof t.behavior)return t.behavior(r?[]:(0,u.Z)(e,t));if(!r){var n=!1===t?{block:"end",inline:"nearest"}:f(t)?t:{block:"start",inline:"nearest"};return function(e,t){void 0===t&&(t="auto");var r="scrollBehavior"in document.body.style;e.forEach(function(e){var n=e.el,a=e.top,o=e.left;n.scroll&&r?n.scroll({top:a,left:o,behavior:t}):(n.scrollTop=a,n.scrollLeft=o)})}((0,u.Z)(e,n),n.behavior)}},v=r(10685),h=r(31542);function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var w=parseInt(n.version.split(".")[0],10)>=17,E="undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,b="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),y="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent),k="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),C="undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),D="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),O="undefined"!=typeof navigator&&/Chrome/i.test(navigator.userAgent),x="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),S="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),P="undefined"!=typeof navigator&&/.*QQBrowser/.test(navigator.userAgent),R="undefined"!=typeof navigator&&/.*UCBrowser/.test(navigator.userAgent),F="undefined"!=typeof navigator&&/.*Wechat/.test(navigator.userAgent),M=!!("undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement),T=!x&&!D&&"undefined"!=typeof globalThis&&globalThis.InputEvent&&"function"==typeof globalThis.InputEvent.prototype.getTargetRanges,B=M?n.useLayoutEffect:n.useEffect,N=e=>{var{isLast:t,leaf:r,parent:o,text:i}=e,s=ev(),l=e8.findPath(s,i),d=a.Path.parent(l);return s.isVoid(o)?n.createElement(A,{length:a.Node.string(o).length}):""!==r.text||o.children[o.children.length-1]!==i||s.isInline(o)||""!==a.Editor.string(s,d)?""===r.text?n.createElement(A,null):t&&"\n"===r.text.slice(-1)?n.createElement(j,{isTrailing:!0,text:r.text}):n.createElement(j,{text:r.text}):n.createElement(A,{isLineBreak:!0})},j=e=>{var{text:t,isTrailing:r=!1}=e,a=(0,n.useRef)(null),o=()=>"".concat(null!=t?t:"").concat(r?"\n":"");return(B(()=>{var e=o();a.current&&a.current.textContent!==e&&(a.current.textContent=e)}),a.current)?n.createElement("span",{"data-slate-string":!0,ref:a}):n.createElement("span",{"data-slate-string":!0,ref:a},o())},A=e=>{var{length:t=0,isLineBreak:r=!1}=e;return n.createElement("span",{"data-slate-zero-width":r?"n":"z","data-slate-length":t},"\uFEFF",r?n.createElement("br",null):null)},L=new WeakMap,W=new WeakMap,I=new WeakMap,U=new WeakMap,z=new WeakMap,_=new WeakMap,V=new WeakMap,q=new WeakMap,K=new WeakMap,H=new WeakMap,J=new WeakMap,X=new WeakMap,$=new WeakMap,Y=new WeakMap,Z=new WeakMap,Q=new WeakMap,G=Symbol("placeholder"),ee=e=>{var{leaf:t,isLast:r,text:a,parent:o,renderPlaceholder:i,renderLeaf:s=e=>n.createElement(er,Object.assign({},e))}=e,l=(0,n.useRef)(null);(0,n.useEffect)(()=>{var e=null==l?void 0:l.current,t=document.querySelector('[data-slate-editor="true"]');if(e&&t)return t.style.minHeight="".concat(e.clientHeight,"px"),()=>{t.style.minHeight="auto"}},[l,t]);var d=n.createElement(N,{isLast:r,leaf:t,parent:o,text:a});if(t[G]){var c={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none"},contentEditable:!1,ref:l}};d=n.createElement(n.Fragment,null,i(c),d)}return s({attributes:{"data-slate-leaf":!0},children:d,leaf:t,text:a})},et=n.memo(ee,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&a.Text.equals(t.leaf,e.leaf)&&t.leaf[G]===e.leaf[G]),er=e=>{var{attributes:t,children:r}=e;return n.createElement("span",Object.assign({},t),r)},en=["anchor","focus"],ea=["anchor","focus"],eo=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(r=>t.hasOwnProperty(r)&&e[r]===t[r]),ei=(e,t)=>{if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],o=t[r],i=m(n,en),s=m(o,ea);if(!a.Range.equals(n,o)||n[G]!==o[G]||!eo(i,s))return!1}return!0};function es(e){var t=(0,n.useRef)(0),r=(0,n.useRef)(null),[,a]=(0,n.useState)(0);return(0,n.useEffect)(()=>(Q.set(e,()=>{!r.current&&(r.current=requestAnimationFrame(()=>{a(e=>e+1),r.current=null}),t.current++)}),()=>{Q.delete(e)}),[e]),r.current&&(cancelAnimationFrame(r.current),r.current=null),t.current}var el=e=>{for(var{decorations:t,isLast:r,parent:o,renderPlaceholder:i,renderLeaf:s,text:l}=e,d=ev(),c=(0,n.useRef)(null),u=a.Text.decorations(l,t),f=e8.findKey(d,l),p=[],v=0;v<u.length;v++){var h=u[v];p.push(n.createElement(et,{isLast:r&&v===u.length-1,key:"".concat(f.id,"-").concat(v),renderPlaceholder:i,leaf:h,text:l,parent:o,renderLeaf:s}))}B(()=>{var e=q.get(d);c.current?(null==e||e.set(f,c.current),_.set(l,c.current),z.set(c.current,l)):(null==e||e.delete(f),_.delete(l))});var g=y?es(l):void 0;return n.createElement("span",{"data-slate-node":"text",ref:c,key:g},p)},ed=n.memo(el,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text&&ei(t.decorations,e.decorations)),ec=e=>{var{decorations:t,element:r,renderElement:o=e=>n.createElement(ef,Object.assign({},e)),renderPlaceholder:s,renderLeaf:l,selection:d}=e,c=(0,n.useRef)(null),u=ev(),f=eD(),p=u.isInline(r),v=e8.findKey(u,r),h=em({decorations:t,node:r,renderElement:o,renderPlaceholder:s,renderLeaf:l,selection:d}),g={"data-slate-node":"element",ref:c};if(p&&(g["data-slate-inline"]=!0),!p&&a.Editor.hasInlines(u,r)){var m=a.Node.string(r),w=i()(m);"rtl"===w&&(g.dir=w)}if(a.Editor.isVoid(u,r)){g["data-slate-void"]=!0,!f&&p&&(g.contentEditable=!1);var[[E]]=a.Node.texts(r);h=n.createElement(p?"span":"div",{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},n.createElement(ed,{renderPlaceholder:s,decorations:[],isLast:!1,parent:r,text:E})),L.set(E,0),W.set(E,r)}B(()=>{var e=q.get(u);c.current?(null==e||e.set(v,c.current),_.set(r,c.current),z.set(c.current,r)):(null==e||e.delete(v),_.delete(r))});var b=o({attributes:g,children:h,element:r});if(y){var k=es(r);return n.createElement(n.Fragment,{key:k},b)}return b},eu=n.memo(ec,(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&ei(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&a.Range.equals(e.selection,t.selection))),ef=e=>{var{attributes:t,children:r,element:a}=e,o=ev().isInline(a)?"span":"div";return n.createElement(o,Object.assign({},t,{style:{position:"relative"}}),r)},ep=(0,n.createContext)(null),ev=()=>{var e=(0,n.useContext)(ep);if(!e)throw Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},eh=(0,n.createContext)(!1),eg=()=>(0,n.useContext)(eh),em=e=>{for(var{decorations:t,node:r,renderElement:o,renderPlaceholder:i,renderLeaf:s,selection:l}=e,d=ev(),c=e8.findPath(d,r),u=[],f=a.Element.isElement(r)&&!d.isInline(r)&&a.Editor.hasInlines(d,r),p=0;p<r.children.length;p++)!function(e){var p=c.concat(e),v=r.children[e],h=e8.findKey(d,v),g=a.Editor.range(d,p),m=l&&a.Range.intersection(g,l),w=t.reduce((e,t)=>{var r=a.Range.intersection(t,g);return r&&e.push(r),e},[]);a.Element.isElement(v)?u.push(n.createElement(eh.Provider,{key:"provider-".concat(h.id),value:!!m},n.createElement(eu,{decorations:w,element:v,key:h.id,renderElement:o,renderPlaceholder:i,renderLeaf:s,selection:m}))):u.push(n.createElement(ed,{decorations:w,key:h.id,isLast:f&&e===r.children.length-1,parent:r,renderPlaceholder:i,renderLeaf:s,text:v})),L.set(v,e),W.set(v,r)}(p);return u},ew={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},eE={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},eb={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},ey=e=>{var t=ew[e],r=eE[e],n=eb[e],a=t&&(0,v.TB)(t),o=r&&(0,v.TB)(r),i=n&&(0,v.TB)(n);return e=>!!(a&&a(e)||b&&o&&o(e)||!b&&i&&i(e))},ek={isBold:ey("bold"),isCompose:ey("compose"),isMoveBackward:ey("moveBackward"),isMoveForward:ey("moveForward"),isDeleteBackward:ey("deleteBackward"),isDeleteForward:ey("deleteForward"),isDeleteLineBackward:ey("deleteLineBackward"),isDeleteLineForward:ey("deleteLineForward"),isDeleteWordBackward:ey("deleteWordBackward"),isDeleteWordForward:ey("deleteWordForward"),isExtendBackward:ey("extendBackward"),isExtendForward:ey("extendForward"),isExtendLineBackward:ey("extendLineBackward"),isExtendLineForward:ey("extendLineForward"),isItalic:ey("italic"),isMoveLineBackward:ey("moveLineBackward"),isMoveLineForward:ey("moveLineForward"),isMoveWordBackward:ey("moveWordBackward"),isMoveWordForward:ey("moveWordForward"),isRedo:ey("redo"),isSoftBreak:ey("insertSoftBreak"),isSplitBlock:ey("splitBlock"),isTransposeCharacter:ey("transposeCharacter"),isUndo:ey("undo")},eC=(0,n.createContext)(!1),eD=()=>(0,n.useContext)(eC),eO=(0,n.createContext)(null),ex=()=>{var e=(0,n.useContext)(eO);if(!e)throw Error("The `useSlate` hook must be used inside the <Slate> component's context.");var[t]=e;return t},eS=(0,n.createContext)(()=>[]),eP=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,eR=e=>eM(e)&&8===e.nodeType,eF=e=>eM(e)&&1===e.nodeType,eM=e=>{var t=eP(e);return!!t&&e instanceof t.Node},eT=e=>{var t=e&&e.anchorNode&&eP(e.anchorNode);return!!t&&e instanceof t.Selection},eB=e=>eM(e)&&3===e.nodeType,eN=e=>e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length,ej=e=>{var[t,r]=e;if(eF(t)&&t.childNodes.length){var n=r===t.childNodes.length,a=n?r-1:r;for([t,a]=eL(t,a,n?"backward":"forward"),n=a<r;eF(t)&&t.childNodes.length;){var o=n?t.childNodes.length-1:0;t=eW(t,o,n?"backward":"forward")}r=n&&null!=t.textContent?t.textContent.length:0}return[t,r]},eA=()=>!!(window.document.activeElement&&window.document.activeElement.shadowRoot),eL=(e,t,r)=>{for(var{childNodes:n}=e,a=n[t],o=t,i=!1,s=!1;(eR(a)||eF(a)&&0===a.childNodes.length||eF(a)&&"false"===a.getAttribute("contenteditable"))&&(!i||!s);){if(o>=n.length){i=!0,o=t-1,r="backward";continue}if(o<0){s=!0,o=t+1,r="forward";continue}a=n[o],t=o,o+="forward"===r?1:-1}return[a,t]},eW=(e,t,r)=>{var[n]=eL(e,t,r);return n},eI=e=>{var t="";if(eB(e)&&e.nodeValue)return e.nodeValue;if(eF(e)){for(var r of Array.from(e.childNodes))t+=eI(r);var n=getComputedStyle(e).getPropertyValue("display");("block"===n||"list"===n||"BR"===e.tagName)&&(t+="\n")}return t},eU=/data-slate-fragment="(.+?)"/m,ez=e=>{var[,t]=e.getData("text/html").match(eU)||[];return t},e_=e=>{if(!e.getData("application/x-slate-fragment")){var t=ez(e);if(t){var r=new DataTransfer;return e.types.forEach(t=>{r.setData(t,e.getData(t))}),r.setData("application/x-slate-fragment",t),r}}return e},eV=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as"];function eq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eK(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eq(Object(r),!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eH=e=>n.createElement(n.Fragment,null,em(e)),eJ=e=>{var{autoFocus:t,decorate:r=e$,onDOMBeforeInput:o,placeholder:s,readOnly:d=!1,renderElement:u,renderLeaf:f,renderPlaceholder:p=e=>n.createElement(eX,Object.assign({},e)),scrollSelectionIntoView:v=eY,style:h={},as:g="div"}=e,w=m(e,eV),b=ex(),[y,D]=(0,n.useState)(!1),x=(0,n.useRef)(null),N=(0,n.useRef)([]);K.set(b,d);var j=(0,n.useMemo)(()=>({hasInsertPrefixInCompositon:!1,isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null}),[]);B(()=>{x.current&&(e=eP(x.current))?(I.set(b,e),U.set(b,x.current),_.set(b,x.current),z.set(x.current,b)):_.delete(b);var e,{selection:t}=b,r=e8.findDocumentOrShadowRoot(b).getSelection();if(!e8.isComposing(b)&&r&&e8.isFocused(b)){var n="None"!==r.type;if(t||n){var o=U.get(b),i=!1;if(o.contains(r.anchorNode)&&o.contains(r.focusNode)&&(i=!0),n&&i&&t){var s=e8.toSlateRange(b,r,{exactMatch:!0,suppressThrow:!0});if(s&&a.Range.equals(s,t))return}if(t&&!e8.hasRange(b,t)){b.selection=e8.toSlateRange(b,r,{exactMatch:!1,suppressThrow:!1});return}j.isUpdatingSelection=!0;var l=t&&e8.toDOMRange(b,t);l?(a.Range.isBackward(t)?r.setBaseAndExtent(l.endContainer,l.endOffset,l.startContainer,l.startOffset):r.setBaseAndExtent(l.startContainer,l.startOffset,l.endContainer,l.endOffset),v(b,l)):r.removeAllRanges(),setTimeout(()=>{l&&k&&e8.toDOMNode(b,b).focus(),j.isUpdatingSelection=!1})}}}),(0,n.useEffect)(()=>{x.current&&t&&x.current.focus()},[t]);var A=(0,n.useCallback)(c()(()=>{if(!e8.isComposing(b)&&!j.isUpdatingSelection&&!j.isDraggingInternally){var e=e8.findDocumentOrShadowRoot(b),{activeElement:t}=e,r=e8.toDOMNode(b,b),n=e.getSelection();if(t===r?(j.latestElement=t,H.set(b,!0)):H.delete(b),!n)return a.Transforms.deselect(b);var{anchorNode:o,focusNode:i}=n,s=eQ(b,o)||eG(b,o),l=eQ(b,i)||eG(b,i);if(s&&l){var d=e8.toSlateRange(b,n,{exactMatch:!1,suppressThrow:!1});a.Transforms.select(b,d)}}},100),[d]),L=(0,n.useMemo)(()=>l()(A,0),[A]),W=(0,n.useCallback)(e=>{if(!d&&eQ(b,e.target)&&!e1(e,o)){L.flush(),A.flush();var{selection:t}=b,{inputType:r}=e,n=e.dataTransfer||e.data||void 0;if("insertCompositionText"!==r&&"deleteCompositionText"!==r){var i=!1;if("insertText"===r&&t&&a.Range.isCollapsed(t)&&e.data&&1===e.data.length&&/[a-z ]/i.test(e.data)&&0!==t.anchor.offset){i=!0,b.marks&&(i=!1);var{anchor:s}=t,[l,c]=e8.toDOMPoint(b,s),u=null===(p=l.parentElement)||void 0===p?void 0:p.closest("a");if(u&&e8.hasDOMNode(b,u)){var f,p,v,{document:h}=e8.getWindow(b),g=h.createTreeWalker(u,NodeFilter.SHOW_TEXT).lastChild();g===l&&(null===(v=g.textContent)||void 0===v?void 0:v.length)===c&&(i=!1)}}if(!r.startsWith("delete")||r.startsWith("deleteBy")){var[m]=e.getTargetRanges();if(m){var w=e8.toSlateRange(b,m,{exactMatch:!1,suppressThrow:!1});if(!t||!a.Range.equals(t,w)){i=!1;var E=b.selection&&a.Editor.rangeRef(b,b.selection);a.Transforms.select(b,w),E&&$.set(b,E)}}}if(i||e.preventDefault(),t&&a.Range.isExpanded(t)&&r.startsWith("delete")){var y=r.endsWith("Backward")?"backward":"forward";a.Editor.deleteFragment(b,{direction:y});return}switch(r){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":a.Editor.deleteFragment(b);break;case"deleteContent":case"deleteContentForward":a.Editor.deleteForward(b);break;case"deleteContentBackward":a.Editor.deleteBackward(b);break;case"deleteEntireSoftLine":a.Editor.deleteBackward(b,{unit:"line"}),a.Editor.deleteForward(b,{unit:"line"});break;case"deleteHardLineBackward":a.Editor.deleteBackward(b,{unit:"block"});break;case"deleteSoftLineBackward":a.Editor.deleteBackward(b,{unit:"line"});break;case"deleteHardLineForward":a.Editor.deleteForward(b,{unit:"block"});break;case"deleteSoftLineForward":a.Editor.deleteForward(b,{unit:"line"});break;case"deleteWordBackward":a.Editor.deleteBackward(b,{unit:"word"});break;case"deleteWordForward":a.Editor.deleteForward(b,{unit:"word"});break;case"insertLineBreak":a.Editor.insertSoftBreak(b);break;case"insertParagraph":a.Editor.insertBreak(b);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":var{selection:k}=b;k&&a.Range.isExpanded(k)&&a.Editor.deleteFragment(b),"insertFromComposition"===r&&e8.isComposing(b)&&(D(!1),J.set(b,!1)),(null==n?void 0:n.constructor.name)==="DataTransfer"?e8.insertData(b,n):"string"==typeof n&&(i?N.current.push(()=>a.Editor.insertText(b,n)):a.Editor.insertText(b,n))}var C=null===(f=$.get(b))||void 0===f?void 0:f.unref();$.delete(b),!C||b.selection&&a.Range.equals(b.selection,C)||a.Transforms.select(b,C)}}},[d,o]);B(()=>(x.current&&T&&x.current.addEventListener("beforeinput",W),()=>{x.current&&T&&x.current.removeEventListener("beforeinput",W)}),[W]),B(()=>{var e=e8.getWindow(b);return e.document.addEventListener("selectionchange",L),()=>{e.document.removeEventListener("selectionchange",L)}},[L]);var V=[...a.Node.nodes(b)].flatMap(e=>{var[t,n]=e;return r([t,n])});if(s&&1===b.children.length&&1===Array.from(a.Node.texts(b)).length&&""===a.Node.string(b)&&!y){var q=a.Editor.start(b,[]);V.push({[G]:!0,placeholder:s,anchor:q,focus:q})}return n.createElement(eC.Provider,{value:d},n.createElement(eS.Provider,{value:r},n.createElement(g,Object.assign({role:d?void 0:"textbox"},w,{spellCheck:(!!T||!M)&&w.spellCheck,autoCorrect:T||!M?w.autoCorrect:"false",autoCapitalize:T||!M?w.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!d,zindex:-1,suppressContentEditableWarning:!0,ref:x,style:eK({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},h),onBeforeInput:(0,n.useCallback)(e=>{if(!T&&!d&&!e0(e,w.onBeforeInput)&&eQ(b,e.target)&&(e.preventDefault(),!e8.isComposing(b))){var t=e.data;a.Editor.insertText(b,t)}},[d]),onInput:(0,n.useCallback)(e=>{for(var t of N.current)t();N.current=[]},[]),onBlur:(0,n.useCallback)(e=>{if(!(d||j.isUpdatingSelection||!eQ(b,e.target)||e0(e,w.onBlur))){var t=e8.findDocumentOrShadowRoot(b);if(j.latestElement!==t.activeElement){var{relatedTarget:r}=e;if(!(r===e8.toDOMNode(b,b)||eF(r)&&r.hasAttribute("data-slate-spacer"))){if(null!=r&&eM(r)&&e8.hasDOMNode(b,r)){var n=e8.toSlateNode(b,r);if(a.Element.isElement(n)&&!b.isVoid(n))return}if(C){var o=t.getSelection();null==o||o.removeAllRanges()}H.delete(b)}}}},[d,w.onBlur]),onClick:(0,n.useCallback)(e=>{if(eZ(b,e.target)&&!e0(e,w.onClick)&&eM(e.target)){var t=e8.toSlateNode(b,e.target),r=e8.findPath(b,t);if(a.Editor.hasPath(b,r)&&a.Node.get(b,r)===t){if(3===e.detail&&r.length>=1){var n=r;if(!a.Editor.isBlock(b,t)){var o,i=a.Editor.above(b,{match:e=>a.Editor.isBlock(b,e),at:r});n=null!==(o=null==i?void 0:i[1])&&void 0!==o?o:r.slice(0,1)}var s=a.Editor.range(b,n);a.Transforms.select(b,s);return}if(!d){var l=a.Editor.start(b,r),c=a.Editor.end(b,r),u=a.Editor.void(b,{at:l}),f=a.Editor.void(b,{at:c});if(u&&f&&a.Path.equals(u[1],f[1])){var p=a.Editor.range(b,l);a.Transforms.select(b,p)}}}}},[d,w.onClick]),onCompositionEnd:(0,n.useCallback)(e=>{if(eQ(b,e.target)&&!e0(e,w.onCompositionEnd)&&(e8.isComposing(b)&&(D(!1),J.set(b,!1)),C||S||E||P||F||R||!e.data||a.Editor.insertText(b,e.data),b.selection&&a.Range.isCollapsed(b.selection))){var t=b.selection.anchor.path,r=a.Node.leaf(b,t);j.hasInsertPrefixInCompositon&&(j.hasInsertPrefixInCompositon=!1,a.Editor.withoutNormalizing(b,()=>{var e=r.text.replace(/^\uFEFF/,"");a.Transforms.delete(b,{distance:r.text.length,reverse:!0}),a.Editor.insertText(b,e)}))}},[w.onCompositionEnd]),onCompositionUpdate:(0,n.useCallback)(e=>{!eQ(b,e.target)||e0(e,w.onCompositionUpdate)||e8.isComposing(b)||(D(!0),J.set(b,!0))},[w.onCompositionUpdate]),onCompositionStart:(0,n.useCallback)(e=>{if(eQ(b,e.target)&&!e0(e,w.onCompositionStart)){var{selection:t,marks:r}=b;if(t){if(a.Range.isExpanded(t)){a.Editor.deleteFragment(b);return}var n=a.Editor.above(b,{match:e=>a.Editor.isInline(b,e),mode:"highest"});if(n){var[,o]=n;if(a.Editor.isEnd(b,t.anchor,o)){var i=a.Editor.after(b,o);a.Transforms.setSelection(b,{anchor:i,focus:i})}}r&&(j.hasInsertPrefixInCompositon=!0,a.Transforms.insertNodes(b,eK({text:"\uFEFF"},r),{select:!0}))}}},[w.onCompositionStart]),onCopy:(0,n.useCallback)(e=>{eQ(b,e.target)&&!e0(e,w.onCopy)&&(e.preventDefault(),e8.setFragmentData(b,e.clipboardData,"copy"))},[w.onCopy]),onCut:(0,n.useCallback)(e=>{if(!d&&eQ(b,e.target)&&!e0(e,w.onCut)){e.preventDefault(),e8.setFragmentData(b,e.clipboardData,"cut");var{selection:t}=b;if(t){if(a.Range.isExpanded(t))a.Editor.deleteFragment(b);else{var r=a.Node.parent(b,t.anchor.path);a.Editor.isVoid(b,r)&&a.Transforms.delete(b)}}}},[d,w.onCut]),onDragOver:(0,n.useCallback)(e=>{if(eZ(b,e.target)&&!e0(e,w.onDragOver)){var t=e8.toSlateNode(b,e.target);a.Editor.isVoid(b,t)&&e.preventDefault()}},[w.onDragOver]),onDragStart:(0,n.useCallback)(e=>{if(!d&&eZ(b,e.target)&&!e0(e,w.onDragStart)){var t=e8.toSlateNode(b,e.target),r=e8.findPath(b,t);if(a.Editor.isVoid(b,t)||a.Editor.void(b,{at:r,voids:!0})){var n=a.Editor.range(b,r);a.Transforms.select(b,n)}j.isDraggingInternally=!0,e8.setFragmentData(b,e.dataTransfer,"drag")}},[d,w.onDragStart]),onDrop:(0,n.useCallback)(e=>{if(!d&&eZ(b,e.target)&&!e0(e,w.onDrop)){e.preventDefault();var t=b.selection,r=e8.findEventRange(b,e),n=e.dataTransfer;a.Transforms.select(b,r),j.isDraggingInternally&&t&&!a.Range.equals(t,r)&&!a.Editor.void(b,{at:r,voids:!0})&&a.Transforms.delete(b,{at:t}),e8.insertData(b,n),e8.isFocused(b)||e8.focus(b)}j.isDraggingInternally=!1},[d,w.onDrop]),onDragEnd:(0,n.useCallback)(e=>{!d&&j.isDraggingInternally&&w.onDragEnd&&eZ(b,e.target)&&w.onDragEnd(e),j.isDraggingInternally=!1},[d,w.onDragEnd]),onFocus:(0,n.useCallback)(e=>{if(!d&&!j.isUpdatingSelection&&eQ(b,e.target)&&!e0(e,w.onFocus)){var t=e8.toDOMNode(b,b),r=e8.findDocumentOrShadowRoot(b);if(j.latestElement=r.activeElement,k&&e.target!==t){t.focus();return}H.set(b,!0)}},[d,w.onFocus]),onKeyDown:(0,n.useCallback)(e=>{if(!d&&eQ(b,e.target)){var{nativeEvent:t}=e;if(e8.isComposing(b)&&!1===t.isComposing&&(J.set(b,!1),D(!1)),!(e0(e,w.onKeyDown)||e8.isComposing(b))){var{selection:r}=b,n=b.children[null!==r?r.focus.path[0]:0],o="rtl"===i()(a.Node.string(n));if(ek.isRedo(t)){e.preventDefault(),"function"==typeof b.redo&&b.redo();return}if(ek.isUndo(t)){e.preventDefault(),"function"==typeof b.undo&&b.undo();return}if(ek.isMoveLineBackward(t)){e.preventDefault(),a.Transforms.move(b,{unit:"line",reverse:!0});return}if(ek.isMoveLineForward(t)){e.preventDefault(),a.Transforms.move(b,{unit:"line"});return}if(ek.isExtendLineBackward(t)){e.preventDefault(),a.Transforms.move(b,{unit:"line",edge:"focus",reverse:!0});return}if(ek.isExtendLineForward(t)){e.preventDefault(),a.Transforms.move(b,{unit:"line",edge:"focus"});return}if(ek.isMoveBackward(t)){e.preventDefault(),r&&a.Range.isCollapsed(r)?a.Transforms.move(b,{reverse:!o}):a.Transforms.collapse(b,{edge:"start"});return}if(ek.isMoveForward(t)){e.preventDefault(),r&&a.Range.isCollapsed(r)?a.Transforms.move(b,{reverse:o}):a.Transforms.collapse(b,{edge:"end"});return}if(ek.isMoveWordBackward(t)){e.preventDefault(),r&&a.Range.isExpanded(r)&&a.Transforms.collapse(b,{edge:"focus"}),a.Transforms.move(b,{unit:"word",reverse:!o});return}if(ek.isMoveWordForward(t)){e.preventDefault(),r&&a.Range.isExpanded(r)&&a.Transforms.collapse(b,{edge:"focus"}),a.Transforms.move(b,{unit:"word",reverse:o});return}if(T){if((O||C)&&r&&(ek.isDeleteBackward(t)||ek.isDeleteForward(t))&&a.Range.isCollapsed(r)){var s=a.Node.parent(b,r.anchor.path);if(a.Element.isElement(s)&&a.Editor.isVoid(b,s)&&a.Editor.isInline(b,s)){e.preventDefault(),a.Editor.deleteBackward(b,{unit:"block"});return}}}else{if(ek.isBold(t)||ek.isItalic(t)||ek.isTransposeCharacter(t)){e.preventDefault();return}if(ek.isSoftBreak(t)){e.preventDefault(),a.Editor.insertSoftBreak(b);return}if(ek.isSplitBlock(t)){e.preventDefault(),a.Editor.insertBreak(b);return}if(ek.isDeleteBackward(t)){e.preventDefault(),r&&a.Range.isExpanded(r)?a.Editor.deleteFragment(b,{direction:"backward"}):a.Editor.deleteBackward(b);return}if(ek.isDeleteForward(t)){e.preventDefault(),r&&a.Range.isExpanded(r)?a.Editor.deleteFragment(b,{direction:"forward"}):a.Editor.deleteForward(b);return}if(ek.isDeleteLineBackward(t)){e.preventDefault(),r&&a.Range.isExpanded(r)?a.Editor.deleteFragment(b,{direction:"backward"}):a.Editor.deleteBackward(b,{unit:"line"});return}if(ek.isDeleteLineForward(t)){e.preventDefault(),r&&a.Range.isExpanded(r)?a.Editor.deleteFragment(b,{direction:"forward"}):a.Editor.deleteForward(b,{unit:"line"});return}if(ek.isDeleteWordBackward(t)){e.preventDefault(),r&&a.Range.isExpanded(r)?a.Editor.deleteFragment(b,{direction:"backward"}):a.Editor.deleteBackward(b,{unit:"word"});return}if(ek.isDeleteWordForward(t)){e.preventDefault(),r&&a.Range.isExpanded(r)?a.Editor.deleteFragment(b,{direction:"forward"}):a.Editor.deleteForward(b,{unit:"word"});return}}}}},[d,w.onKeyDown]),onPaste:(0,n.useCallback)(e=>{!d&&eQ(b,e.target)&&!e0(e,w.onPaste)&&(!T||eN(e.nativeEvent))&&(e.preventDefault(),e8.insertData(b,e.clipboardData))},[d,w.onPaste])}),n.createElement(eH,{decorations:V,node:b,renderElement:u,renderPlaceholder:p,renderLeaf:f,selection:b.selection}))))},eX=e=>{var{attributes:t,children:r}=e;return n.createElement("span",Object.assign({},t),r)},e$=()=>[],eY=(e,t)=>{if(!e.selection||e.selection&&a.Range.isCollapsed(e.selection)){var r=t.startContainer.parentElement;r.getBoundingClientRect=t.getBoundingClientRect.bind(t),p(r,{scrollMode:"if-needed"}),delete r.getBoundingClientRect}},eZ=(e,t)=>eM(t)&&e8.hasDOMNode(e,t),eQ=(e,t)=>eM(t)&&e8.hasDOMNode(e,t,{editable:!0}),eG=(e,t)=>{if(K.get(e))return!1;var r=eZ(e,t)&&e8.toSlateNode(e,t);return a.Editor.isVoid(e,r)},e0=(e,t)=>{if(!t)return!1;var r=t(e);return null!=r?r:e.isDefaultPrevented()||e.isPropagationStopped()},e1=(e,t)=>{if(!t)return!1;var r=t(e);return null!=r?r:e.defaultPrevented};function e2(e,t){return e.slice(t.start,e.length-t.end)}function e3(e,t,r){var{path:n,text:o}=r,i={anchor:{path:n,offset:o.start},focus:{path:n,offset:o.end}};if(!t||!a.Range.isCollapsed(t))return i;var{insertText:s,removeText:l}=o;if((1===s.length||1===l.length)&&a.Path.equals(t.anchor.path,n)){var[d]=Array.from(a.Editor.nodes(e,{at:t,match:a.Text.isText}));if(d){var[c]=d,{anchor:u}=t,f=c.text[u.offset-1],p=c.text[u.offset];if(1===s.length&&s===p)return t;if(1===l.length&&l===f)return{anchor:{path:n,offset:u.offset-1},focus:{path:n,offset:u.offset}}}}return i}var e9=0;class e6{constructor(){this.id="".concat(e9++)}}var e8={isComposing:e=>!!J.get(e),getWindow(e){var t=I.get(e);if(!t)throw Error("Unable to find a host window element for this editor");return t},findKey(e,t){var r=V.get(t);return r||(r=new e6,V.set(t,r)),r},findPath(e,t){for(var r=[],n=t;;){var o=W.get(n);if(null==o){if(a.Editor.isEditor(n))return r;break}var i=L.get(n);if(null==i)break;r.unshift(i),n=o}throw Error("Unable to find the path for Slate node: ".concat(JSON.stringify(t)))},findDocumentOrShadowRoot(e){var t=e8.toDOMNode(e,e),r=t.getRootNode();return(r instanceof Document||r instanceof ShadowRoot)&&null!=r.getSelection?r:t.ownerDocument},isFocused:e=>!!H.get(e),isReadOnly:e=>!!K.get(e),blur(e){var t=e8.toDOMNode(e,e),r=e8.findDocumentOrShadowRoot(e);H.set(e,!1),r.activeElement===t&&t.blur()},focus(e){var t=e8.toDOMNode(e,e),r=e8.findDocumentOrShadowRoot(e);H.set(e,!0),r.activeElement!==t&&t.focus({preventScroll:!0})},deselect(e){e8.toDOMNode(e,e);var{selection:t}=e,r=e8.findDocumentOrShadowRoot(e).getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&a.Transforms.deselect(e)},hasDOMNode(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{editable:a=!1}=n,o=e8.toDOMNode(e,e);try{r=eF(t)?t:t.parentElement}catch(i){if(!i.message.includes('Permission denied to access property "nodeType"'))throw i}return!!r&&r.closest("[data-slate-editor]")===o&&(!a||!!r.isContentEditable||"boolean"==typeof r.isContentEditable&&r.closest('[contenteditable="false"]')===o||!!r.getAttribute("data-slate-zero-width"))},insertData(e,t){e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),setFragmentData(e,t,r){e.setFragmentData(t,r)},toDOMNode(e,t){var r=q.get(e),n=a.Editor.isEditor(t)?U.get(e):null==r?void 0:r.get(e8.findKey(e,t));if(!n)throw Error("Cannot resolve a DOM node from Slate node: ".concat(JSON.stringify(t)));return n},toDOMPoint(e,t){var r,[n]=a.Editor.node(e,t.path),o=e8.toDOMNode(e,n);a.Editor.void(e,{at:t})&&(t={path:t.path,offset:0});var i=Array.from(o.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),s=0;for(var l of i){var d=l.childNodes[0];if(null!=d&&null!=d.textContent){var{length:c}=d.textContent,u=l.getAttribute("data-slate-length"),f=s+(null==u?c:parseInt(u,10));if(t.offset<=f){r=[d,Math.min(c,Math.max(0,t.offset-s))];break}s=f}}if(!r)throw Error("Cannot resolve a DOM point from Slate point: ".concat(JSON.stringify(t)));return r},toDOMRange(e,t){var{anchor:r,focus:n}=t,o=a.Range.isBackward(t),i=e8.toDOMPoint(e,r),s=a.Range.isCollapsed(t)?i:e8.toDOMPoint(e,n),l=e8.getWindow(e).document.createRange(),[d,c]=o?s:i,[u,f]=o?i:s,p=!!(eF(d)?d:d.parentElement).getAttribute("data-slate-zero-width"),v=!!(eF(u)?u:u.parentElement).getAttribute("data-slate-zero-width");return l.setStart(d,p?1:c),l.setEnd(u,v?1:f),l},toSlateNode(e,t){var r=eF(t)?t:t.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?z.get(r):null;if(!n)throw Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},findEventRange(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var r,{clientX:n,clientY:o,target:i}=t;if(null==n||null==o)throw Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var s=e8.toSlateNode(e,t.target),l=e8.findPath(e,s);if(a.Editor.isVoid(e,s)){var d=i.getBoundingClientRect(),c=e.isInline(s)?n-d.left<d.left+d.width-n:o-d.top<d.top+d.height-o,u=a.Editor.point(e,l,{edge:c?"start":"end"}),f=c?a.Editor.before(e,u):a.Editor.after(e,u);if(f)return a.Editor.range(e,f)}var{document:p}=e8.getWindow(e);if(p.caretRangeFromPoint)r=p.caretRangeFromPoint(n,o);else{var v=p.caretPositionFromPoint(n,o);v&&((r=p.createRange()).setStart(v.offsetNode,v.offset),r.setEnd(v.offsetNode,v.offset))}if(!r)throw Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return e8.toSlateRange(e,r,{exactMatch:!1,suppressThrow:!1})},toSlatePoint(e,t,r){var{exactMatch:n,suppressThrow:a}=r,[o,i]=n?t:ej(t),s=o.parentNode,l=null,d=0;if(s){var c,u=e8.toDOMNode(e,e),f=s.closest('[data-slate-void="true"]'),p=f&&u.contains(f)?f:null,v=s.closest("[data-slate-leaf]"),h=null;if(v){if(l=v.closest('[data-slate-node="text"]')){var g=e8.getWindow(e).document.createRange();g.setStart(l,0),g.setEnd(o,i);var m=g.cloneContents();[...Array.prototype.slice.call(m.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(m.querySelectorAll("[contenteditable=false]"))].forEach(e=>{e.parentNode.removeChild(e)}),d=m.textContent.length,h=l}}else p&&((v=p.querySelector("[data-slate-leaf]"))?(l=v.closest('[data-slate-node="text"]'),d=(h=v).textContent.length,h.querySelectorAll("[data-slate-zero-width]").forEach(e=>{d-=e.textContent.length})):d=1);h&&d===h.textContent.length&&(s.hasAttribute("data-slate-zero-width")||k&&null!==(c=h.textContent)&&void 0!==c&&c.endsWith("\n\n"))&&d--}if(!l){if(a)return null;throw Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var w=e8.toSlateNode(e,l),E=e8.findPath(e,w);return{path:E,offset:d}},toSlateRange(e,t,r){var n,o,i,s,l,{exactMatch:d,suppressThrow:c}=r;if((eT(t)?t.anchorNode:t.startContainer)&&(eT(t)?(n=t.anchorNode,o=t.anchorOffset,i=t.focusNode,s=t.focusOffset,l=O&&eA()?t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:t.isCollapsed):(n=t.startContainer,o=t.startOffset,i=t.endContainer,s=t.endOffset,l=t.collapsed)),null==n||null==i||null==o||null==s)throw Error("Cannot resolve a Slate range from DOM range: ".concat(t));var u=e8.toSlatePoint(e,[n,o],{exactMatch:d,suppressThrow:c});if(!u)return null;var f=l?u:e8.toSlatePoint(e,[i,s],{exactMatch:d,suppressThrow:c});if(!f)return null;var p={anchor:u,focus:f};return a.Range.isExpanded(p)&&a.Range.isForward(p)&&eF(i)&&a.Editor.void(e,{at:p.focus,mode:"highest"})&&(p=a.Editor.unhangRange(e,p,{voids:!0})),p},hasRange(e,t){var{anchor:r,focus:n}=t;return a.Editor.hasPath(e,r.path)&&a.Editor.hasPath(e,n.path)}},e7=(e,t)=>{var{addedNodes:r}=t,{selection:n}=e,o=n?a.Node.parent(e,n.anchor.path):null,i=o?e8.toDOMNode(e,o):null;return!!i&&r.some(e=>e instanceof HTMLElement&&e.tagName===(null==i?void 0:i.tagName))},e5=(e,t)=>{var{removedNodes:r}=t;return r.length>0},e4=(e,t)=>{var{selection:r}=e,{removedNodes:n}=t;return!!r&&a.Range.isExpanded(r)&&n.length>0},te=(e,t)=>{var{insertedText:r}=t;return r.length>0},tt=(e,t)=>{var{addedNodes:r,characterDataMutations:n,removedNodes:a}=t;return a.length>0&&0===r.length&&n.length>0};class tr{constructor(e,t){this.editor=e,this.restoreDOM=t,this.flush=e=>{try{this.reconcileMutations(e)}catch(t){console.error(t),this.restoreDOM()}},this.reconcileMutations=e=>{var t,r,n,o,i,s=(t=this.editor,r=[],n=[],o=[],i=[],e.forEach(e=>{switch(e.type){case"childList":e.addedNodes.length&&e.addedNodes.forEach(e=>{r.push(e)}),e.removedNodes.forEach(e=>{n.push(e)});break;case"characterData":i.push(e);var{parentNode:s}=e.target;if(!s)return;var l=function(e,t){var r=e8.toSlateNode(e,t);if(a.Text.isText(r)){var n=r.text,o=t.textContent;if(o.endsWith("\n")&&(o=o.slice(0,o.length-1)),o!==n){var i=function(e,t){if(void 0===e||void 0===t)return null;var r=function(e,t){if(e===t)return null;var r=function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n))return n;return e.length!==t.length?r:null}(e,t);if(null===r)return null;var n=Math.min(e.length-r,t.length-r),a=function(e,t,r){for(var n=e.length,a=t.length,o=Math.min(n,a,r),i=0;i<o;i++)if(e.charAt(n-i-1)!==t.charAt(a-i-1))return i;return e.length!==t.length?o:null}(e,t,n);return null===a?null:{start:r,end:a}}(e,t);if(null==r)return null;var n=e2(t,r),a=e2(e,r);return{start:r.start,end:e.length-r.end,insertText:n,removeText:a}}(n,o);if(null!==i)return{text:i,path:e8.findPath(e,r)}}}}(t,s);if(!l||o.some(e=>{var{path:t}=e;return a.Path.equals(t,l.path)}))return;o.push(l)}}),{addedNodes:r,removedNodes:n,insertedText:o,characterDataMutations:i}),{insertedText:l,removedNodes:d}=s;if(e4(this.editor,s)){var c=l.reduce((e,t)=>{var{text:r}=t;return"".concat(e).concat(r.insertText)},"");this.replaceExpandedSelection(c)}else e7(this.editor,s)?this.insertBreak():tt(this.editor,s)?this.removeLeafNodes(d):e5(this.editor,s)?this.deleteBackward():te(this.editor,s)&&this.insertText(l)},this.insertText=e=>{var{selection:t}=this.editor;if(e8.isComposing(this.editor)||X.get(this.editor)){Y.set(this.editor,e),X.set(this.editor,!1);return}e.forEach(e=>{var r=e.text.insertText,n=e3(this.editor,t,e);a.Transforms.setSelection(this.editor,n),a.Editor.insertText(this.editor,r)})},this.insertBreak=()=>{var{selection:e}=this.editor;a.Editor.insertBreak(this.editor),this.restoreDOM(),e&&setTimeout(()=>{this.editor.selection&&a.Range.equals(e,this.editor.selection)&&a.Transforms.move(this.editor)},100)},this.replaceExpandedSelection=e=>{a.Editor.deleteFragment(this.editor),e.length&&a.Editor.insertText(this.editor,e),this.restoreDOM()},this.deleteBackward=()=>{a.Editor.deleteBackward(this.editor),e8.focus(this.editor),this.restoreDOM()},this.removeLeafNodes=e=>{for(var t of e){var r=e8.toSlateNode(this.editor,t);if(r){var n=e8.findPath(this.editor,r);a.Transforms.delete(this.editor,{at:n}),this.restoreDOM()}}},this.editor=e,this.restoreDOM=t}}function tn(e,t,r){var[a]=(0,n.useState)(()=>new MutationObserver(t));B(()=>{a.disconnect()}),(0,n.useEffect)(()=>{if(!e.current)throw Error("Failed to attach MutationObserver, `node` is undefined");return a.observe(e.current,r),a.disconnect.bind(a)})}var ta={childList:!0,characterData:!0,subtree:!0},to={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},ti=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","style","as"];function ts(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var tl=e=>{var{autoFocus:t,decorate:r=e$,onDOMBeforeInput:o,placeholder:i,readOnly:s=!1,renderElement:d,renderLeaf:u,renderPlaceholder:f=e=>n.createElement(eX,Object.assign({},e)),style:v={},as:h="div"}=e,w=m(e,ti),E=ex(),[b,y]=(0,n.useState)(!1),k=(0,n.useRef)(null),C=function(e){var t,r,o,i,s,l,d=ev(),{receivedUserInput:c,onUserInput:u}=(t=ev(),r=(0,n.useRef)(!1),o=(0,n.useRef)(null),i=(0,n.useCallback)(()=>{if(!1===r.current){var e=e8.getWindow(t);r.current=!0,o.current&&e.cancelAnimationFrame(o.current),o.current=e.requestAnimationFrame(()=>{r.current=!1,o.current=null})}},[]),(0,n.useEffect)(()=>{r.current&&(r.current=!1)}),{receivedUserInput:r,onUserInput:i}),f=(s=ev(),l=(0,n.useRef)(new Set),tn(e,(0,n.useCallback)(e=>{c.current&&e.forEach(e=>{var{target:t}=e,r=function e(t){var r,n=eF(t)?t:t.parentElement;return n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]")),n&&z.get(n)||(null!==(r=n)&&void 0!==r&&r.parentElement?e(n.parentElement):null)}(t);if(r)return l.current.add(r)})},[]),ta),l.current.clear(),(0,n.useCallback)(()=>{var e=Array.from(l.current.values());e.filter(t=>!e.some(e=>a.Path.isParent(e8.findPath(s,e),e8.findPath(s,t)))).forEach(e=>{var t;null===(t=Q.get(e))||void 0===t||t()}),l.current.clear()},[])),p=(0,n.useMemo)(()=>new tr(d,f),[f,d]),v=(0,n.useRef)(null),h=(0,n.useRef)(!1),g=(0,n.useCallback)(e=>{c.current&&(h.current=!0,p.flush(e),v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{h.current=!1,v.current=null},250))},[]);return tn(e,g,to),{isReconciling:h,onUserInput:u}}(k);K.set(E,s);var D=(0,n.useMemo)(()=>({isComposing:!1,isUpdatingSelection:!1,latestElement:null}),[]),O=es(E);B(()=>{var e;k.current&&(e=eP(k.current))?(I.set(E,e),U.set(E,k.current),_.set(E,k.current),z.set(k.current,E)):_.delete(E);try{var{selection:t}=E,r=e8.findDocumentOrShadowRoot(E).getSelection();if(D.isComposing||!r||!e8.isFocused(E))return;var n="None"!==r.type;if(!t&&!n)return;var o=U.get(E),i=!1;if(o.contains(r.anchorNode)&&o.contains(r.focusNode)&&(i=!0),n&&i&&t){var s=e8.toSlateRange(E,r,{exactMatch:!0,suppressThrow:!0});if(s&&a.Range.equals(s,t))return}if(t&&!e8.hasRange(E,t)){E.selection=e8.toSlateRange(E,r,{exactMatch:!1,suppressThrow:!1});return}var l=e8.toDOMNode(E,E);D.isUpdatingSelection=!0;var d=t&&e8.toDOMRange(E,t);if(d){a.Range.isBackward(t)?r.setBaseAndExtent(d.endContainer,d.endOffset,d.startContainer,d.startOffset):r.setBaseAndExtent(d.startContainer,d.startOffset,d.endContainer,d.endOffset);var c=d.startContainer.parentElement;c.getBoundingClientRect=d.getBoundingClientRect.bind(d),p(c,{scrollMode:"if-needed",boundary:l}),delete c.getBoundingClientRect}else r.removeAllRanges();setTimeout(()=>{D.isUpdatingSelection=!1})}catch(u){D.isUpdatingSelection=!1}}),(0,n.useEffect)(()=>{k.current&&t&&k.current.focus()},[t]);var x=(0,n.useCallback)(c()(()=>{try{if(!D.isComposing&&!D.isUpdatingSelection&&!C.isReconciling.current){var e=e8.findDocumentOrShadowRoot(E),{activeElement:t}=e,r=e8.toDOMNode(E,E),n=e.getSelection();if(t===r?(D.latestElement=t,H.set(E,!0)):H.delete(E),!n)return a.Transforms.deselect(E);var{anchorNode:o,focusNode:i}=n,s=eQ(E,o)||eG(E,o),l=eQ(E,i)||eG(E,i);if(s&&l){var d=e8.toSlateRange(E,n,{exactMatch:!1,suppressThrow:!1});a.Transforms.select(E,d)}else a.Transforms.deselect(E)}}catch(c){}},100),[s]),S=(0,n.useMemo)(()=>l()(x,0),[x]),P=(0,n.useCallback)(e=>{!s&&eQ(E,e.target)&&!e1(e,o)&&(S.flush(),C.onUserInput())},[s,o]);B(()=>{var e=k.current;return null==e||e.addEventListener("beforeinput",P),()=>null==e?void 0:e.removeEventListener("beforeinput",P)},[O,o]),B(()=>{var e=e8.getWindow(E);return e.document.addEventListener("selectionchange",S),()=>{e.document.removeEventListener("selectionchange",S)}},[S]);var R=r([E,[]]);if(i&&1===E.children.length&&1===Array.from(a.Node.texts(E)).length&&""===a.Node.string(E)&&!b){var F=a.Editor.start(E,[]);R.push({[G]:!0,placeholder:i,anchor:F,focus:F})}return n.createElement(eC.Provider,{value:s},n.createElement(eS.Provider,{value:r},n.createElement(h,Object.assign({key:O,role:s?void 0:"textbox"},w,{spellCheck:w.spellCheck,autoCorrect:w.autoCorrect,autoCapitalize:w.autoCapitalize,"data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s||void 0,suppressContentEditableWarning:!0,ref:k,style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ts(Object(r),!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ts(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},v),onCopy:(0,n.useCallback)(e=>{eQ(E,e.target)&&!e0(e,w.onCopy)&&(e.preventDefault(),e8.setFragmentData(E,e.clipboardData,"copy"))},[w.onCopy]),onCut:(0,n.useCallback)(e=>{if(!s&&eQ(E,e.target)&&!e0(e,w.onCut)){e.preventDefault(),e8.setFragmentData(E,e.clipboardData,"cut");var{selection:t}=E;if(t){if(a.Range.isExpanded(t))a.Editor.deleteFragment(E);else{var r=a.Node.parent(E,t.anchor.path);a.Editor.isVoid(E,r)&&a.Transforms.delete(E)}}}},[s,w.onCut]),onFocus:(0,n.useCallback)(e=>{if(!s&&!D.isUpdatingSelection&&eQ(E,e.target)&&!e0(e,w.onFocus)){var t=e8.findDocumentOrShadowRoot(E);D.latestElement=t.activeElement,H.set(E,!0)}},[s,w.onFocus]),onBlur:(0,n.useCallback)(e=>{if(!(s||D.isUpdatingSelection||!eQ(E,e.target)||e0(e,w.onBlur))){var t=e8.findDocumentOrShadowRoot(E);if(D.latestElement!==t.activeElement){var{relatedTarget:r}=e;if(!(r===e8.toDOMNode(E,E)||eF(r)&&r.hasAttribute("data-slate-spacer"))){if(null!=r&&eM(r)&&e8.hasDOMNode(E,r)){var n=e8.toSlateNode(E,r);if(a.Element.isElement(n)&&!E.isVoid(n))return}H.delete(E)}}}},[s,w.onBlur]),onClick:(0,n.useCallback)(e=>{if(!s&&eZ(E,e.target)&&!e0(e,w.onClick)&&eM(e.target)){var t=e8.toSlateNode(E,e.target),r=e8.findPath(E,t);if(a.Editor.hasPath(E,r)&&a.Node.get(E,r)===t){var n=a.Editor.start(E,r),o=a.Editor.end(E,r),i=a.Editor.void(E,{at:n}),l=a.Editor.void(E,{at:o});if(i&&l&&a.Path.equals(i[1],l[1])){var d=a.Editor.range(E,n);a.Transforms.select(E,d)}}}},[s,w.onClick]),onCompositionEnd:(0,n.useCallback)(e=>{eQ(E,e.target)&&!e0(e,w.onCompositionEnd)&&(S.flush(),setTimeout(()=>{D.isComposing&&y(!1),D.isComposing=!1,J.set(E,!1),X.set(E,!0);var e=Y.get(E)||[];if(e.length){Y.set(E,[]);var{selection:t}=E;e.forEach(e=>{var r=e.text.insertText,n=e3(E,t,e);a.Transforms.setSelection(E,n),a.Editor.insertText(E,r)})}},20))},[w.onCompositionEnd]),onCompositionUpdate:(0,n.useCallback)(e=>{eQ(E,e.target)&&!e0(e,w.onCompositionUpdate)&&(D.isComposing||y(!0),D.isComposing=!0,J.set(E,!0))},[w.onCompositionUpdate]),onCompositionStart:(0,n.useCallback)(e=>{eQ(E,e.target)&&!e0(e,w.onCompositionStart)&&(D.isComposing||y(!0),D.isComposing=!0,J.set(E,!0))},[w.onCompositionStart]),onPaste:(0,n.useCallback)(e=>{e.clipboardData=e_(e.clipboardData),!eQ(E,e.target)||e0(e,w.onPaste)||s||(e.preventDefault(),e8.insertData(E,e.clipboardData))},[s,w.onPaste])}),em({decorations:R,node:E,renderElement:d,renderPlaceholder:f,renderLeaf:u,selection:E.selection}))))},td=(0,n.createContext)(!1),tc=()=>(0,n.useContext)(td),tu=(0,n.createContext)({}),tf=["editor","children","onChange","value"],tp=e=>{var t,r,o,i,{editor:s,children:l,onChange:d,value:c}=e,u=m(e,tf),f=(0,n.useRef)(!1),[p,v]=n.useState(()=>{if(!a.Node.isNodeList(c))throw Error("[Slate] value is invalid! Expected a list of elements"+"but got: ".concat(JSON.stringify(c)));if(!a.Editor.isEditor(s))throw Error("[Slate] editor is invalid! you passed:"+"".concat(JSON.stringify(s)));return s.children=c,Object.assign(s,u),[s]}),{selectorContext:h,onChange:g}=(t=(0,n.useRef)([]).current,r=(0,n.useRef)({editor:s}).current,o=(0,n.useCallback)(e=>{r.editor=e,t.forEach(t=>t(e))},[]),i=(0,n.useMemo)(()=>({getSlate:()=>r.editor,addEventListener:e=>(t.push(e),()=>{t.splice(t.indexOf(e),1)})}),[t,r]),{selectorContext:i,onChange:o}),E=(0,n.useCallback)(()=>{d&&d(s.children),v([s]),g(s)},[d]);Z.set(s,E),(0,n.useEffect)(()=>()=>{Z.set(s,()=>{}),f.current=!0},[]);var[b,y]=(0,n.useState)(e8.isFocused(s));return(0,n.useEffect)(()=>{y(e8.isFocused(s))}),B(()=>{var e=()=>y(e8.isFocused(s));return w?(document.addEventListener("focusin",e),document.addEventListener("focusout",e),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",e)}):(document.addEventListener("focus",e,!0),document.addEventListener("blur",e,!0),()=>{document.removeEventListener("focus",e,!0),document.removeEventListener("blur",e,!0)})},[]),n.createElement(tu.Provider,{value:h},n.createElement(eO.Provider,{value:p},n.createElement(ep.Provider,{value:s},n.createElement(td.Provider,{value:b},l))))},tv=(e,t)=>{var r=(t.top+t.bottom)/2;return e.top<=r&&e.bottom>=r},th=(e,t,r)=>{var n=e8.toDOMRange(e,t).getBoundingClientRect(),a=e8.toDOMRange(e,r).getBoundingClientRect();return tv(n,a)&&tv(a,n)},tg=(e,t)=>{var r=a.Editor.range(e,a.Range.end(t)),n=Array.from(a.Editor.positions(e,{at:t})),o=0,i=n.length,s=Math.floor(i/2);if(th(e,a.Editor.range(e,n[o]),r))return a.Editor.range(e,n[o],r);if(n.length<2)return a.Editor.range(e,n[n.length-1],r);for(;s!==n.length&&s!==o;)th(e,a.Editor.range(e,n[s]),r)?i=s:o=s,s=Math.floor((o+i)/2);return a.Editor.range(e,n[i],r)},tm=e=>{var t=e,{apply:r,onChange:n,deleteBackward:o}=t;return q.set(t,new WeakMap),t.deleteBackward=r=>{if("line"!==r)return o(r);if(e.selection&&a.Range.isCollapsed(e.selection)){var n=a.Editor.above(e,{match:t=>a.Editor.isBlock(e,t),at:e.selection});if(n){var[,i]=n,s=tg(t,a.Editor.range(e,i,e.selection.anchor));a.Range.isCollapsed(s)||a.Transforms.delete(e,{at:s})}}},t.apply=n=>{var o,i=[];switch(n.type){case"insert_text":case"remove_text":case"set_node":case"split_node":i.push(...tw(t,n.path));break;case"set_selection":null===(o=$.get(e))||void 0===o||o.unref(),$.delete(e);break;case"insert_node":case"remove_node":i.push(...tw(t,a.Path.parent(n.path)));break;case"merge_node":i.push(...tw(t,a.Path.previous(n.path)));break;case"move_node":i.push(...tw(t,a.Path.common(a.Path.parent(n.path),a.Path.parent(n.newPath))))}for(var[s,l]of(r(n),i)){var[d]=a.Editor.node(t,s);V.set(d,l)}},t.setFragmentData=e=>{var{selection:r}=t;if(r){var[n,o]=a.Range.edges(r),i=a.Editor.void(t,{at:n.path}),s=a.Editor.void(t,{at:o.path});if(!a.Range.isCollapsed(r)||i){var l=e8.toDOMRange(t,r),d=l.cloneContents(),c=d.childNodes[0];if(d.childNodes.forEach(e=>{e.textContent&&""!==e.textContent.trim()&&(c=e)}),s){var[u]=s,f=l.cloneRange(),p=e8.toDOMNode(t,u);f.setEndAfter(p),d=f.cloneContents()}if(i&&(c=d.querySelector("[data-slate-spacer]")),Array.from(d.querySelectorAll("[data-slate-zero-width]")).forEach(e=>{var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""}),eB(c)){var v=c.ownerDocument.createElement("span");v.style.whiteSpace="pre",v.appendChild(c),d.appendChild(v),c=v}var h=JSON.stringify(t.getFragment()),g=window.btoa(encodeURIComponent(h));c.setAttribute("data-slate-fragment",g),e.setData("application/x-slate-fragment",g);var m=d.ownerDocument.createElement("div");return m.appendChild(d),m.setAttribute("hidden","true"),d.ownerDocument.body.appendChild(m),e.setData("text/html",m.innerHTML),e.setData("text/plain",eI(m)),d.ownerDocument.body.removeChild(m),e}}},t.insertData=e=>{t.insertFragmentData(e)||t.insertTextData(e)},t.insertFragmentData=e=>{var r=e.getData("application/x-slate-fragment")||ez(e);if(r){var n=JSON.parse(decodeURIComponent(window.atob(r)));return t.insertFragment(n),!0}return!1},t.insertTextData=e=>{var r=e.getData("text/plain");if(r){var n=r.split(/\r\n|\r|\n/),o=!1;for(var i of n)o&&a.Transforms.splitNodes(t,{always:!0}),t.insertText(i),o=!0;return!0}return!1},t.onChange=()=>{h.unstable_batchedUpdates(()=>{var e=Z.get(t);e&&e(),n()})},t},tw=(e,t)=>{var r=[];for(var[n,o]of a.Editor.levels(e,{at:t})){var i=e8.findKey(e,n);r.push([o,i])}return r},tE=y?tl:eJ},10685:function(e,t){"use strict";for(var r="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),n={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},a={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:r?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},o={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=1;i<20;i++)o["f"+i]=111+i;function s(e){return e=a[e=e.toLowerCase()]||e}t.TB=function(e,t){var r,a,i,l,d;return r=e,a={byKey:!0},i=t,!a||"byKey"in a||(i=a,a=null),Array.isArray(r)||(r=[r]),l=r.map(function(e){return function(e,t){var r=t&&t.byKey,a={},i=(e=e.replace("++","+add")).split("+"),l=i.length;for(var d in n)a[n[d]]=!1;var c=!0,u=!1,f=void 0;try{for(var p,v=i[Symbol.iterator]();!(c=(p=v.next()).done);c=!0){var h,g=p.value,m=g.endsWith("?")&&g.length>1;m&&(g=g.slice(0,-1));var w=s(g),E=n[w];1!==l&&E||(r?a.key=w:a.which=(h=g,o[h=s(h)]||h.toUpperCase().charCodeAt(0))),E&&(a[E]=!m||null)}}catch(b){u=!0,f=b}finally{try{!c&&v.return&&v.return()}finally{if(u)throw f}}return a}(e,a)}),d=function(e){return l.some(function(t){return function(e,t){for(var r in e){var n=e[r],a=void 0;if(null!=n&&(null!=(a="key"===r&&null!=t.key?t.key.toLowerCase():"which"===r?91===n&&93===t.which?91:t.which:t[r])||!1!==n)&&a!==n)return!1}return!0}(t,e)})},null==i?d:d(i)}},13735:function(e,t,r){"use strict";/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function n(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(e){var t,r;return!1!==n(e)&&(void 0===(t=e.constructor)||!1!==n(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}r.d(t,{P:function(){return a}})}}]);
//# sourceMappingURL=8275.91ee359fdd06375f.js.map