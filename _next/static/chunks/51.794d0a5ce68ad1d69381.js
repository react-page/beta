(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[51,56],{"0Z5n":function(e,t,r){"use strict";r.r(t),r.d(t,"Editor",(function(){return Ae})),r.d(t,"Element",(function(){return De})),r.d(t,"Location",(function(){return Ne})),r.d(t,"Node",(function(){return Te})),r.d(t,"Operation",(function(){return _e})),r.d(t,"Path",(function(){return We})),r.d(t,"PathRef",(function(){return Ie})),r.d(t,"Point",(function(){return Ve})),r.d(t,"PointRef",(function(){return Ue})),r.d(t,"Range",(function(){return Je})),r.d(t,"RangeRef",(function(){return He})),r.d(t,"Span",(function(){return Re})),r.d(t,"Text",(function(){return Ge})),r.d(t,"Transforms",(function(){return dt})),r.d(t,"createEditor",(function(){return pe}));var n=r("LsI9"),o=r("GnR4");function a(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[H]}function s(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof r&&Function.toString.call(r)===X}(e)||Array.isArray(e)||!!e[J]||!!e.constructor[J]||h(e)||p(e))}function l(e,t,r){void 0===r&&(r=!1),0===c(e)?(r?Object.keys:$)(e).forEach((function(n){r&&"symbol"==typeof n||t(n,e[n],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function c(e){var t=e[H];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:h(e)?2:p(e)?3:0}function u(e,t){return 2===c(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){return 2===c(e)?e.get(t):e[t]}function f(e,t,r){var n=c(e);2===n?e.set(t,r):3===n?(e.delete(t),e.add(r)):e[t]=r}function v(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function h(e){return z&&e instanceof Map}function p(e){return V&&e instanceof Set}function g(e){return e.o||e.t}function m(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=G(e);delete t[H];for(var r=$(t),n=0;n<r.length;n++){var o=r[n],a=t[o];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function b(e,t){return void 0===t&&(t=!1),w(e)||i(e)||!s(e)||(c(e)>1&&(e.set=e.add=e.clear=e.delete=y),Object.freeze(e),t&&l(e,(function(e,t){return b(t,!0)}),!0)),e}function y(){a(2)}function w(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function O(e){var t=Y[e];return t||a(18,e),t}function E(){return I}function x(e,t){t&&(O("Patches"),e.u=[],e.s=[],e.v=t)}function k(e){j(e),e.p.forEach(D),e.p=null}function j(e){e===I&&(I=e.l)}function P(e){return I={p:[],l:I,h:e,m:!0,_:0}}function D(e){var t=e[H];0===t.i||1===t.i?t.j():t.g=!0}function F(e,t){t._=t.p.length;var r=t.p[0],n=void 0!==e&&e!==r;return t.h.O||O("ES5").S(t,e,n),n?(r[H].P&&(k(t),a(4)),s(e)&&(e=C(t,e),t.l||A(t,e)),t.u&&O("Patches").M(r[H],e,t.u,t.s)):e=C(t,r,[]),k(t),t.u&&t.v(t.u,t.s),e!==K?e:void 0}function C(e,t,r){if(w(t))return t;var n=t[H];if(!n)return l(t,(function(o,a){return S(e,n,t,o,a,r)}),!0),t;if(n.A!==e)return t;if(!n.P)return A(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=4===n.i||5===n.i?n.o=m(n.k):n.o;l(3===n.i?new Set(o):o,(function(t,a){return S(e,n,o,t,a,r)})),A(e,o,!1),r&&e.u&&O("Patches").R(n,r,e.u,e.s)}return n.o}function S(e,t,r,n,o,a){if(i(o)){var l=C(e,o,a&&t&&3!==t.i&&!u(t.D,n)?a.concat(n):void 0);if(f(r,n,l),!i(l))return;e.m=!1}if(s(o)&&!w(o)){if(!e.h.F&&e._<1)return;C(e,o),t&&t.A.l||A(e,o)}}function A(e,t,r){void 0===r&&(r=!1),e.h.F&&e.m&&b(t,r)}function N(e,t){var r=e[H];return(r?g(r):e)[t]}function R(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function B(e){e.P||(e.P=!0,e.l&&B(e.l))}function T(e){e.o||(e.o=m(e.t))}function M(e,t,r){var n=h(t)?O("MapSet").N(t,r):p(t)?O("MapSet").T(t,r):e.O?function(e,t){var r=Array.isArray(e),n={i:r?1:0,A:t?t.A:E(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=n,a=Q;r&&(o=[n],a=Z);var i=Proxy.revocable(o,a),s=i.revoke,l=i.proxy;return n.k=l,n.j=s,l}(t,r):O("ES5").J(t,r);return(r?r.A:E()).p.push(n),n}function L(e){return i(e)||a(22,e),function e(t){if(!s(t))return t;var r,n=t[H],o=c(t);if(n){if(!n.P&&(n.i<4||!O("ES5").K(n)))return n.t;n.I=!0,r=_(t,o),n.I=!1}else r=_(t,o);return l(r,(function(t,o){n&&d(n.t,t)===o||f(r,t,e(o))})),3===o?new Set(r):r}(e)}function _(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return m(e)}var W,I,q="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),z="undefined"!=typeof Map,V="undefined"!=typeof Set,U="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,K=q?Symbol.for("immer-nothing"):((W={})["immer-nothing"]=!0,W),J=q?Symbol.for("immer-draftable"):"__$immer_draftable",H=q?Symbol.for("immer-state"):"__$immer_state",X=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),$="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,G=Object.getOwnPropertyDescriptors||function(e){var t={};return $(e).forEach((function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)})),t},Y={},Q={get:function(e,t){if(t===H)return e;var r=g(e);if(!u(r,t))return function(e,t,r){var n,o=R(t,r);return o?"value"in o?o.value:null===(n=o.get)||void 0===n?void 0:n.call(e.k):void 0}(e,r,t);var n=r[t];return e.I||!s(n)?n:n===N(e.t,t)?(T(e),e.o[t]=M(e.A.h,n,e)):n},has:function(e,t){return t in g(e)},ownKeys:function(e){return Reflect.ownKeys(g(e))},set:function(e,t,r){var n=R(g(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var o=N(g(e),t),a=null==o?void 0:o[H];if(a&&a.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(v(r,o)&&(void 0!==r||u(e.t,t)))return!0;T(e),B(e)}return e.o[t]===r&&"number"!=typeof r||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==N(e.t,t)||t in e.t?(e.D[t]=!1,T(e),B(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=g(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){a(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){a(12)}},Z={};l(Q,(function(e,t){Z[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Z.deleteProperty=function(e,t){return Q.deleteProperty.call(this,e[0],t)},Z.set=function(e,t,r){return Q.set.call(this,e[0],t,r,e[0])};var ee=new(function(){function e(e){var t=this;this.O=U,this.F=!0,this.produce=function(e,r,n){if("function"==typeof e&&"function"!=typeof r){var o=r;r=e;var i=t;return function(e){var t=this;void 0===e&&(e=o);for(var n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return i.produce(e,(function(e){var n;return(n=r).call.apply(n,[t,e].concat(a))}))}}var l;if("function"!=typeof r&&a(6),void 0!==n&&"function"!=typeof n&&a(7),s(e)){var c=P(t),u=M(t,e,void 0),d=!0;try{l=r(u),d=!1}finally{d?k(c):j(c)}return"undefined"!=typeof Promise&&l instanceof Promise?l.then((function(e){return x(c,n),F(e,c)}),(function(e){throw k(c),e})):(x(c,n),F(l,c))}if(!e||"object"!=typeof e){if((l=r(e))===K)return;return void 0===l&&(l=e),t.F&&b(l,!0),l}a(21,e)},this.produceWithPatches=function(e,r){return"function"==typeof e?function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return t.produceWithPatches(r,(function(t){return e.apply(void 0,[t].concat(o))}))}:[t.produce(e,r,(function(e,t){n=e,o=t})),n,o];var n,o},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){s(e)||a(8),i(e)&&(e=L(e));var t=P(this),r=M(this,e,void 0);return r[H].C=!0,j(t),r},t.finishDraft=function(e,t){var r=(e&&e[H]).A;return x(r,t),F(void 0,r)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!U&&a(20),this.O=e},t.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}var o=O("Patches").$;return i(e)?o(e,t):this.produce(e,(function(e){return o(e,t.slice(r+1))}))},e}()),te=ee.produce,re=(ee.produceWithPatches.bind(ee),ee.setAutoFreeze.bind(ee),ee.setUseProxies.bind(ee),ee.applyPatches.bind(ee),ee.createDraft.bind(ee)),ne=ee.finishDraft.bind(ee),oe=r("qJQC"),ae=r.n(oe);function ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var se=new WeakMap,le=new WeakMap,ce=new WeakMap,ue=new WeakMap,de=new WeakMap,fe=new WeakMap;function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pe=()=>{var e={children:[],operations:[],selection:null,marks:null,isInline:()=>!1,isVoid:()=>!1,onChange:()=>{},apply:t=>{for(var r of Ae.pathRefs(e))Ie.transform(r,t);for(var n of Ae.pointRefs(e))Ue.transform(n,t);for(var o of Ae.rangeRefs(e))He.transform(o,t);var a=new Set,i=[],s=e=>{if(e){var t=e.join(",");a.has(t)||(a.add(t),i.push(e))}},l=se.get(e)||[],c=ge(t);for(var u of l){s(We.transform(u,t))}for(var d of c)s(d);se.set(e,i),dt.transform(e,t),e.operations.push(t),Ae.normalize(e),"set_selection"===t.type&&(e.marks=null),le.get(e)||(le.set(e,!0),Promise.resolve().then((()=>{le.set(e,!1),e.onChange(),e.operations=[]})))},addMark:(t,r)=>{var{selection:n}=e;if(n)if(Je.isExpanded(n))dt.setNodes(e,{[t]:r},{match:Ge.isText,split:!0});else{var o=he(he({},Ae.marks(e)||{}),{},{[t]:r});e.marks=o,le.get(e)||e.onChange()}},deleteBackward:t=>{var{selection:r}=e;r&&Je.isCollapsed(r)&&dt.delete(e,{unit:t,reverse:!0})},deleteForward:t=>{var{selection:r}=e;r&&Je.isCollapsed(r)&&dt.delete(e,{unit:t})},deleteFragment:t=>{var{selection:r}=e;r&&Je.isExpanded(r)&&dt.delete(e,{reverse:"backward"===t})},getFragment:()=>{var{selection:t}=e;return t?Te.fragment(e,t):[]},insertBreak:()=>{dt.splitNodes(e,{always:!0})},insertFragment:t=>{dt.insertFragment(e,t)},insertNode:t=>{dt.insertNodes(e,t)},insertText:t=>{var{selection:r,marks:n}=e;if(r){if(Je.isCollapsed(r)){var o=Ae.above(e,{match:t=>Ae.isInline(e,t),mode:"highest"});if(o){var[,a]=o;if(Ae.isEnd(e,r.anchor,a)){var i=Ae.after(e,a);dt.setSelection(e,{anchor:i,focus:i})}}}if(n){var s=he({text:t},n);dt.insertNodes(e,s)}else dt.insertText(e,t);e.marks=null}},normalizeNode:t=>{var[r,n]=t;if(!Ge.isText(r))if(De.isElement(r)&&0===r.children.length){dt.insertNodes(e,{text:""},{at:n.concat(0),voids:!0})}else for(var o=!Ae.isEditor(r)&&(De.isElement(r)&&(e.isInline(r)||0===r.children.length||Ge.isText(r.children[0])||e.isInline(r.children[0]))),a=0,i=0;i<r.children.length;i++,a++){var s=Te.get(e,n);if(!Ge.isText(s)){var l=r.children[i],c=s.children[a-1],u=i===r.children.length-1;if((Ge.isText(l)||De.isElement(l)&&e.isInline(l))!==o)dt.removeNodes(e,{at:n.concat(a),voids:!0}),a--;else if(De.isElement(l)){if(e.isInline(l))if(null!=c&&Ge.isText(c)){if(u){dt.insertNodes(e,{text:""},{at:n.concat(a+1),voids:!0}),a++}}else{dt.insertNodes(e,{text:""},{at:n.concat(a),voids:!0}),a++}}else null!=c&&Ge.isText(c)&&(Ge.equals(l,c,{loose:!0})?(dt.mergeNodes(e,{at:n.concat(a),voids:!0}),a--):""===c.text?(dt.removeNodes(e,{at:n.concat(a-1),voids:!0}),a--):u&&""===l.text&&(dt.removeNodes(e,{at:n.concat(a),voids:!0}),a--))}}},removeMark:t=>{var{selection:r}=e;if(r)if(Je.isExpanded(r))dt.unsetNodes(e,t,{match:Ge.isText,split:!0});else{var n=he({},Ae.marks(e)||{});delete n[t],e.marks=n,le.get(e)||e.onChange()}}};return e},ge=e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":var{path:t}=e;return We.levels(t);case"insert_node":var{node:r,path:n}=e;return[...We.levels(n),...Ge.isText(r)?[]:Array.from(Te.nodes(r),(e=>{var[,t]=e;return n.concat(t)}))];case"merge_node":var{path:o}=e;return[...We.ancestors(o),We.previous(o)];case"move_node":var{path:a,newPath:i}=e;if(We.equals(a,i))return[];var s=[],l=[];for(var c of We.ancestors(a)){var u=We.transform(c,e);s.push(u)}for(var d of We.ancestors(i)){var f=We.transform(d,e);l.push(f)}var v=l[l.length-1],h=i[i.length-1],p=v.concat(h);return[...s,...l,p];case"remove_node":var{path:g}=e;return[...We.ancestors(g)];case"split_node":var{path:m}=e;return[...We.levels(m),We.next(m)];default:return[]}};function me(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var be=/\s/,ye=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,we=/['\u2018\u2019]/,Oe=e=>{for(var t=0,r=null,n=e.charCodeAt(0);n;)if(xe(n)){var o=ke(n,e,t);if("SURR"===r||"BMP"===r)break;t+=2,r=o?"MOD":"SURR",n=e.charCodeAt(t)}else if(8205!==n)if(Pe(n)){if(r&&"ZWJ"!==r&&"VAR"!==r)break;t+=1,r="BMP",n=e.charCodeAt(t)}else{if(!je(n)){if("MOD"===r){t+=1;break}break}if(r&&"ZWJ"!==r)break;t+=1,r="VAR",n=e.charCodeAt(t)}else t+=1,r="ZWJ",n=e.charCodeAt(t);return t||1},Ee=(e,t)=>{if(be.test(e))return!1;if(we.test(e)){var r=t.charAt(0),n=Oe(r);r=t.slice(0,n);var o=t.slice(n);if(Ee(r,o))return!0}return!ye.test(e)},xe=e=>55296<=e&&e<=57343,ke=(e,t,r)=>{if(55356===e){var n=t.charCodeAt(r+1);return n<=57343&&n>=57339}return!1},je=e=>e<=65039&&e>=65024,Pe=e=>10084===e||9794===e||9792===e||9760===e||9877===e||9992===e||9711===e,De={isAncestor:e=>Object(n.a)(e)&&Te.isNodeList(e.children),isElement:e=>Object(n.a)(e)&&Te.isNodeList(e.children)&&!Ae.isEditor(e),isElementList:e=>Array.isArray(e)&&e.every((e=>De.isElement(e))),isElementProps:e=>void 0!==e.children,matches(e,t){for(var r in t)if("children"!==r&&e[r]!==t[r])return!1;return!0}};function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Se=new WeakMap,Ae={above(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{voids:r=!1,mode:n="lowest",at:o=e.selection,match:a}=t;if(o){var i=Ae.path(e,o),s="lowest"===n;for(var[l,c]of Ae.levels(e,{at:i,voids:r,match:a,reverse:s}))if(!Ge.isText(l)&&!We.equals(i,c))return[l,c]}},addMark(e,t,r){e.addMark(t,r)},after(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={anchor:Ae.point(e,t,{edge:"end"}),focus:Ae.end(e,[])},{distance:a=1}=n,i=0;for(var s of Ae.positions(e,Ce(Ce({},n),{},{at:o}))){if(i>a)break;0!==i&&(r=s),i++}return r},before(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={anchor:Ae.start(e,[]),focus:Ae.point(e,t,{edge:"start"})},{distance:a=1}=n,i=0;for(var s of Ae.positions(e,Ce(Ce({},n),{},{at:o,reverse:!0}))){if(i>a)break;0!==i&&(r=s),i++}return r},deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteBackward(r)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteForward(r)},deleteFragment(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{direction:r="forward"}=t;e.deleteFragment(r)},edges:(e,t)=>[Ae.start(e,t),Ae.end(e,t)],end:(e,t)=>Ae.point(e,t,{edge:"end"}),first(e,t){var r=Ae.path(e,t,{edge:"start"});return Ae.node(e,r)},fragment(e,t){var r=Ae.range(e,t);return Te.fragment(e,r)},hasBlocks:(e,t)=>t.children.some((t=>Ae.isBlock(e,t))),hasInlines:(e,t)=>t.children.some((t=>Ge.isText(t)||Ae.isInline(e,t))),hasTexts:(e,t)=>t.children.every((e=>Ge.isText(e))),insertBreak(e){e.insertBreak()},insertFragment(e,t){e.insertFragment(t)},insertNode(e,t){e.insertNode(t)},insertText(e,t){e.insertText(t)},isBlock:(e,t)=>De.isElement(t)&&!e.isInline(t),isEditor(e){if(!Object(n.a)(e))return!1;var t=Se.get(e);if(void 0!==t)return t;var r="function"===typeof e.addMark&&"function"===typeof e.apply&&"function"===typeof e.deleteBackward&&"function"===typeof e.deleteForward&&"function"===typeof e.deleteFragment&&"function"===typeof e.insertBreak&&"function"===typeof e.insertFragment&&"function"===typeof e.insertNode&&"function"===typeof e.insertText&&"function"===typeof e.isInline&&"function"===typeof e.isVoid&&"function"===typeof e.normalizeNode&&"function"===typeof e.onChange&&"function"===typeof e.removeMark&&(null===e.marks||Object(n.a)(e.marks))&&(null===e.selection||Je.isRange(e.selection))&&Te.isNodeList(e.children)&&_e.isOperationList(e.operations);return Se.set(e,r),r},isEnd(e,t,r){var n=Ae.end(e,r);return Ve.equals(t,n)},isEdge:(e,t,r)=>Ae.isStart(e,t,r)||Ae.isEnd(e,t,r),isEmpty(e,t){var{children:r}=t,[n]=r;return 0===r.length||1===r.length&&Ge.isText(n)&&""===n.text&&!e.isVoid(t)},isInline:(e,t)=>De.isElement(t)&&e.isInline(t),isNormalizing(e){var t=ce.get(e);return void 0===t||t},isStart(e,t,r){if(0!==t.offset)return!1;var n=Ae.start(e,r);return Ve.equals(t,n)},isVoid:(e,t)=>De.isElement(t)&&e.isVoid(t),last(e,t){var r=Ae.path(e,t,{edge:"end"});return Ae.node(e,r)},leaf(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Ae.path(e,t,r);return[Te.leaf(e,n),n]},*levels(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,reverse:n=!1,voids:o=!1}=t,{match:a}=t;if(null==a&&(a=()=>!0),r){var i=[],s=Ae.path(e,r);for(var[l,c]of Te.levels(e,s))if(a(l,c)&&(i.push([l,c]),!o&&Ae.isVoid(e,l)))break;n&&i.reverse(),yield*i}},marks(e){var{marks:t,selection:r}=e;if(!r)return null;if(t)return t;if(Je.isExpanded(r)){var[n]=Ae.nodes(e,{match:Ge.isText});if(n){var[o]=n;return me(o,["text"])}return{}}var{anchor:a}=r,{path:i}=a,[s]=Ae.leaf(e,i);if(0===a.offset){var l=Ae.previous(e,{at:i,match:Ge.isText}),c=Ae.above(e,{match:t=>Ae.isBlock(e,t)});if(l&&c){var[u,d]=l,[,f]=c;We.isAncestor(f,d)&&(s=u)}}return me(s,["text"])},next(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:o,at:a=e.selection}=t;if(a){var i=Ae.after(e,a,{voids:n});if(i){var[,s]=Ae.last(e,[]),l=[i.path,s];if(We.isPath(a)&&0===a.length)throw new Error("Cannot get the next node from the root node!");if(null==o)if(We.isPath(a)){var[c]=Ae.parent(e,a);o=e=>c.children.includes(e)}else o=()=>!0;var[u]=Ae.nodes(e,{at:l,match:o,mode:r,voids:n});return u}}},node(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Ae.path(e,t,r);return[Te.get(e,n),n]},*nodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,mode:n="all",universal:o=!1,reverse:a=!1,voids:i=!1}=t,{match:s}=t;if(s||(s=()=>!0),r){var l,c;if(Re.isSpan(r))l=r[0],c=r[1];else{var u=Ae.path(e,r,{edge:"start"}),d=Ae.path(e,r,{edge:"end"});l=a?d:u,c=a?u:d}var f,v=Te.nodes(e,{reverse:a,from:l,to:c,pass:t=>{var[r]=t;return!i&&Ae.isVoid(e,r)}}),h=[];for(var[p,g]of v){var m=f&&0===We.compare(g,f[1]);if("highest"!==n||!m)if(s(p,g))if("lowest"===n&&m)f=[p,g];else{var b="lowest"===n?f:[p,g];b&&(o?h.push(b):yield b),f=[p,g]}else if(o&&!m&&Ge.isText(p))return}"lowest"===n&&f&&(o?h.push(f):yield f),o&&(yield*h)}},normalize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{force:r=!1}=t,n=e=>se.get(e)||[];if(Ae.isNormalizing(e)){if(r){var o=Array.from(Te.nodes(e),(e=>{var[,t]=e;return t}));se.set(e,o)}0!==n(e).length&&Ae.withoutNormalizing(e,(()=>{for(var t of n(e))if(Te.has(e,t)){var[r,o]=Ae.node(e,t);if(De.isElement(r)&&0===r.children.length){dt.insertNodes(e,{text:""},{at:t.concat(0),voids:!0})}}for(var a=42*n(e).length,i=0;0!==n(e).length;){if(i>a)throw new Error("\n            Could not completely normalize the editor after ".concat(a," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var s=n(e).pop();if(Te.has(e,s)){var l=Ae.node(e,s);e.normalizeNode(l)}i++}}))}},parent(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Ae.path(e,t,r),o=We.parent(n);return Ae.node(e,o)},path(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{depth:n,edge:o}=r;if(We.isPath(t))if("start"===o){var[,a]=Te.first(e,t);t=a}else if("end"===o){var[,i]=Te.last(e,t);t=i}return Je.isRange(t)&&(t="start"===o?Je.start(t):"end"===o?Je.end(t):We.common(t.anchor.path,t.focus.path)),Ve.isPoint(t)&&(t=t.path),null!=n&&(t=t.slice(0,n)),t},hasPath:(e,t)=>Te.has(e,t),pathRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:t}=o;return Ae.pathRefs(e).delete(o),o.current=null,t}};return Ae.pathRefs(e).add(o),o},pathRefs(e){var t=ue.get(e);return t||(t=new Set,ue.set(e,t)),t},point(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{edge:n="start"}=r;if(We.isPath(t)){var o;if("end"===n){var[,a]=Te.last(e,t);o=a}else{var[,i]=Te.first(e,t);o=i}var s=Te.get(e,o);if(!Ge.isText(s))throw new Error("Cannot get the ".concat(n," point in the node at path [").concat(t,"] because it has no ").concat(n," text node."));return{path:o,offset:"end"===n?s.text.length:0}}if(Je.isRange(t)){var[l,c]=Je.edges(t);return"start"===n?l:c}return t},pointRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:t}=o;return Ae.pointRefs(e).delete(o),o.current=null,t}};return Ae.pointRefs(e).add(o),o},pointRefs(e){var t=de.get(e);return t||(t=new Set,de.set(e,t)),t},*positions(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,unit:n="offset",reverse:a=!1,voids:i=!1}=t;if(r){var s=Ae.range(e,r),[l,c]=Je.edges(s),u=a?c:l,d=!1,f="",v=0,h=0,p=0;for(var[g,m]of Ae.nodes(e,{at:r,reverse:a,voids:i})){if(De.isElement(g)){if(!i&&e.isVoid(g)){yield Ae.start(e,m);continue}if(e.isInline(g))continue;if(Ae.hasInlines(e,g)){var b=We.isAncestor(m,c.path)?c:Ae.end(e,m),y=We.isAncestor(m,l.path)?l:Ae.start(e,m);f=Ae.string(e,{anchor:y,focus:b},{voids:i}),f=a?Object(o.reverse)(f):f,d=!0}}if(Ge.isText(g)){var w=We.equals(m,u.path);for(w?(h=a?u.offset:g.text.length-u.offset,p=u.offset):(h=g.text.length,p=a?h:0),(w||d||"offset"===n)&&(yield{path:m,offset:p},d=!1);;){if(0===v){if(""===f)break;v=O(f,n),f=f.slice(v)}if(p=a?p-v:p+v,(h-=v)<0){v=-h;break}v=0,yield{path:m,offset:p}}}}}function O(e,t){return"character"===t?Oe(e):"word"===t?(e=>{for(var t,r=0,n=0,o=!1;t=e.charAt(n);){var a=Oe(t);t=e.slice(n,n+a);var i=e.slice(n+a);if(Ee(t,i))o=!0,r+=a;else{if(o)break;r+=a}n+=a}return r})(e):"line"===t||"block"===t?e.length:1}},previous(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:o,at:a=e.selection}=t;if(a){var i=Ae.before(e,a,{voids:n});if(i){var[,s]=Ae.first(e,[]),l=[i.path,s];if(We.isPath(a)&&0===a.length)throw new Error("Cannot get the previous node from the root node!");if(null==o)if(We.isPath(a)){var[c]=Ae.parent(e,a);o=e=>c.children.includes(e)}else o=()=>!0;var[u]=Ae.nodes(e,{reverse:!0,at:l,match:o,mode:r,voids:n});return u}}},range:(e,t,r)=>Je.isRange(t)&&!r?t:{anchor:Ae.start(e,t),focus:Ae.end(e,r||t)},rangeRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:t}=o;return Ae.rangeRefs(e).delete(o),o.current=null,t}};return Ae.rangeRefs(e).add(o),o},rangeRefs(e){var t=fe.get(e);return t||(t=new Set,fe.set(e,t)),t},removeMark(e,t){e.removeMark(t)},start:(e,t)=>Ae.point(e,t,{edge:"start"}),string(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:n=!1}=r,o=Ae.range(e,t),[a,i]=Je.edges(o),s="";for(var[l,c]of Ae.nodes(e,{at:o,match:Ge.isText,voids:n})){var u=l.text;We.equals(c,i.path)&&(u=u.slice(0,i.offset)),We.equals(c,a.path)&&(u=u.slice(a.offset)),s+=u}return s},unhangRange(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:n=!1}=r,[o,a]=Je.edges(t);if(0!==o.offset||0!==a.offset||Je.isCollapsed(t))return t;var i=Ae.above(e,{at:a,match:t=>Ae.isBlock(e,t)}),s=i?i[1]:[],l={anchor:Ae.start(e,[]),focus:a},c=!0;for(var[u,d]of Ae.nodes(e,{at:l,match:Ge.isText,reverse:!0,voids:n}))if(c)c=!1;else if(""!==u.text||We.isBefore(d,s)){a={path:d,offset:u.text.length};break}return{anchor:o,focus:a}},void(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ae.above(e,Ce(Ce({},t),{},{match:t=>Ae.isVoid(e,t)}))},withoutNormalizing(e,t){var r=Ae.isNormalizing(e);ce.set(e,!1);try{t()}finally{ce.set(e,r)}Ae.normalize(e)}},Ne={isLocation:e=>We.isPath(e)||Ve.isPoint(e)||Je.isRange(e)},Re={isSpan:e=>Array.isArray(e)&&2===e.length&&e.every(We.isPath)},Be=new WeakMap,Te={ancestor(e,t){var r=Te.get(e,t);if(Ge.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(r));return r},*ancestors(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var n of We.ancestors(t,r)){var o=[Te.ancestor(e,n),n];yield o}},child(e,t){if(Ge.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var r=e.children[t];if(null==r)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return r},*children(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{reverse:n=!1}=r,o=Te.ancestor(e,t),{children:a}=o,i=n?a.length-1:0;n?i>=0:i<a.length;){var s=Te.child(o,i),l=t.concat(i);yield[s,l],i=n?i-1:i+1}},common(e,t,r){var n=We.common(t,r);return[Te.get(e,n),n]},descendant(e,t){var r=Te.get(e,t);if(Ae.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(r));return r},*descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of Te.nodes(e,t))0!==n.length&&(yield[r,n])},*elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of Te.nodes(e,t))De.isElement(r)&&(yield[r,n])},extractProps:e=>De.isAncestor(e)?me(e,["children"]):me(e,["text"]),first(e,t){for(var r=t.slice(),n=Te.get(e,r);n&&!Ge.isText(n)&&0!==n.children.length;)n=n.children[0],r.push(0);return[n,r]},fragment(e,t){if(Ge.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));return te({children:e.children},(e=>{var[r,n]=Je.edges(t),o=Te.nodes(e,{reverse:!0,pass:e=>{var[,r]=e;return!Je.includes(t,r)}});for(var[,a]of o){if(!Je.includes(t,a)){var i=Te.parent(e,a),s=a[a.length-1];i.children.splice(s,1)}if(We.equals(a,n.path)){var l=Te.leaf(e,a);l.text=l.text.slice(0,n.offset)}if(We.equals(a,r.path)){var c=Te.leaf(e,a);c.text=c.text.slice(r.offset)}}Ae.isEditor(e)&&(e.selection=null)})).children},get(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(Ge.isText(r)||!r.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));r=r.children[o]}return r},has(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(Ge.isText(r)||!r.children[o])return!1;r=r.children[o]}return!0},isNode:e=>Ge.isText(e)||De.isElement(e)||Ae.isEditor(e),isNodeList(e){if(!Array.isArray(e))return!1;var t=Be.get(e);if(void 0!==t)return t;var r=e.every((e=>Te.isNode(e)));return Be.set(e,r),r},last(e,t){for(var r=t.slice(),n=Te.get(e,r);n&&!Ge.isText(n)&&0!==n.children.length;){var o=n.children.length-1;n=n.children[o],r.push(o)}return[n,r]},leaf(e,t){var r=Te.get(e,t);if(!Ge.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(r));return r},*levels(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var n of We.levels(t,r)){var o=Te.get(e,n);yield[o,n]}},matches:(e,t)=>De.isElement(e)&&De.isElementProps(t)&&De.matches(e,t)||Ge.isText(e)&&Ge.isTextProps(t)&&Ge.matches(e,t),*nodes(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{pass:r,reverse:n=!1}=t,{from:o=[],to:a}=t,i=new Set,s=[],l=e;!a||!(n?We.isBefore(s,a):We.isAfter(s,a));)if(i.has(l)||(yield[l,s]),i.has(l)||Ge.isText(l)||0===l.children.length||null!=r&&!1!==r([l,s])){if(0===s.length)break;if(!n){var c=We.next(s);if(Te.has(e,c)){s=c,l=Te.get(e,s);continue}}if(n&&0!==s[s.length-1])s=We.previous(s),l=Te.get(e,s);else s=We.parent(s),l=Te.get(e,s),i.add(l)}else{i.add(l);var u=n?l.children.length-1:0;We.isAncestor(s,o)&&(u=o[s.length]),s=s.concat(u),l=Te.get(e,s)}},parent(e,t){var r=We.parent(t),n=Te.get(e,r);if(Ge.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string:e=>Ge.isText(e)?e.text:e.children.map(Te.string).join(""),*texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of Te.nodes(e,t))Ge.isText(r)&&(yield[r,n])}};function Me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _e={isNodeOperation:e=>_e.isOperation(e)&&e.type.endsWith("_node"),isOperation(e){if(!Object(n.a)(e))return!1;switch(e.type){case"insert_node":return We.isPath(e.path)&&Te.isNode(e.node);case"insert_text":return"number"===typeof e.offset&&"string"===typeof e.text&&We.isPath(e.path);case"merge_node":return"number"===typeof e.position&&We.isPath(e.path)&&Object(n.a)(e.properties);case"move_node":return We.isPath(e.path)&&We.isPath(e.newPath);case"remove_node":return We.isPath(e.path)&&Te.isNode(e.node);case"remove_text":return"number"===typeof e.offset&&"string"===typeof e.text&&We.isPath(e.path);case"set_node":return We.isPath(e.path)&&Object(n.a)(e.properties)&&Object(n.a)(e.newProperties);case"set_selection":return null===e.properties&&Je.isRange(e.newProperties)||null===e.newProperties&&Je.isRange(e.properties)||Object(n.a)(e.properties)&&Object(n.a)(e.newProperties);case"split_node":return We.isPath(e.path)&&"number"===typeof e.position&&Object(n.a)(e.properties);default:return!1}},isOperationList:e=>Array.isArray(e)&&e.every((e=>_e.isOperation(e))),isSelectionOperation:e=>_e.isOperation(e)&&e.type.endsWith("_selection"),isTextOperation:e=>_e.isOperation(e)&&e.type.endsWith("_text"),inverse(e){switch(e.type){case"insert_node":return Le(Le({},e),{},{type:"remove_node"});case"insert_text":return Le(Le({},e),{},{type:"remove_text"});case"merge_node":return Le(Le({},e),{},{type:"split_node",path:We.previous(e.path)});case"move_node":var{newPath:t,path:r}=e;if(We.equals(t,r))return e;if(We.isSibling(r,t))return Le(Le({},e),{},{path:t,newPath:r});var n=We.transform(r,e),o=We.transform(We.next(r),e);return Le(Le({},e),{},{path:n,newPath:o});case"remove_node":return Le(Le({},e),{},{type:"insert_node"});case"remove_text":return Le(Le({},e),{},{type:"insert_text"});case"set_node":var{properties:a,newProperties:i}=e;return Le(Le({},e),{},{properties:i,newProperties:a});case"set_selection":var{properties:s,newProperties:l}=e;return Le(Le({},e),{},null==s?{properties:l,newProperties:null}:null==l?{properties:null,newProperties:s}:{properties:l,newProperties:s});case"split_node":return Le(Le({},e),{},{type:"merge_node",path:We.next(e.path)})}}},We={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=We.levels(e,t);return n=r?n.slice(1):n.slice(0,-1)},common(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var o=e[n];if(o!==t[n])break;r.push(o)}return r},compare(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),a=e[r],i=t[r];return We.equals(n,o)&&a>i},endsAt(e,t){var r=e.length,n=e.slice(0,r),o=t.slice(0,r);return We.equals(n,o)},endsBefore(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),a=e[r],i=t[r];return We.equals(n,o)&&a<i},equals:(e,t)=>e.length===t.length&&e.every(((e,r)=>e===t[r])),hasPrevious:e=>e[e.length-1]>0,isAfter:(e,t)=>1===We.compare(e,t),isAncestor:(e,t)=>e.length<t.length&&0===We.compare(e,t),isBefore:(e,t)=>-1===We.compare(e,t),isChild:(e,t)=>e.length===t.length+1&&0===We.compare(e,t),isCommon:(e,t)=>e.length<=t.length&&0===We.compare(e,t),isDescendant:(e,t)=>e.length>t.length&&0===We.compare(e,t),isParent:(e,t)=>e.length+1===t.length&&0===We.compare(e,t),isPath:e=>Array.isArray(e)&&(0===e.length||"number"===typeof e[0]),isSibling(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&We.equals(r,n)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=[],o=0;o<=e.length;o++)n.push(e.slice(0,o));return r&&n.reverse(),n},next(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},parent(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!We.isAncestor(t,e)&&!We.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return te(e,(n=>{var{affinity:o="forward"}=r;if(0!==e.length)switch(t.type){case"insert_node":var{path:a}=t;(We.equals(a,n)||We.endsBefore(a,n)||We.isAncestor(a,n))&&(n[a.length-1]+=1);break;case"remove_node":var{path:i}=t;if(We.equals(i,n)||We.isAncestor(i,n))return null;We.endsBefore(i,n)&&(n[i.length-1]-=1);break;case"merge_node":var{path:s,position:l}=t;We.equals(s,n)||We.endsBefore(s,n)?n[s.length-1]-=1:We.isAncestor(s,n)&&(n[s.length-1]-=1,n[s.length]+=l);break;case"split_node":var{path:c,position:u}=t;if(We.equals(c,n)){if("forward"===o)n[n.length-1]+=1;else if("backward"!==o)return null}else We.endsBefore(c,n)?n[c.length-1]+=1:We.isAncestor(c,n)&&e[c.length]>=u&&(n[c.length-1]+=1,n[c.length]-=u);break;case"move_node":var{path:d,newPath:f}=t;if(We.equals(d,f))return;if(We.isAncestor(d,n)||We.equals(d,n)){var v=f.slice();return We.endsBefore(d,f)&&d.length<f.length&&(v[d.length-1]-=1),v.concat(n.slice(d.length))}We.isSibling(d,f)&&(We.isAncestor(f,n)||We.equals(f,n))?We.endsBefore(d,n)?n[d.length-1]-=1:n[d.length-1]+=1:We.endsBefore(f,n)||We.equals(f,n)||We.isAncestor(f,n)?(We.endsBefore(d,n)&&(n[d.length-1]-=1),n[f.length-1]+=1):We.endsBefore(d,n)&&(We.equals(f,n)&&(n[f.length-1]+=1),n[d.length-1]-=1)}}))}},Ie={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var o=We.transform(r,t,{affinity:n});e.current=o,null==o&&e.unref()}}};function qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ve={compare(e,t){var r=We.compare(e.path,t.path);return 0===r?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter:(e,t)=>1===Ve.compare(e,t),isBefore:(e,t)=>-1===Ve.compare(e,t),equals:(e,t)=>e.offset===t.offset&&We.equals(e.path,t.path),isPoint:e=>Object(n.a)(e)&&"number"===typeof e.offset&&We.isPath(e.path),transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return te(e,(e=>{var{affinity:n="forward"}=r,{path:o,offset:a}=e;switch(t.type){case"insert_node":case"move_node":e.path=We.transform(o,t,r);break;case"insert_text":We.equals(t.path,o)&&t.offset<=a&&(e.offset+=t.text.length);break;case"merge_node":We.equals(t.path,o)&&(e.offset+=t.position),e.path=We.transform(o,t,r);break;case"remove_text":We.equals(t.path,o)&&t.offset<=a&&(e.offset-=Math.min(a-t.offset,t.text.length));break;case"remove_node":if(We.equals(t.path,o)||We.isAncestor(t.path,o))return null;e.path=We.transform(o,t,r);break;case"split_node":if(We.equals(t.path,o)){if(t.position===a&&null==n)return null;(t.position<a||t.position===a&&"forward"===n)&&(e.offset-=t.position,e.path=We.transform(o,t,ze(ze({},r),{},{affinity:"forward"})))}else e.path=We.transform(o,t,r)}}))}},Ue={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var o=Ve.transform(r,t,{affinity:n});e.current=o,null==o&&e.unref()}}};function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Je={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,{anchor:n,focus:o}=e;return Je.isBackward(e)===r?[n,o]:[o,n]},end(e){var[,t]=Je.edges(e);return t},equals:(e,t)=>Ve.equals(e.anchor,t.anchor)&&Ve.equals(e.focus,t.focus),includes(e,t){if(Je.isRange(t)){if(Je.includes(e,t.anchor)||Je.includes(e,t.focus))return!0;var[r,n]=Je.edges(e),[o,a]=Je.edges(t);return Ve.isBefore(r,o)&&Ve.isAfter(n,a)}var[i,s]=Je.edges(e),l=!1,c=!1;return Ve.isPoint(t)?(l=Ve.compare(t,i)>=0,c=Ve.compare(t,s)<=0):(l=We.compare(t,i.path)>=0,c=We.compare(t,s.path)<=0),l&&c},intersection(e,t){var r=me(e,["anchor","focus"]),[n,o]=Je.edges(e),[a,i]=Je.edges(t),s=Ve.isBefore(n,a)?a:n,l=Ve.isBefore(o,i)?o:i;return Ve.isBefore(l,s)?null:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({anchor:s,focus:l},r)},isBackward(e){var{anchor:t,focus:r}=e;return Ve.isAfter(t,r)},isCollapsed(e){var{anchor:t,focus:r}=e;return Ve.equals(t,r)},isExpanded:e=>!Je.isCollapsed(e),isForward:e=>!Je.isBackward(e),isRange:e=>Object(n.a)(e)&&Ve.isPoint(e.anchor)&&Ve.isPoint(e.focus),*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=Je.edges(e);return t},transform(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:a="inward"}=o;return"inward"===a?Je.isForward(e)?(r="forward",n="backward"):(r="backward",n="forward"):"outward"===a?Je.isForward(e)?(r="backward",n="forward"):(r="forward",n="backward"):(r=a,n=a),te(e,(e=>{var o=Ve.transform(e.anchor,t,{affinity:r}),a=Ve.transform(e.focus,t,{affinity:n});if(!o||!a)return null;e.anchor=o,e.focus=a}))}},He={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var o=Je.transform(r,t,{affinity:n});e.current=o,null==o&&e.unref()}}};function Xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ge={equals(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:n=!1}=r;function o(e){return me(e,["text"])}return ae()(n?o(e):e,n?o(t):t)},isText:e=>Object(n.a)(e)&&"string"===typeof e.text,isTextList:e=>Array.isArray(e)&&e.every((e=>Ge.isText(e))),isTextProps:e=>void 0!==e.text,matches(e,t){for(var r in t)if("text"!==r&&(!e.hasOwnProperty(r)||e[r]!==t[r]))return!1;return!0},decorations(e,t){var r=[$e({},e)];for(var n of t){var o=me(n,["anchor","focus"]),[a,i]=Je.edges(n),s=[],l=0;for(var c of r){var{length:u}=c.text,d=l;if(l+=u,a.offset<=d&&i.offset>=l)Object.assign(c,o),s.push(c);else if(a.offset!==i.offset&&(a.offset===l||i.offset===d)||a.offset>l||i.offset<d||i.offset===d&&0!==d)s.push(c);else{var f=c,v=void 0,h=void 0;if(i.offset<l){var p=i.offset-d;h=$e($e({},f),{},{text:f.text.slice(p)}),f=$e($e({},f),{},{text:f.text.slice(0,p)})}if(a.offset>d){var g=a.offset-d;v=$e($e({},f),{},{text:f.text.slice(0,g)}),f=$e($e({},f),{},{text:f.text.slice(g)})}Object.assign(f,o),v&&s.push(v),s.push(f),h&&s.push(h)}}r=s}return r}};function Ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tt={insertNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ae.withoutNormalizing(e,(()=>{var{hanging:n=!1,voids:o=!1,mode:a="lowest"}=r,{at:i,match:s,select:l}=r;if(Te.isNode(t)&&(t=[t]),0!==t.length){var[c]=t;if(i||(i=e.selection?e.selection:e.children.length>0?Ae.end(e,[]):[0],l=!0),null==l&&(l=!1),Je.isRange(i))if(n||(i=Ae.unhangRange(e,i)),Je.isCollapsed(i))i=i.anchor;else{var[,u]=Je.edges(i),d=Ae.pointRef(e,u);dt.delete(e,{at:i}),i=d.unref()}if(Ve.isPoint(i)){null==s&&(s=Ge.isText(c)?e=>Ge.isText(e):e.isInline(c)?t=>Ge.isText(t)||Ae.isInline(e,t):t=>Ae.isBlock(e,t));var[f]=Ae.nodes(e,{at:i.path,match:s,mode:a,voids:o});if(!f)return;var[,v]=f,h=Ae.pathRef(e,v),p=Ae.isEnd(e,i,v);dt.splitNodes(e,{at:i,match:s,mode:a,voids:o});var g=h.unref();i=p?We.next(g):g}var m=We.parent(i),b=i[i.length-1];if(o||!Ae.void(e,{at:m})){for(var y of t){var w=m.concat(b);b++,e.apply({type:"insert_node",path:w,node:y})}if(l){var O=Ae.end(e,i);O&&dt.select(e,O)}}}}))},liftNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ae.withoutNormalizing(e,(()=>{var{at:r=e.selection,mode:n="lowest",voids:o=!1}=t,{match:a}=t;if(null==a&&(a=We.isPath(r)?ot(e,r):t=>Ae.isBlock(e,t)),r){var i=Ae.nodes(e,{at:r,match:a,mode:n,voids:o}),s=Array.from(i,(t=>{var[,r]=t;return Ae.pathRef(e,r)}));for(var l of s){var c=l.unref();if(c.length<2)throw new Error("Cannot lift node at a path [".concat(c,"] because it has a depth of less than `2`."));var u=Ae.node(e,We.parent(c)),[d,f]=u,v=c[c.length-1],{length:h}=d.children;if(1===h){var p=We.next(f);dt.moveNodes(e,{at:c,to:p,voids:o}),dt.removeNodes(e,{at:f,voids:o})}else if(0===v)dt.moveNodes(e,{at:c,to:f,voids:o});else if(v===h-1){var g=We.next(f);dt.moveNodes(e,{at:c,to:g,voids:o})}else{var m=We.next(c),b=We.next(f);dt.splitNodes(e,{at:m,voids:o}),dt.moveNodes(e,{at:c,to:b,voids:o})}}}}))},mergeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ae.withoutNormalizing(e,(()=>{var{match:r,at:n=e.selection}=t,{hanging:o=!1,voids:a=!1,mode:i="lowest"}=t;if(n){if(null==r)if(We.isPath(n)){var[s]=Ae.parent(e,n);r=e=>s.children.includes(e)}else r=t=>Ae.isBlock(e,t);if(!o&&Je.isRange(n)&&(n=Ae.unhangRange(e,n)),Je.isRange(n))if(Je.isCollapsed(n))n=n.anchor;else{var[,l]=Je.edges(n),c=Ae.pointRef(e,l);dt.delete(e,{at:n}),n=c.unref(),null==t.at&&dt.select(e,n)}var[u]=Ae.nodes(e,{at:n,match:r,voids:a,mode:i}),d=Ae.previous(e,{at:n,match:r,voids:a,mode:i});if(u&&d){var[f,v]=u,[h,p]=d;if(0!==v.length&&0!==p.length){var g,m,b=We.next(p),y=We.common(v,p),w=We.isSibling(v,p),O=Array.from(Ae.levels(e,{at:v}),(e=>{var[t]=e;return t})).slice(y.length).slice(0,-1),E=Ae.above(e,{at:v,mode:"highest",match:t=>O.includes(t)&&rt(e,t)}),x=E&&Ae.pathRef(e,E[1]);if(Ge.isText(f)&&Ge.isText(h)){var k=me(f,["text"]);m=h.text.length,g=k}else{if(!De.isElement(f)||!De.isElement(h))throw new Error("Cannot merge the node at path [".concat(v,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(f)," ").concat(JSON.stringify(h)));k=me(f,["children"]);m=h.children.length,g=k}w||dt.moveNodes(e,{at:v,to:b,voids:a}),x&&dt.removeNodes(e,{at:x.current,voids:a}),De.isElement(h)&&Ae.isEmpty(e,h)||Ge.isText(h)&&""===h.text?dt.removeNodes(e,{at:p,voids:a}):e.apply({type:"merge_node",path:b,position:m,properties:g}),x&&x.unref()}}}}))},moveNodes(e,t){Ae.withoutNormalizing(e,(()=>{var{to:r,at:n=e.selection,mode:o="lowest",voids:a=!1}=t,{match:i}=t;if(n){null==i&&(i=We.isPath(n)?ot(e,n):t=>Ae.isBlock(e,t));var s=Ae.pathRef(e,r),l=Ae.nodes(e,{at:n,match:i,mode:o,voids:a}),c=Array.from(l,(t=>{var[,r]=t;return Ae.pathRef(e,r)}));for(var u of c){var d=u.unref(),f=s.current;0!==d.length&&e.apply({type:"move_node",path:d,newPath:f}),s.current&&We.isSibling(f,d)&&We.isAfter(f,d)&&(s.current=We.next(s.current))}s.unref()}}))},removeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ae.withoutNormalizing(e,(()=>{var{hanging:r=!1,voids:n=!1,mode:o="lowest"}=t,{at:a=e.selection,match:i}=t;if(a){null==i&&(i=We.isPath(a)?ot(e,a):t=>Ae.isBlock(e,t)),!r&&Je.isRange(a)&&(a=Ae.unhangRange(e,a));var s=Ae.nodes(e,{at:a,match:i,mode:o,voids:n}),l=Array.from(s,(t=>{var[,r]=t;return Ae.pathRef(e,r)}));for(var c of l){var u=c.unref();if(u){var[d]=Ae.node(e,u);e.apply({type:"remove_node",path:u,node:d})}}}}))},setNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ae.withoutNormalizing(e,(()=>{var{match:n,at:o=e.selection}=r,{hanging:a=!1,mode:i="lowest",split:s=!1,voids:l=!1}=r;if(o){if(null==n&&(n=We.isPath(o)?ot(e,o):t=>Ae.isBlock(e,t)),!a&&Je.isRange(o)&&(o=Ae.unhangRange(e,o)),s&&Je.isRange(o)){var c=Ae.rangeRef(e,o,{affinity:"inward"}),[u,d]=Je.edges(o),f="lowest"===i?"lowest":"highest",v=Ae.isEnd(e,d,d.path);dt.splitNodes(e,{at:d,match:n,mode:f,voids:l,always:!v});var h=Ae.isStart(e,u,u.path);dt.splitNodes(e,{at:u,match:n,mode:f,voids:l,always:!h}),o=c.unref(),null==r.at&&dt.select(e,o)}for(var[p,g]of Ae.nodes(e,{at:o,match:n,mode:i,voids:l})){var m={},b={};if(0!==g.length){for(var y in t)"children"!==y&&"text"!==y&&t[y]!==p[y]&&(p.hasOwnProperty(y)&&(m[y]=p[y]),b[y]=t[y]);0!==Object.keys(b).length&&e.apply({type:"set_node",path:g,properties:m,newProperties:b})}}}}))},splitNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ae.withoutNormalizing(e,(()=>{var{mode:r="lowest",voids:n=!1}=t,{match:o,at:a=e.selection,height:i=0,always:s=!1}=t;if(null==o&&(o=t=>Ae.isBlock(e,t)),Je.isRange(a)&&(a=nt(e,a)),We.isPath(a)){var l=a,c=Ae.point(e,l),[u]=Ae.parent(e,l);o=e=>e===u,i=c.path.length-l.length+1,a=c,s=!0}if(a){var d=Ae.pointRef(e,a,{affinity:"backward"}),[f]=Ae.nodes(e,{at:a,match:o,mode:r,voids:n});if(f){var v=Ae.void(e,{at:a,mode:"highest"});if(!n&&v){var[h,p]=v;if(De.isElement(h)&&e.isInline(h)){var g=Ae.after(e,p);if(!g){var m=We.next(p);dt.insertNodes(e,{text:""},{at:m,voids:n}),g=Ae.point(e,m)}a=g,s=!0}i=a.path.length-p.length+1,s=!0}var b=Ae.pointRef(e,a),y=a.path.length-i,[,w]=f,O=a.path.slice(0,y),E=0===i?a.offset:a.path[y]+0;for(var[x,k]of Ae.levels(e,{at:O,reverse:!0,voids:n})){var j=!1;if(k.length<w.length||0===k.length||!n&&Ae.isVoid(e,x))break;var P=d.current,D=Ae.isEnd(e,P,k);if(s||!d||!Ae.isEdge(e,P,k)){j=!0;var F=Te.extractProps(x);e.apply({type:"split_node",path:k,position:E,properties:F})}E=k[k.length-1]+(j||D?1:0)}if(null==t.at){var C=b.current||Ae.end(e,[]);dt.select(e,C)}d.unref(),b.unref()}}}))},unsetNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var n={};for(var o of t)n[o]=null;dt.setNodes(e,n,r)},unwrapNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ae.withoutNormalizing(e,(()=>{var{mode:r="lowest",split:n=!1,voids:o=!1}=t,{at:a=e.selection,match:i}=t;if(a){null==i&&(i=We.isPath(a)?ot(e,a):t=>Ae.isBlock(e,t)),We.isPath(a)&&(a=Ae.range(e,a));var s=Je.isRange(a)?Ae.rangeRef(e,a):null,l=Ae.nodes(e,{at:a,match:i,mode:r,voids:o}),c=Array.from(l,(t=>{var[,r]=t;return Ae.pathRef(e,r)})),u=function(t){var r=t.unref(),[a]=Ae.node(e,r),i=Ae.range(e,r);n&&s&&(i=Je.intersection(s.current,i)),dt.liftNodes(e,{at:i,match:e=>De.isAncestor(a)&&a.children.includes(e),voids:o})};for(var d of c)u(d);s&&s.unref()}}))},wrapNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ae.withoutNormalizing(e,(()=>{var{mode:n="lowest",split:o=!1,voids:a=!1}=r,{match:i,at:s=e.selection}=r;if(s){if(null==i&&(i=We.isPath(s)?ot(e,s):e.isInline(t)?t=>Ae.isInline(e,t)||Ge.isText(t):t=>Ae.isBlock(e,t)),o&&Je.isRange(s)){var[l,c]=Je.edges(s),u=Ae.rangeRef(e,s,{affinity:"inward"});dt.splitNodes(e,{at:c,match:i,voids:a}),dt.splitNodes(e,{at:l,match:i,voids:a}),s=u.unref(),null==r.at&&dt.select(e,s)}var d=Array.from(Ae.nodes(e,{at:s,match:e.isInline(t)?t=>Ae.isBlock(e,t):e=>Ae.isEditor(e),mode:"lowest",voids:a}));for(var[,f]of d){var v=Je.isRange(s)?Je.intersection(s,Ae.range(e,f)):s;if(v){var h=Array.from(Ae.nodes(e,{at:v,match:i,mode:n,voids:a}));h.length>0&&function(){var[r]=h,n=h[h.length-1],[,o]=r,[,i]=n,s=We.equals(o,i)?We.parent(o):We.common(o,i),l=Ae.range(e,o,i),c=Ae.node(e,s),[u]=c,d=s.length+1,f=We.next(i.slice(0,d)),v=et(et({},t),{},{children:[]});dt.insertNodes(e,v,{at:f,voids:a}),dt.moveNodes(e,{at:l,match:e=>De.isAncestor(u)&&u.children.includes(e),to:f.concat(0),voids:a})}()}}}}))}},rt=(e,t)=>{if(De.isElement(t)){var r=t;return!!Ae.isVoid(e,t)||1===r.children.length&&rt(e,r.children[0])}return!Ae.isEditor(t)},nt=(e,t)=>{if(Je.isCollapsed(t))return t.anchor;var[,r]=Je.edges(t),n=Ae.pointRef(e,r);return dt.delete(e,{at:t}),n.unref()},ot=(e,t)=>{var[r]=Ae.node(e,t);return e=>e===r};function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var st={collapse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{edge:r="anchor"}=t,{selection:n}=e;if(n)if("anchor"===r)dt.select(e,n.anchor);else if("focus"===r)dt.select(e,n.focus);else if("start"===r){var[o]=Je.edges(n);dt.select(e,o)}else if("end"===r){var[,a]=Je.edges(n);dt.select(e,a)}},deselect(e){var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:r}=e,{distance:n=1,unit:o="character",reverse:a=!1}=t,{edge:i=null}=t;if(r){"start"===i&&(i=Je.isBackward(r)?"focus":"anchor"),"end"===i&&(i=Je.isBackward(r)?"anchor":"focus");var{anchor:s,focus:l}=r,c={distance:n,unit:o},u={};if(null==i||"anchor"===i){var d=a?Ae.before(e,s,c):Ae.after(e,s,c);d&&(u.anchor=d)}if(null==i||"focus"===i){var f=a?Ae.before(e,l,c):Ae.after(e,l,c);f&&(u.focus=f)}dt.setSelection(e,u)}},select(e,t){var{selection:r}=e;if(t=Ae.range(e,t),r)dt.setSelection(e,t);else{if(!Je.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(t)));e.apply({type:"set_selection",properties:r,newProperties:t})}},setPoint(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{selection:n}=e,{edge:o="both"}=r;if(n){"start"===o&&(o=Je.isBackward(n)?"focus":"anchor"),"end"===o&&(o=Je.isBackward(n)?"anchor":"focus");var{anchor:a,focus:i}=n,s="anchor"===o?a:i;dt.setSelection(e,{["anchor"===o?"anchor":"focus"]:it(it({},s),t)})}},setSelection(e,t){var{selection:r}=e,n={},o={};if(r){for(var a in t)("anchor"===a&&null!=t.anchor&&!Ve.equals(t.anchor,r.anchor)||"focus"===a&&null!=t.focus&&!Ve.equals(t.focus,r.focus)||"anchor"!==a&&"focus"!==a&&t[a]!==r[a])&&(n[a]=r[a],o[a]=t[a]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:o})}}},lt={delete(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ae.withoutNormalizing(e,(()=>{var{reverse:r=!1,unit:n="character",distance:o=1,voids:a=!1}=t,{at:i=e.selection,hanging:s=!1}=t;if(i){if(Je.isRange(i)&&Je.isCollapsed(i)&&(i=i.anchor),Ve.isPoint(i)){var l=Ae.void(e,{at:i,mode:"highest"});if(!a&&l){var[,c]=l;i=c}else{var u={unit:n,distance:o};i={anchor:i,focus:r?Ae.before(e,i,u)||Ae.start(e,[]):Ae.after(e,i,u)||Ae.end(e,[])},s=!0}}if(We.isPath(i))dt.removeNodes(e,{at:i,voids:a});else if(!Je.isCollapsed(i)){if(!s){var[,d]=Je.edges(i),f=Ae.end(e,[]);Ve.equals(d,f)||(i=Ae.unhangRange(e,i,{voids:a}))}var[v,h]=Je.edges(i),p=Ae.above(e,{match:t=>Ae.isBlock(e,t),at:v,voids:a}),g=Ae.above(e,{match:t=>Ae.isBlock(e,t),at:h,voids:a}),m=p&&g&&!We.equals(p[1],g[1]),b=We.equals(v.path,h.path),y=a?null:Ae.void(e,{at:v,mode:"highest"}),w=a?null:Ae.void(e,{at:h,mode:"highest"});if(y){var O=Ae.before(e,v);O&&p&&We.isAncestor(p[1],O.path)&&(v=O)}if(w){var E=Ae.after(e,h);E&&g&&We.isAncestor(g[1],E.path)&&(h=E)}var x,k=[];for(var j of Ae.nodes(e,{at:i,voids:a})){var[P,D]=j;x&&0===We.compare(D,x)||(!a&&Ae.isVoid(e,P)||!We.isCommon(D,v.path)&&!We.isCommon(D,h.path))&&(k.push(j),x=D)}var F=Array.from(k,(t=>{var[,r]=t;return Ae.pathRef(e,r)})),C=Ae.pointRef(e,v),S=Ae.pointRef(e,h);if(!b&&!y){var A=C.current,[N]=Ae.leaf(e,A),{path:R}=A,{offset:B}=v,T=N.text.slice(B);T.length>0&&e.apply({type:"remove_text",path:R,offset:B,text:T})}for(var M of F){var L=M.unref();dt.removeNodes(e,{at:L,voids:a})}if(!w){var _=S.current,[W]=Ae.leaf(e,_),{path:I}=_,q=b?v.offset:0,z=W.text.slice(q,h.offset);z.length>0&&e.apply({type:"remove_text",path:I,offset:q,text:z})}!b&&m&&S.current&&C.current&&dt.mergeNodes(e,{at:S.current,hanging:!0,voids:a});var V=r?C.unref()||S.unref():S.unref()||C.unref();null==t.at&&V&&dt.select(e,V)}}}))},insertFragment(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ae.withoutNormalizing(e,(()=>{var{hanging:n=!1,voids:o=!1}=r,{at:a=e.selection}=r;if(t.length&&a){if(Je.isRange(a))if(n||(a=Ae.unhangRange(e,a)),Je.isCollapsed(a))a=a.anchor;else{var[,i]=Je.edges(a);if(!o&&Ae.void(e,{at:i}))return;var s=Ae.pointRef(e,i);dt.delete(e,{at:a}),a=s.unref()}else We.isPath(a)&&(a=Ae.start(e,a));if(o||!Ae.void(e,{at:a})){var l=Ae.above(e,{at:a,match:t=>Ae.isInline(e,t),mode:"highest",voids:o});if(l){var[,c]=l;if(Ae.isEnd(e,a,c))a=Ae.after(e,c);else if(Ae.isStart(e,a,c)){a=Ae.before(e,c)}}var u=Ae.above(e,{match:t=>Ae.isBlock(e,t),at:a,voids:o}),[,d]=u,f=Ae.isStart(e,a,d),v=Ae.isEnd(e,a,d),h=!f||f&&v,p=!v,[,g]=Te.first({children:t},[]),[,m]=Te.last({children:t},[]),b=[],y=t=>{var[r,n]=t;return!(h&&We.isAncestor(n,g)&&De.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))&&!(p&&We.isAncestor(n,m)&&De.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))};for(var w of Te.nodes({children:t},{pass:y}))w[1].length>0&&y(w)&&b.push(w);var O=[],E=[],x=[],k=!0,j=!1;for(var[P]of b)De.isElement(P)&&!e.isInline(P)?(k=!1,j=!0,E.push(P)):k?O.push(P):x.push(P);var[D]=Ae.nodes(e,{at:a,match:t=>Ge.isText(t)||Ae.isInline(e,t),mode:"highest",voids:o}),[,F]=D,C=Ae.isStart(e,a,F),S=Ae.isEnd(e,a,F),A=Ae.pathRef(e,v?We.next(d):d),N=Ae.pathRef(e,S?We.next(F):F);dt.splitNodes(e,{at:a,match:t=>j?Ae.isBlock(e,t):Ge.isText(t)||Ae.isInline(e,t),mode:j?"lowest":"highest",voids:o});var R=Ae.pathRef(e,!C||C&&S?We.next(F):F);if(dt.insertNodes(e,O,{at:R.current,match:t=>Ge.isText(t)||Ae.isInline(e,t),mode:"highest",voids:o}),dt.insertNodes(e,E,{at:A.current,match:t=>Ae.isBlock(e,t),mode:"lowest",voids:o}),dt.insertNodes(e,x,{at:N.current,match:t=>Ge.isText(t)||Ae.isInline(e,t),mode:"highest",voids:o}),!r.at){var B;B=x.length>0?We.previous(N.current):E.length>0?We.previous(A.current):We.previous(R.current);var T=Ae.end(e,B);dt.select(e,T)}R.unref(),A.unref(),N.unref()}}}))},insertText(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ae.withoutNormalizing(e,(()=>{var{voids:n=!1}=r,{at:o=e.selection}=r;if(o){if(We.isPath(o)&&(o=Ae.range(e,o)),Je.isRange(o))if(Je.isCollapsed(o))o=o.anchor;else{var a=Je.end(o);if(!n&&Ae.void(e,{at:a}))return;var i=Ae.pointRef(e,a);dt.delete(e,{at:o,voids:n}),o=i.unref(),dt.setSelection(e,{anchor:o,focus:o})}if(n||!Ae.void(e,{at:o})){var{path:s,offset:l}=o;t.length>0&&e.apply({type:"insert_text",path:s,offset:l,text:t})}}}))}};function ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var dt=ut(ut(ut(ut({},{transform(e,t){e.children=re(e.children);var r=e.selection&&re(e.selection);try{r=((e,t,r)=>{switch(r.type){case"insert_node":var{path:n,node:o}=r,a=Te.parent(e,n),i=n[n.length-1];if(i>a.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(a.children.splice(i,0,o),t)for(var[s,l]of Je.points(t))t[l]=Ve.transform(s,r);break;case"insert_text":var{path:c,offset:u,text:d}=r;if(0===d.length)break;var f=Te.leaf(e,c),v=f.text.slice(0,u),h=f.text.slice(u);if(f.text=v+d+h,t)for(var[p,g]of Je.points(t))t[g]=Ve.transform(p,r);break;case"merge_node":var{path:m}=r,b=Te.get(e,m),y=We.previous(m),w=Te.get(e,y),O=Te.parent(e,m),E=m[m.length-1];if(Ge.isText(b)&&Ge.isText(w))w.text+=b.text;else{if(Ge.isText(b)||Ge.isText(w))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(m,"] to nodes of different interfaces: ").concat(b," ").concat(w));w.children.push(...b.children)}if(O.children.splice(E,1),t)for(var[x,k]of Je.points(t))t[k]=Ve.transform(x,r);break;case"move_node":var{path:j,newPath:P}=r;if(We.isAncestor(j,P))throw new Error("Cannot move a path [".concat(j,"] to new path [").concat(P,"] because the destination is inside itself."));var D=Te.get(e,j),F=Te.parent(e,j),C=j[j.length-1];F.children.splice(C,1);var S=We.transform(j,r),A=Te.get(e,We.parent(S)),N=S[S.length-1];if(A.children.splice(N,0,D),t)for(var[R,B]of Je.points(t))t[B]=Ve.transform(R,r);break;case"remove_node":var{path:T}=r,M=T[T.length-1];if(Te.parent(e,T).children.splice(M,1),t)for(var[L,_]of Je.points(t)){var W=Ve.transform(L,r);if(null!=t&&null!=W)t[_]=W;else{var I=void 0,q=void 0;for(var[z,V]of Te.texts(e)){if(-1!==We.compare(V,T)){q=[z,V];break}I=[z,V]}I?(L.path=I[1],L.offset=I[0].text.length):q?(L.path=q[1],L.offset=0):t=null}}break;case"remove_text":var{path:U,offset:K,text:J}=r;if(0===J.length)break;var H=Te.leaf(e,U),X=H.text.slice(0,K),$=H.text.slice(K+J.length);if(H.text=X+$,t)for(var[G,Y]of Je.points(t))t[Y]=Ve.transform(G,r);break;case"set_node":var{path:Q,properties:Z,newProperties:ee}=r;if(0===Q.length)throw new Error("Cannot set properties on the root node!");var te=Te.get(e,Q);for(var re in ee){if("children"===re||"text"===re)throw new Error('Cannot set the "'.concat(re,'" property of nodes!'));var ne=ee[re];null==ne?delete te[re]:te[re]=ne}for(var oe in Z)ee.hasOwnProperty(oe)||delete te[oe];break;case"set_selection":var{newProperties:ae}=r;if(null==ae)t=ae;else{if(null==t){if(!Je.isRange(ae))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(ae)," when there is no current selection."));t=Qe({},ae)}for(var ie in ae){var se=ae[ie];if(null==se){if("anchor"===ie||"focus"===ie)throw new Error('Cannot remove the "'.concat(ie,'" selection property'));delete t[ie]}else t[ie]=se}}break;case"split_node":var{path:le,position:ce,properties:ue}=r;if(0===le.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(le,"] because the root node cannot be split."));var de,fe=Te.get(e,le),ve=Te.parent(e,le),he=le[le.length-1];if(Ge.isText(fe)){var pe=fe.text.slice(0,ce),ge=fe.text.slice(ce);fe.text=pe,de=Qe(Qe({},ue),{},{text:ge})}else{var me=fe.children.slice(0,ce),be=fe.children.slice(ce);fe.children=me,de=Qe(Qe({},ue),{},{children:be})}if(ve.children.splice(he+1,0,de),t)for(var[ye,we]of Je.points(t))t[we]=Ve.transform(ye,r)}return t})(e,r,t)}finally{e.children=ne(e.children),e.selection=r?i(r)?ne(r):r:null}}}),tt),st),lt)},"5cuS":function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r("ntbh"))},"6Daa":function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},"76Yc":function(e,t,r){var n=r("MTPF"),o=r("XPfE"),a=r("S5M5"),i=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):a(e)}},DL8J:function(e,t,r){var n=r("5cuS"),o="object"==typeof self&&self&&self.Object===Object&&self,a=n||o||Function("return this")();e.exports=a},EMSQ:function(e,t,r){(function(t){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,i=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,c=s||l||Function("return this")(),u=Object.prototype.toString,d=Math.max,f=Math.min,v=function(){return c.Date.now()};function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function p(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(h(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=h(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var s=o.test(e);return s||a.test(e)?i(e.slice(2),s?2:8):n.test(e)?NaN:+e}e.exports=function(e,t,r){var n,o,a,i,s,l,c=0,u=!1,g=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var r=n,a=o;return n=o=void 0,c=t,i=e.apply(a,r)}function y(e){return c=e,s=setTimeout(O,t),u?b(e):i}function w(e){var r=e-l;return void 0===l||r>=t||r<0||g&&e-c>=a}function O(){var e=v();if(w(e))return E(e);s=setTimeout(O,function(e){var r=t-(e-l);return g?f(r,a-(e-c)):r}(e))}function E(e){return s=void 0,m&&n?b(e):(n=o=void 0,i)}function x(){var e=v(),r=w(e);if(n=arguments,o=this,l=e,r){if(void 0===s)return y(l);if(g)return s=setTimeout(O,t),b(l)}return void 0===s&&(s=setTimeout(O,t)),i}return t=p(t)||0,h(r)&&(u=!!r.leading,a=(g="maxWait"in r)?d(p(r.maxWait)||0,t):a,m="trailing"in r?!!r.trailing:m),x.cancel=function(){void 0!==s&&clearTimeout(s),c=0,n=l=o=s=void 0},x.flush=function(){return void 0===s?i:E(v())},x}}).call(this,r("ntbh"))},GQJy:function(e,t,r){var n=r("Nwb9"),o=r("6Daa"),a=r("tq0X"),i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=s.test(e);return r||l.test(e)?c(e.slice(2),r?2:8):i.test(e)?NaN:+e}},GnR4:function(e,t,r){(function(e,n){var o;!function(a){var i=t,s=(e&&e.exports,"object"==typeof n&&n);s.global!==s&&s.window;var l=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,c=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,u=function(e){for(var t="",r=(e=e.replace(l,(function(e,t,r){return u(r)+t})).replace(c,"$2$1")).length;r--;)t+=e.charAt(r);return t},d={version:"0.2.0",reverse:u};void 0===(o=function(){return d}.call(t,r,t,e))||(e.exports=o)}()}).call(this,r("LY0y")(e),r("ntbh"))},Gv3i:function(e,t,r){var n=r("j7Cr"),o=r("6Daa");e.exports=function(e,t,r){var a=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(r)&&(a="leading"in r?!!r.leading:a,i="trailing"in r?!!r.trailing:i),n(e,t,{leading:a,maxWait:t,trailing:i})}},"H+VF":function(e,t,r){"use strict";r.r(t);var n=r("QM3I"),o=r("EMSQ"),a=r.n(o),i=r("mXGw"),s=r.n(i),l=r("0Z5n"),c=r("KUrX"),u=function(e){return function(t){var r=t.isInline;return t.isInline=function(t){return!!e.some((function(e){return"component"===e.pluginType&&"inline"===e.object&&e.type===t.type}))||r(t)},t}},d=r("gI5u"),f=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(t){a(t)}}function s(e){try{l(n.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))},v=function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},h=function(e,t){return function(r){var n=r.insertData,o=Object(d.a)({plugins:e});return r.insertData=function(e){return f(void 0,void 0,void 0,(function(){var a,i,s,c,u,d,f,h,p,g;return v(this,(function(v){switch(v.label){case 0:return e.getData("application/x-slate-fragment")?(n(e),[2]):(a=e.getData("text/html"))?[4,o(a)]:[3,2];case 1:return i=v.sent().slate,l.Transforms.insertFragment(r,i),[2];case 2:if(s=e.getData("text/plain")){for(c=s.split("\n"),u=!1,d=0;d<c.length;d++)f=c[d],h=c[d+1],p=!h||!h.trim(),g=f+(p?"":"\n"),f.trim()?u?(l.Transforms.insertNodes(r,{type:t,children:[{text:g}]}),u=!1):(l.Transforms.insertText(r,g),u=!1):u=!0;return[2]}return n(e),[2]}}))}))},r}},p=r("TucM"),g=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};t.default=function(e){var t=e.data,r=e.plugins,o=e.children,d=e.defaultPluginType,f=g(Object(i.useState)(null===t||void 0===t?void 0:t.slate),2),v=f[0],m=f[1],b=Object(i.useRef)(v);b.current=v;var y=Object(i.useMemo)((function(){return h(r,d)(Object(c.f)(u(r)(Object(l.createEditor)())))}),[]),w=Object(i.useCallback)(a()((function(){e.onChange({slate:b.current,selection:y.selection},{notUndoable:Object(n.a)(b.current,t.slate)})}),200),[e.onChange,y,t.slate]);Object(i.useEffect)((function(){t.selection?l.Transforms.select(y,t.selection):l.Transforms.deselect(y),m(null===t||void 0===t?void 0:t.slate)}),[null===t||void 0===t?void 0:t.slate,null===t||void 0===t?void 0:t.selection]);var O=Object(i.useCallback)((function(e){y.selection&&(m(e),w())}),[w]);return s.a.createElement(p.a,null,s.a.createElement(c.b,{editor:y,value:v,onChange:O},o))}},KUrX:function(e,t,r){"use strict";r.d(t,"a",(function(){return at})),r.d(t,"b",(function(){return tt})),r.d(t,"c",(function(){return et})),r.d(t,"d",(function(){return ie})),r.d(t,"e",(function(){return Ee})),r.d(t,"f",(function(){return ot}));var n=r("mXGw"),o=r.n(n),a=r("0Z5n"),i=r("wu58"),s=r.n(i),l=r("Gv3i"),c=r.n(l);function u(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function d(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function f(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return d(r.overflowY,t)||d(r.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function v(e,t,r,n,o,a,i,s){return a<e&&i>t||a>e&&i<t?0:a<=e&&s<=r||i>=t&&s>=r?a-e-n:i>t&&s<r||a<e&&s>r?i-t+o:0}var h=function(e,t){var r=window,n=t.scrollMode,o=t.block,a=t.inline,i=t.boundary,s=t.skipOverflowHiddenElements,l="function"==typeof i?i:function(e){return e!==i};if(!u(e))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,d=[],h=e;u(h)&&l(h);){if((h=h.parentElement)===c){d.push(h);break}null!=h&&h===document.body&&f(h)&&!f(document.documentElement)||null!=h&&f(h,s)&&d.push(h)}for(var p=r.visualViewport?r.visualViewport.width:innerWidth,g=r.visualViewport?r.visualViewport.height:innerHeight,m=window.scrollX||pageXOffset,b=window.scrollY||pageYOffset,y=e.getBoundingClientRect(),w=y.height,O=y.width,E=y.top,x=y.right,k=y.bottom,j=y.left,P="start"===o||"nearest"===o?E:"end"===o?k:E+w/2,D="center"===a?j+O/2:"end"===a?x:j,F=[],C=0;C<d.length;C++){var S=d[C],A=S.getBoundingClientRect(),N=A.height,R=A.width,B=A.top,T=A.right,M=A.bottom,L=A.left;if("if-needed"===n&&E>=0&&j>=0&&k<=g&&x<=p&&E>=B&&k<=M&&j>=L&&x<=T)return F;var _=getComputedStyle(S),W=parseInt(_.borderLeftWidth,10),I=parseInt(_.borderTopWidth,10),q=parseInt(_.borderRightWidth,10),z=parseInt(_.borderBottomWidth,10),V=0,U=0,K="offsetWidth"in S?S.offsetWidth-S.clientWidth-W-q:0,J="offsetHeight"in S?S.offsetHeight-S.clientHeight-I-z:0;if(c===S)V="start"===o?P:"end"===o?P-g:"nearest"===o?v(b,b+g,g,I,z,b+P,b+P+w,w):P-g/2,U="start"===a?D:"center"===a?D-p/2:"end"===a?D-p:v(m,m+p,p,W,q,m+D,m+D+O,O),V=Math.max(0,V+b),U=Math.max(0,U+m);else{V="start"===o?P-B-I:"end"===o?P-M+z+J:"nearest"===o?v(B,M,N,I,z+J,P,P+w,w):P-(B+N/2)+J/2,U="start"===a?D-L-W:"center"===a?D-(L+R/2)+K/2:"end"===a?D-T+q+K:v(L,T,R,W,q+K,D,D+O,O);var H=S.scrollLeft,X=S.scrollTop;P+=X-(V=Math.max(0,Math.min(X+V,S.scrollHeight-N+J))),D+=H-(U=Math.max(0,Math.min(H+U,S.scrollWidth-R+K)))}F.push({el:S,top:V,left:U})}return F};function p(e){return e===Object(e)&&0!==Object.keys(e).length}var g=function(e,t){var r=!e.ownerDocument.documentElement.contains(e);if(p(t)&&"function"===typeof t.behavior)return t.behavior(r?[]:h(e,t));if(!r){var n=function(e){return!1===e?{block:"end",inline:"nearest"}:p(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var r="scrollBehavior"in document.body.style;e.forEach((function(e){var n=e.el,o=e.top,a=e.left;n.scroll&&r?n.scroll({top:o,left:a,behavior:t}):(n.scrollTop=o,n.scrollLeft=a)}))}(h(e,n),n.behavior)}},m=r("tlN6"),b="Invariant failed";var y=function(e,t){if(!e)throw new Error(b)},w=r("xARA"),O=r.n(w);function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var k=e=>{var{isLast:t,leaf:r,parent:n,text:i}=e,s=de(),l=ze.findPath(s,i),c=a.Path.parent(l);return s.isVoid(n)?o.a.createElement(P,{length:a.Node.string(n).length}):""!==r.text||n.children[n.children.length-1]!==i||s.isInline(n)||""!==a.Editor.string(s,c)?""===r.text?o.a.createElement(P,null):t&&"\n"===r.text.slice(-1)?o.a.createElement(j,{isTrailing:!0,text:r.text}):o.a.createElement(j,{text:r.text}):o.a.createElement(P,{isLineBreak:!0})},j=e=>{var{text:t,isTrailing:r=!1}=e;return o.a.createElement("span",{"data-slate-string":!0},t,r?"\n":null)},P=e=>{var{length:t=0,isLineBreak:r=!1}=e;return o.a.createElement("span",{"data-slate-zero-width":r?"n":"z","data-slate-length":t},"\ufeff",r?o.a.createElement("br",null):null)},D=new WeakMap,F=new WeakMap,C=new WeakMap,S=new WeakMap,A=new WeakMap,N=new WeakMap,R=new WeakMap,B=new WeakMap,T=new WeakMap,M=new WeakMap,L=new WeakMap,_=new WeakMap,W=Symbol("placeholder"),I=0,q=e=>{var{leaf:t,isLast:r,text:a,parent:i,renderPlaceholder:s,renderLeaf:l=(e=>o.a.createElement(V,Object.assign({},e)))}=e,c=Object(n.useRef)(null);Object(n.useEffect)((()=>{var e=null===c||void 0===c?void 0:c.current,t=document.querySelector('[data-slate-editor="true"]');if(e&&t)return t.style.minHeight="".concat(e.clientHeight,"px"),()=>{t.style.minHeight="auto"}}),[c,t]);var u=o.a.createElement(k,{key:I++,isLast:r,leaf:t,parent:i,text:a});if(t[W]){var d={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none"},contentEditable:!1,ref:c}};u=o.a.createElement(o.a.Fragment,null,s(d),u)}return l({attributes:{"data-slate-leaf":!0},children:u,leaf:t,text:a})},z=o.a.memo(q,((e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&t.leaf.text===e.leaf.text&&a.Text.matches(t.leaf,e.leaf)&&t.leaf[W]===e.leaf[W])),V=e=>{var{attributes:t,children:r}=e;return o.a.createElement("span",Object.assign({},t),r)},U=("undefined"!==typeof navigator&&"undefined"!==typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,"undefined"!==typeof navigator&&/Mac OS X/.test(navigator.userAgent)),K="undefined"!==typeof navigator&&/Android/.test(navigator.userAgent),J="undefined"!==typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),H="undefined"!==typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),X="undefined"!==typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])/i.test(navigator.userAgent),$="undefined"!==typeof navigator&&/Chrome/i.test(navigator.userAgent),G="undefined"!==typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])/i.test(navigator.userAgent),Y="undefined"!==typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])).*/i.test(navigator.userAgent),Q=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Z=!G&&!X&&"undefined"!==typeof globalThis&&globalThis.InputEvent&&"function"===typeof globalThis.InputEvent.prototype.getTargetRanges,ee=Q?n.useLayoutEffect:n.useEffect,te=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every((r=>t.hasOwnProperty(r)&&e[r]===t[r])),re=(e,t)=>{if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],o=t[r],i=x(n,["anchor","focus"]),s=x(o,["anchor","focus"]);if(!a.Range.equals(n,o)||n[W]!==o[W]||!te(i,s))return!1}return!0},ne=e=>{for(var{decorations:t,isLast:r,parent:i,renderPlaceholder:s,renderLeaf:l,text:c}=e,u=de(),d=Object(n.useRef)(null),f=a.Text.decorations(c,t),v=ze.findKey(u,c),h=[],p=0;p<f.length;p++){var g=f[p];h.push(o.a.createElement(z,{isLast:r&&p===f.length-1,key:"".concat(v.id,"-").concat(p),renderPlaceholder:s,leaf:g,text:c,parent:i,renderLeaf:l}))}return ee((()=>{d.current?(N.set(v,d.current),R.set(c,d.current),A.set(d.current,c)):(N.delete(v),R.delete(c))})),o.a.createElement("span",{"data-slate-node":"text",ref:d},h)},oe=o.a.memo(ne,((e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text&&re(t.decorations,e.decorations))),ae=Object(n.createContext)(!1),ie=()=>Object(n.useContext)(ae),se=e=>{var{decorations:t,element:r,renderElement:i=(e=>o.a.createElement(ce,Object.assign({},e))),renderPlaceholder:l,renderLeaf:c,selection:u}=e,d=Object(n.useRef)(null),f=de(),v=we(),h=f.isInline(r),p=ze.findKey(f,r),g=ve({decorations:t,node:r,renderElement:i,renderPlaceholder:l,renderLeaf:c,selection:u}),m={"data-slate-node":"element",ref:d};if(h&&(m["data-slate-inline"]=!0),!h&&a.Editor.hasInlines(f,r)){var b=a.Node.string(r),y=s()(b);"rtl"===y&&(m.dir=y)}if(a.Editor.isVoid(f,r)){m["data-slate-void"]=!0,!v&&h&&(m.contentEditable=!1);var w=h?"span":"div",[[O]]=a.Node.texts(r);g=v?null:o.a.createElement(w,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},o.a.createElement(oe,{renderPlaceholder:l,decorations:[],isLast:!1,parent:r,text:O})),D.set(O,0),F.set(O,r)}return ee((()=>{d.current?(N.set(p,d.current),R.set(r,d.current),A.set(d.current,r)):(N.delete(p),R.delete(r))})),o.a.createElement(ae.Provider,{value:!!u},i({attributes:m,children:g,element:r}))},le=o.a.memo(se,((e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&re(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&a.Range.equals(e.selection,t.selection)))),ce=e=>{var{attributes:t,children:r,element:n}=e,a=de().isInline(n)?"span":"div";return o.a.createElement(a,Object.assign({},t,{style:{position:"relative"}}),r)},ue=Object(n.createContext)(null),de=()=>{var e=Object(n.useContext)(ue);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},fe=Object(n.createContext)((()=>[])),ve=e=>{for(var{decorations:t,node:r,renderElement:i,renderPlaceholder:s,renderLeaf:l,selection:c}=e,u=Object(n.useContext)(fe),d=de(),f=ze.findPath(d,r),v=[],h=a.Element.isElement(r)&&!d.isInline(r)&&a.Editor.hasInlines(d,r),p=0;p<r.children.length;p++){var g=f.concat(p),m=r.children[p],b=ze.findKey(d,m),y=a.Editor.range(d,g),w=c&&a.Range.intersection(y,c),O=u([m,g]);for(var E of t){var x=a.Range.intersection(E,y);x&&O.push(x)}a.Element.isElement(m)?v.push(o.a.createElement(le,{decorations:O,element:m,key:b.id,renderElement:i,renderPlaceholder:s,renderLeaf:l,selection:w})):v.push(o.a.createElement(oe,{decorations:O,key:b.id,isLast:h&&p===r.children.length-1,parent:r,renderPlaceholder:s,renderLeaf:l,text:m})),D.set(m,p),F.set(m,r)}return v},he={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},pe={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},ge={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},me=e=>{var t=he[e],r=pe[e],n=ge[e],o=t&&Object(m.isKeyHotkey)(t),a=r&&Object(m.isKeyHotkey)(r),i=n&&Object(m.isKeyHotkey)(n);return e=>!(!o||!o(e))||(!!(U&&a&&a(e))||!(U||!i||!i(e)))},be={isBold:me("bold"),isCompose:me("compose"),isMoveBackward:me("moveBackward"),isMoveForward:me("moveForward"),isDeleteBackward:me("deleteBackward"),isDeleteForward:me("deleteForward"),isDeleteLineBackward:me("deleteLineBackward"),isDeleteLineForward:me("deleteLineForward"),isDeleteWordBackward:me("deleteWordBackward"),isDeleteWordForward:me("deleteWordForward"),isExtendBackward:me("extendBackward"),isExtendForward:me("extendForward"),isExtendLineBackward:me("extendLineBackward"),isExtendLineForward:me("extendLineForward"),isItalic:me("italic"),isMoveLineBackward:me("moveLineBackward"),isMoveLineForward:me("moveLineForward"),isMoveWordBackward:me("moveWordBackward"),isMoveWordForward:me("moveWordForward"),isRedo:me("redo"),isSplitBlock:me("splitBlock"),isTransposeCharacter:me("transposeCharacter"),isUndo:me("undo")},ye=Object(n.createContext)(!1),we=()=>Object(n.useContext)(ye),Oe=Object(n.createContext)(null),Ee=()=>{var e=Object(n.useContext)(Oe);if(!e)throw new Error("The `useSlate` hook must be used inside the <SlateProvider> component's context.");var[t]=e;return t},xe=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,ke=e=>je(e)&&1===e.nodeType,je=e=>{var t=xe(e);return!!t&&e instanceof t.Node},Pe=e=>{var t=e&&e.anchorNode&&xe(e.anchorNode);return!!t&&e instanceof t.Selection},De=e=>je(e)&&3===e.nodeType,Fe=(e,t,r)=>{for(var n,{childNodes:o}=e,a=o[t],i=t,s=!1,l=!1;(je(n=a)&&8===n.nodeType||ke(a)&&0===a.childNodes.length||ke(a)&&"false"===a.getAttribute("contenteditable"))&&(!s||!l);)i>=o.length?(s=!0,i=t-1,r="backward"):i<0?(l=!0,i=t+1,r="forward"):(a=o[i],t=i,i+="forward"===r?1:-1);return[a,t]},Ce=(e,t,r)=>{var[n]=Fe(e,t,r);return n},Se=e=>{var t="";if(De(e)&&e.nodeValue)return e.nodeValue;if(ke(e)){for(var r of Array.from(e.childNodes))t+=Se(r);var n=getComputedStyle(e).getPropertyValue("display");"block"!==n&&"list"!==n&&"BR"!==e.tagName||(t+="\n")}return t};function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Re=e=>{var{attributes:t,children:r}=e;return o.a.createElement("span",Object.assign({},t),r)},Be=()=>[],Te=(e,t)=>je(t)&&ze.hasDOMNode(e,t),Me=(e,t)=>je(t)&&ze.hasDOMNode(e,t,{editable:!0}),Le=(e,t)=>{var r=Te(e,t)&&ze.toSlateNode(e,t);return a.Editor.isVoid(e,r)},_e=(e,t)=>{if(!t)return!1;var r=t(e);return null!=r?r:e.isDefaultPrevented()||e.isPropagationStopped()},We=(e,t)=>{if(!t)return!1;var r=t(e);return null!=r?r:e.defaultPrevented},Ie=0;class qe{constructor(){this.id="".concat(Ie++)}}var ze={getWindow(e){var t=C.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},findKey(e,t){var r=B.get(t);return r||(r=new qe,B.set(t,r)),r},findPath(e,t){for(var r=[],n=t;;){var o=F.get(n);if(null==o){if(a.Editor.isEditor(n))return r;break}var i=D.get(n);if(null==i)break;r.unshift(i),n=o}throw new Error("Unable to find the path for Slate node: ".concat(JSON.stringify(t)))},findDocumentOrShadowRoot(e){var t=ze.toDOMNode(e,e),r=t.getRootNode();if(t.ownerDocument!==document)return t.ownerDocument;if(!(r instanceof Document||r instanceof ShadowRoot))throw new Error("Unable to find DocumentOrShadowRoot for editor element: ".concat(t));return void 0===r.getSelection&&null!==t.ownerDocument?t.ownerDocument:r},isFocused:e=>!!M.get(e),isReadOnly:e=>!!T.get(e),blur(e){var t=ze.toDOMNode(e,e),r=ze.findDocumentOrShadowRoot(e);M.set(e,!1),r.activeElement===t&&t.blur()},focus(e){var t=ze.toDOMNode(e,e),r=ze.findDocumentOrShadowRoot(e);M.set(e,!0),r.activeElement!==t&&t.focus({preventScroll:!0})},deselect(e){ze.toDOMNode(e,e);var{selection:t}=e,r=ze.findDocumentOrShadowRoot(e).getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&a.Transforms.deselect(e)},hasDOMNode(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{editable:o=!1}=n,a=ze.toDOMNode(e,e);try{r=ke(t)?t:t.parentElement}catch(i){if(!i.message.includes('Permission denied to access property "nodeType"'))throw i}return!!r&&(r.closest("[data-slate-editor]")===a&&(!o||r.isContentEditable||!!r.getAttribute("data-slate-zero-width")))},insertData(e,t){e.insertData(t)},setFragmentData(e,t){e.setFragmentData(t)},toDOMNode(e,t){var r=a.Editor.isEditor(t)?S.get(e):N.get(ze.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(JSON.stringify(t)));return r},toDOMPoint(e,t){var r,[n]=a.Editor.node(e,t.path),o=ze.toDOMNode(e,n);a.Editor.void(e,{at:t})&&(t={path:t.path,offset:0});var i=Array.from(o.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),s=0;for(var l of i){var c=l.childNodes[0];if(null!=c&&null!=c.textContent){var{length:u}=c.textContent,d=l.getAttribute("data-slate-length"),f=s+(null==d?u:parseInt(d,10));if(t.offset<=f){r=[c,Math.min(u,Math.max(0,t.offset-s))];break}s=f}}if(!r)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(JSON.stringify(t)));return r},toDOMRange(e,t){var{anchor:r,focus:n}=t,o=a.Range.isBackward(t),i=ze.toDOMPoint(e,r),s=a.Range.isCollapsed(t)?i:ze.toDOMPoint(e,n),l=ze.getWindow(e).document.createRange(),[c,u]=o?s:i,[d,f]=o?i:s,v=!!(ke(c)?c:c.parentElement).getAttribute("data-slate-zero-width"),h=!!(ke(d)?d:d.parentElement).getAttribute("data-slate-zero-width");return l.setStart(c,v?1:u),l.setEnd(d,h?1:f),l},toSlateNode(e,t){var r=ke(t)?t:t.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?A.get(r):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},findEventRange(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:r,clientY:n,target:o}=t;if(null==r||null==n)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var i,s=ze.toSlateNode(e,t.target),l=ze.findPath(e,s);if(a.Editor.isVoid(e,s)){var c=o.getBoundingClientRect(),u=e.isInline(s)?r-c.left<c.left+c.width-r:n-c.top<c.top+c.height-n,d=a.Editor.point(e,l,{edge:u?"start":"end"}),f=u?a.Editor.before(e,d):a.Editor.after(e,d);if(f)return a.Editor.range(e,f)}var{document:v}=window;if(v.caretRangeFromPoint)i=v.caretRangeFromPoint(r,n);else{var h=v.caretPositionFromPoint(r,n);h&&((i=v.createRange()).setStart(h.offsetNode,h.offset),i.setEnd(h.offsetNode,h.offset))}if(!i)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return ze.toSlateRange(e,i,{exactMatch:!1})},toSlatePoint(e,t,r){var[n,o]=r?t:(e=>{var[t,r]=e;if(ke(t)&&t.childNodes.length){var n=r===t.childNodes.length,o=n?r-1:r;for([t,o]=Fe(t,o,n?"backward":"forward"),n=o<r;ke(t)&&t.childNodes.length;){var a=n?t.childNodes.length-1:0;t=Ce(t,a,n?"backward":"forward")}r=n&&null!=t.textContent?t.textContent.length:0}return[t,r]})(t),a=n.parentNode,i=null,s=0;if(a){var l=a.closest('[data-slate-void="true"]'),c=a.closest("[data-slate-leaf]"),u=null;if(c){i=c.closest('[data-slate-node="text"]');var d=ze.getWindow(e).document.createRange();d.setStart(i,0),d.setEnd(n,o);var f=d.cloneContents();[...Array.prototype.slice.call(f.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(f.querySelectorAll("[contenteditable=false]"))].forEach((e=>{e.parentNode.removeChild(e)})),s=f.textContent.length,u=i}else l&&((c=l.querySelector("[data-slate-leaf]"))?(i=c.closest('[data-slate-node="text"]'),s=(u=c).textContent.length,u.querySelectorAll("[data-slate-zero-width]").forEach((e=>{s-=e.textContent.length}))):s=1);u&&s===u.textContent.length&&a.hasAttribute("data-slate-zero-width")&&s--}if(!i){if(r)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var v=ze.toSlateNode(e,i);return{path:ze.findPath(e,v),offset:s}},toSlateRange(e,t,r){var n,o,a,i,s,{exactMatch:l}=r;if((Pe(t)?t.anchorNode:t.startContainer)&&(Pe(t)?(n=t.anchorNode,o=t.anchorOffset,a=t.focusNode,i=t.focusOffset,s=$&&window.document.activeElement&&window.document.activeElement.shadowRoot?t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:t.isCollapsed):(n=t.startContainer,o=t.startOffset,a=t.endContainer,i=t.endOffset,s=t.collapsed)),null==n||null==a||null==o||null==i)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));var c=ze.toSlatePoint(e,[n,o],l);if(!c)return null;var u=s?c:ze.toSlatePoint(e,[a,i],l);return u?{anchor:c,focus:u}:null},hasRange(e,t){var{anchor:r,focus:n}=t;return a.Editor.hasPath(e,r.path)&&a.Editor.hasPath(e,n.path)}};function Ve(e,t){if(e===t)return null;var r=function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n))return n;return e.length!==t.length?r:null}(e,t);if(null===r)return null;var n=function(e,t,r){for(var n=e.length,o=t.length,a=Math.min(n,o,r),i=0;i<a;i++)if(e.charAt(n-i-1)!==t.charAt(o-i-1))return i;return e.length!==t.length?a:null}(e,t,Math.min(e.length-r,t.length-r));return null===n?null:{start:r,end:n}}function Ue(e,t){return e.slice(t.start,e.length-t.end)}function Ke(e,t){var r=ze.toSlateNode(e,t);if(a.Text.isText(r)){var n=r.text,o=t.textContent;if(o.endsWith("\n")&&(o=o.slice(0,o.length-1)),o!==n){var i=function(e,t){if(void 0===e||void 0===t)return null;var r=Ve(e,t);if(null==r)return null;var n=Ue(t,r),o=Ue(e,r);return{start:r.start,end:e.length-r.end,insertText:n,removeText:o}}(n,o);if(null!==i)return{text:i,path:ze.findPath(e,r)}}}}function Je(e,t,r){var{path:n,text:o}=r,i={anchor:{path:n,offset:o.start},focus:{path:n,offset:o.end}};if(!t||!a.Range.isCollapsed(t))return i;var{insertText:s,removeText:l}=o;if((1===s.length||1===l.length)&&a.Path.equals(t.anchor.path,n)){var[c]=Array.from(a.Editor.nodes(e,{at:t,match:a.Text.isText}));if(c){var[u]=c,{anchor:d}=t,f=u.text[d.offset-1],v=u.text[d.offset];if(1===s.length&&s===v)return t;if(1===l.length&&l===f)return{anchor:{path:n,offset:d.offset-1},focus:{path:n,offset:d.offset}}}}return i}function He(e){try{var t=_.get(e);t&&t()}catch(r){console.error(r)}}class Xe{constructor(e){this.editor=e,this.flush=e=>{try{this.reconcileMutations(e)}catch(t){console.error(t),He(this.editor)}},this.reconcileMutations=e=>{var t=function(e,t){var r=[],n=[],o=[],i=[];return t.forEach((t=>{switch(t.type){case"childList":t.addedNodes.length&&t.addedNodes.forEach((e=>{r.push(e)})),t.removedNodes.forEach((e=>{n.push(e)}));break;case"characterData":i.push(t);var{parentNode:s}=t.target;if(!s)return;var l=Ke(e,s);if(!l)return;if(o.some((e=>{var{path:t}=e;return a.Path.equals(t,l.path)})))return;o.push(l)}})),{addedNodes:r,removedNodes:n,insertedText:o,characterDataMutations:i}}(this.editor,e),{insertedText:r,removedNodes:n}=t;if(((e,t)=>{var{selection:r}=e,{removedNodes:n}=t;return!!r&&a.Range.isExpanded(r)&&n.length>0})(this.editor,t)){var o=function(e){return e.reduce(((e,t)=>{var{text:r}=t;return"".concat(e).concat(r.insertText)}),"")}(r);this.replaceExpandedSelection(o)}else((e,t)=>{var{addedNodes:r}=t,{selection:n}=e,o=n?a.Node.parent(e,n.anchor.path):null,i=o?ze.toDOMNode(e,o):null;return!!i&&r.some((e=>e instanceof HTMLElement&&e.tagName===(null===i||void 0===i?void 0:i.tagName)))})(this.editor,t)?this.insertBreak():((e,t)=>{var{addedNodes:r,characterDataMutations:n,removedNodes:o}=t;return o.length>0&&0===r.length&&n.length>0})(this.editor,t)?this.removeLeafNodes(n):((e,t)=>{var{removedNodes:r}=t;return r.length>0})(this.editor,t)?this.deleteBackward():((e,t)=>{var{insertedText:r}=t;return r.length>0})(this.editor,t)&&this.insertText(r)},this.insertText=e=>{var{selection:t}=this.editor;e.forEach((e=>{a.Transforms.insertText(this.editor,e.text.insertText,{at:Je(this.editor,t,e)})}))},this.insertBreak=()=>{var{selection:e}=this.editor;a.Editor.insertBreak(this.editor),He(this.editor),e&&setTimeout((()=>{this.editor.selection&&a.Range.equals(e,this.editor.selection)&&a.Transforms.move(this.editor)}),100)},this.replaceExpandedSelection=e=>{a.Editor.deleteFragment(this.editor),e.length&&a.Editor.insertText(this.editor,e),He(this.editor)},this.deleteBackward=()=>{a.Editor.deleteBackward(this.editor),ze.focus(this.editor),He(this.editor)},this.removeLeafNodes=e=>{for(var t of e){var r=ze.toSlateNode(this.editor,t);if(r){var n=ze.findPath(this.editor,r);a.Transforms.delete(this.editor,{at:n}),He(this.editor)}}},this.editor=e}}var $e={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};function Ge(e){var t=de(),[r]=Object(n.useState)((()=>new Xe(t))),{receivedUserInput:o,onUserInput:a}=function(){var e=de(),t=Object(n.useRef)(!1),r=Object(n.useRef)(null),o=Object(n.useCallback)((()=>{if(!1===t.current){var n=ze.getWindow(e);t.current=!0,r.current&&n.cancelAnimationFrame(r.current),r.current=n.requestAnimationFrame((()=>{t.current=!1,r.current=null}))}}),[]);return Object(n.useEffect)((()=>{t.current&&(t.current=!1)})),{receivedUserInput:t,onUserInput:o}}(),i=Object(n.useRef)(null),s=Object(n.useRef)(!1);return function(e,t,r){var[o]=Object(n.useState)((()=>new MutationObserver(t)));ee((()=>{o.disconnect()})),Object(n.useEffect)((()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return o.observe(e.current,r),o.disconnect.bind(o)}))}(e,Object(n.useCallback)((e=>{o.current&&(s.current=!0,r.flush(e),i.current&&clearTimeout(i.current),i.current=setTimeout((()=>{s.current=!1,i.current=null}),250))}),[]),$e),{isReconciling:s,onUserInput:a}}function Ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ze=Object(n.createContext)(!1),et=()=>Object(n.useContext)(Ze),tt=e=>{var{editor:t,children:r,onChange:i,value:s}=e,l=x(e,["editor","children","onChange","value"]),[c,u]=Object(n.useState)(0),d=Object(n.useMemo)((()=>(y(a.Node.isNodeList(s),"[Slate] value is invalid! Expected a list of elements but got: ".concat(JSON.stringify(s))),y(a.Editor.isEditor(t),"[Slate] editor is invalid! you passed: ".concat(JSON.stringify(t))),t.children=s,Object.assign(t,l),[t])),[c,s,...Object.values(l)]),f=Object(n.useCallback)((()=>{i(t.children),u(c+1)}),[c,i]);L.set(t,f),Object(n.useEffect)((()=>()=>{L.set(t,(()=>{}))}),[]);var[v,h]=Object(n.useState)(ze.isFocused(t));return Object(n.useEffect)((()=>{h(ze.isFocused(t))})),ee((()=>{var e=()=>h(ze.isFocused(t));return document.addEventListener("focus",e,!0),()=>document.removeEventListener("focus",e,!0)}),[]),ee((()=>{var e=()=>h(ze.isFocused(t));return document.addEventListener("blur",e,!0),()=>document.removeEventListener("blur",e,!0)}),[]),o.a.createElement(Oe.Provider,{value:d},o.a.createElement(ue.Provider,{value:t},o.a.createElement(Ze.Provider,{value:v},r)))},rt=(e,t)=>{var r=(t.top+t.bottom)/2;return e.top<=r&&e.bottom>=r},nt=(e,t,r)=>{var n=ze.toDOMRange(e,t).getBoundingClientRect(),o=ze.toDOMRange(e,r).getBoundingClientRect();return rt(n,o)&&rt(o,n)},ot=e=>{var t=e,{apply:r,onChange:n,deleteBackward:o}=t;return t.deleteBackward=r=>{if("line"!==r)return o(r);if(e.selection&&a.Range.isCollapsed(e.selection)){var n=a.Editor.above(e,{match:t=>a.Editor.isBlock(e,t),at:e.selection});if(n){var[,i]=n,s=a.Editor.range(e,i,e.selection.anchor),l=((e,t)=>{var r=a.Editor.range(e,a.Range.end(t)),n=Array.from(a.Editor.positions(e,{at:t})),o=0,i=n.length,s=Math.floor(i/2);if(nt(e,a.Editor.range(e,n[o]),r))return a.Editor.range(e,n[o],r);if(n.length<2)return a.Editor.range(e,n[n.length-1],r);for(;s!==n.length&&s!==o;)nt(e,a.Editor.range(e,n[s]),r)?i=s:o=s,s=Math.floor((o+i)/2);return a.Editor.range(e,n[i],r)})(t,s);a.Range.isCollapsed(l)||a.Transforms.delete(e,{at:l})}}},t.apply=e=>{var n=[];switch(e.type){case"insert_text":case"remove_text":case"set_node":for(var[o,i]of a.Editor.levels(t,{at:e.path})){var s=ze.findKey(t,o);n.push([i,s])}break;case"insert_node":case"remove_node":case"merge_node":case"split_node":for(var[l,c]of a.Editor.levels(t,{at:a.Path.parent(e.path)})){var u=ze.findKey(t,l);n.push([c,u])}break;case"move_node":for(var[d,f]of a.Editor.levels(t,{at:a.Path.common(a.Path.parent(e.path),a.Path.parent(e.newPath))})){var v=ze.findKey(t,d);n.push([f,v])}}for(var[h,p]of(r(e),n)){var[g]=a.Editor.node(t,h);B.set(g,p)}},t.setFragmentData=e=>{var{selection:r}=t;if(r){var[n,o]=a.Range.edges(r),i=a.Editor.void(t,{at:n.path}),s=a.Editor.void(t,{at:o.path});if(!a.Range.isCollapsed(r)||i){var l=ze.toDOMRange(t,r),c=l.cloneContents(),u=c.childNodes[0];if(c.childNodes.forEach((e=>{e.textContent&&""!==e.textContent.trim()&&(u=e)})),s){var[d]=s,f=l.cloneRange(),v=ze.toDOMNode(t,d);f.setEndAfter(v),c=f.cloneContents()}if(i&&(u=c.querySelector("[data-slate-spacer]")),Array.from(c.querySelectorAll("[data-slate-zero-width]")).forEach((e=>{var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""})),De(u)){var h=document.createElement("span");h.style.whiteSpace="pre",h.appendChild(u),c.appendChild(h),u=h}var p=t.getFragment(),g=JSON.stringify(p),m=window.btoa(encodeURIComponent(g));u.setAttribute("data-slate-fragment",m),e.setData("application/x-slate-fragment",m);var b=document.createElement("div");b.appendChild(c),b.setAttribute("hidden","true"),document.body.appendChild(b),e.setData("text/html",b.innerHTML),e.setData("text/plain",Se(b)),document.body.removeChild(b)}}},t.insertData=e=>{var r=e.getData("application/x-slate-fragment");if(r){var n=decodeURIComponent(window.atob(r)),o=JSON.parse(n);t.insertFragment(o)}else{var i=e.getData("text/plain");if(i){var s=i.split(/\r\n|\r|\n/),l=!1;for(var c of s)l&&a.Transforms.splitNodes(t,{always:!0}),t.insertText(c),l=!0}}},t.onChange=()=>{O.a.unstable_batchedUpdates((()=>{var e=L.get(t);e&&e(),n()}))},t},at=K?e=>{var{autoFocus:t,decorate:r=Be,onDOMBeforeInput:i,placeholder:s,readOnly:l=!1,renderElement:u,renderLeaf:d,renderPlaceholder:f=(e=>o.a.createElement(Re,Object.assign({},e))),style:v={},as:h="div"}=e,p=x(e,["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","style","as"]),m=Ee(),b=Object(n.useRef)(null),y=Ge(b);T.set(m,l);var w=Object(n.useMemo)((()=>({isUpdatingSelection:!1,latestElement:null})),[]),[O,E]=Object(n.useState)(0),k=Object(n.useCallback)((()=>{E((e=>e+1))}),[O]);ee((()=>{var e;b.current&&(e=xe(b.current))?(C.set(m,e),S.set(m,b.current),R.set(m,b.current),A.set(b.current,m),_.set(m,k)):(R.delete(m),_.delete(m));try{var{selection:t}=m,r=ze.findDocumentOrShadowRoot(m).getSelection();if(!r||!ze.isFocused(m))return;var n="None"!==r.type;if(!t&&!n)return;var o=S.get(m),i=!1;if(o.contains(r.anchorNode)&&o.contains(r.focusNode)&&(i=!0),n&&i&&t){var s=ze.toSlateRange(m,r,{exactMatch:!0});if(s&&a.Range.equals(s,t))return}if(t&&!ze.hasRange(m,t))return void(m.selection=ze.toSlateRange(m,r,{exactMatch:!1}));var l=ze.toDOMNode(m,m);w.isUpdatingSelection=!0;var c=t&&ze.toDOMRange(m,t);if(c){a.Range.isBackward(t)?r.setBaseAndExtent(c.endContainer,c.endOffset,c.startContainer,c.startOffset):r.setBaseAndExtent(c.startContainer,c.startOffset,c.endContainer,c.endOffset);var u=c.startContainer.parentElement;u.getBoundingClientRect=c.getBoundingClientRect.bind(c),g(u,{scrollMode:"if-needed",boundary:l}),delete u.getBoundingClientRect}else r.removeAllRanges();setTimeout((()=>{w.isUpdatingSelection=!1}))}catch(d){w.isUpdatingSelection=!1}})),Object(n.useEffect)((()=>{b.current&&t&&b.current.focus()}),[t]);var j=Object(n.useCallback)((e=>{l||!Me(m,e.target)||We(e,i)||y.onUserInput()}),[l,i]);ee((()=>{var e=b.current;return null===e||void 0===e||e.addEventListener("beforeinput",j),()=>null===e||void 0===e?void 0:e.removeEventListener("beforeinput",j)}),[O,i]);var P=Object(n.useCallback)(c()((()=>{try{if(!l&&!w.isUpdatingSelection&&!y.isReconciling.current){var e=ze.findDocumentOrShadowRoot(m),{activeElement:t}=e,r=ze.toDOMNode(m,m),n=e.getSelection();if(t===r?(w.latestElement=t,M.set(m,!0)):M.delete(m),!n)return a.Transforms.deselect(m);var{anchorNode:o,focusNode:i}=n,s=Me(m,o)||Le(m,o),c=Me(m,i)||Le(m,i);if(s&&c){var u=ze.toSlateRange(m,n,{exactMatch:!1});a.Transforms.select(m,u)}else a.Transforms.deselect(m)}}catch(d){}}),100),[l]);ee((()=>{var e=ze.getWindow(m);return e.document.addEventListener("selectionchange",P),()=>{e.document.removeEventListener("selectionchange",P)}}));var D=r([m,[]]);if(s&&1===m.children.length&&1===Array.from(a.Node.texts(m)).length&&""===a.Node.string(m)){var F=a.Editor.start(m,[]);D.push({[W]:!0,placeholder:s,anchor:F,focus:F})}return o.a.createElement(ye.Provider,{value:l},o.a.createElement(fe.Provider,{value:r},o.a.createElement(h,Object.assign({key:O,role:l?void 0:"textbox"},p,{spellCheck:p.spellCheck,autoCorrect:p.autoCorrect,autoCapitalize:p.autoCapitalize,"data-slate-editor":!0,"data-slate-node":"value",contentEditable:!l||void 0,suppressContentEditableWarning:!0,ref:b,style:Qe({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},v),onCopy:Object(n.useCallback)((e=>{Me(m,e.target)&&!_e(e,p.onCopy)&&(e.preventDefault(),ze.setFragmentData(m,e.clipboardData))}),[p.onCopy]),onCut:Object(n.useCallback)((e=>{if(!l&&Me(m,e.target)&&!_e(e,p.onCut)){e.preventDefault(),ze.setFragmentData(m,e.clipboardData);var{selection:t}=m;if(t)if(a.Range.isExpanded(t))a.Editor.deleteFragment(m);else{var r=a.Node.parent(m,t.anchor.path);a.Editor.isVoid(m,r)&&a.Transforms.delete(m)}}}),[l,p.onCut]),onFocus:Object(n.useCallback)((e=>{if(!l&&!w.isUpdatingSelection&&Me(m,e.target)&&!_e(e,p.onFocus)){var t=ze.findDocumentOrShadowRoot(m);w.latestElement=t.activeElement,M.set(m,!0)}}),[l,p.onFocus]),onBlur:Object(n.useCallback)((e=>{if(!l&&!w.isUpdatingSelection&&Me(m,e.target)&&!_e(e,p.onBlur)){var t=ze.findDocumentOrShadowRoot(m);if(w.latestElement!==t.activeElement){var{relatedTarget:r}=e;if(r!==ze.toDOMNode(m,m)&&(!ke(r)||!r.hasAttribute("data-slate-spacer"))){if(null!=r&&je(r)&&ze.hasDOMNode(m,r)){var n=ze.toSlateNode(m,r);if(a.Element.isElement(n)&&!m.isVoid(n))return}M.delete(m)}}}}),[l,p.onBlur]),onPaste:Object(n.useCallback)((e=>{!Me(m,e.target)||_e(e,p.onPaste)||l||(e.preventDefault(),ze.insertData(m,e.clipboardData))}),[l,p.onPaste])}),ve({decorations:D,node:m,renderElement:u,renderPlaceholder:f,renderLeaf:d,selection:m.selection}))))}:e=>{var{autoFocus:t,decorate:r=Be,onDOMBeforeInput:i,placeholder:l,readOnly:u=!1,renderElement:d,renderLeaf:f,renderPlaceholder:v=(e=>o.a.createElement(Re,Object.assign({},e))),style:h={},as:p="div"}=e,m=x(e,["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","style","as"]),b=Ee(),y=Object(n.useRef)(null);T.set(b,u);var w=Object(n.useMemo)((()=>({isComposing:!1,isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null})),[]);ee((()=>{var e;y.current&&(e=xe(y.current))?(C.set(b,e),S.set(b,y.current),R.set(b,y.current),A.set(y.current,b)):R.delete(b);var{selection:t}=b,r=ze.findDocumentOrShadowRoot(b).getSelection();if(!w.isComposing&&r&&ze.isFocused(b)){var n="None"!==r.type;if(t||n){var o=S.get(b),i=!1;if(o.contains(r.anchorNode)&&o.contains(r.focusNode)&&(i=!0),n&&i&&t){var s=ze.toSlateRange(b,r,{exactMatch:!0});if(s&&a.Range.equals(s,t))return}if(!t||ze.hasRange(b,t)){var l=ze.toDOMNode(b,b);w.isUpdatingSelection=!0;var c=t&&ze.toDOMRange(b,t);if(c){a.Range.isBackward(t)?r.setBaseAndExtent(c.endContainer,c.endOffset,c.startContainer,c.startOffset):r.setBaseAndExtent(c.startContainer,c.startOffset,c.endContainer,c.endOffset);var u=c.startContainer.parentElement;u.getBoundingClientRect=c.getBoundingClientRect.bind(c),g(u,{scrollMode:"if-needed",boundary:l}),delete u.getBoundingClientRect}else r.removeAllRanges();setTimeout((()=>{c&&J&&l.focus(),w.isUpdatingSelection=!1}))}else b.selection=ze.toSlateRange(b,r,{exactMatch:!1})}}})),Object(n.useEffect)((()=>{y.current&&t&&y.current.focus()}),[t]);var O=Object(n.useCallback)((e=>{if(!u&&Me(b,e.target)&&!We(e,i)){var{selection:t}=b,{inputType:r}=e,n=e.dataTransfer||e.data||void 0;if("insertCompositionText"===r||"deleteCompositionText"===r)return;if(e.preventDefault(),!r.startsWith("delete")||r.startsWith("deleteBy")){var[o]=e.getTargetRanges();if(o){var s=ze.toSlateRange(b,o,{exactMatch:!1});t&&a.Range.equals(t,s)||a.Transforms.select(b,s)}}if(t&&a.Range.isExpanded(t)&&r.startsWith("delete")){var l=r.endsWith("Backward")?"backward":"forward";return void a.Editor.deleteFragment(b,{direction:l})}switch(r){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":a.Editor.deleteFragment(b);break;case"deleteContent":case"deleteContentForward":a.Editor.deleteForward(b);break;case"deleteContentBackward":a.Editor.deleteBackward(b);break;case"deleteEntireSoftLine":a.Editor.deleteBackward(b,{unit:"line"}),a.Editor.deleteForward(b,{unit:"line"});break;case"deleteHardLineBackward":a.Editor.deleteBackward(b,{unit:"block"});break;case"deleteSoftLineBackward":a.Editor.deleteBackward(b,{unit:"line"});break;case"deleteHardLineForward":a.Editor.deleteForward(b,{unit:"block"});break;case"deleteSoftLineForward":a.Editor.deleteForward(b,{unit:"line"});break;case"deleteWordBackward":a.Editor.deleteBackward(b,{unit:"word"});break;case"deleteWordForward":a.Editor.deleteForward(b,{unit:"word"});break;case"insertLineBreak":case"insertParagraph":a.Editor.insertBreak(b);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":"insertFromComposition"===r&&(w.isComposing=!1),n instanceof ze.getWindow(b).DataTransfer?ze.insertData(b,n):"string"===typeof n&&a.Editor.insertText(b,n)}}}),[u,i]);ee((()=>(y.current&&Z&&y.current.addEventListener("beforeinput",O),()=>{y.current&&Z&&y.current.removeEventListener("beforeinput",O)})),[O]);var E=Object(n.useCallback)(c()((()=>{if(!u&&!w.isComposing&&!w.isUpdatingSelection&&!w.isDraggingInternally){var e=ze.findDocumentOrShadowRoot(b),{activeElement:t}=e,r=ze.toDOMNode(b,b),n=e.getSelection();if(t===r?(w.latestElement=t,M.set(b,!0)):M.delete(b),!n)return a.Transforms.deselect(b);var{anchorNode:o,focusNode:i}=n,s=Me(b,o)||Le(b,o),l=Me(b,i)||Le(b,i);if(s&&l){var c=ze.toSlateRange(b,n,{exactMatch:!1});a.Transforms.select(b,c)}else a.Transforms.deselect(b)}}),100),[u]);ee((()=>{var e=ze.getWindow(b);return e.document.addEventListener("selectionchange",E),()=>{e.document.removeEventListener("selectionchange",E)}}),[E]);var k=r([b,[]]);if(l&&1===b.children.length&&1===Array.from(a.Node.texts(b)).length&&""===a.Node.string(b)){var j=a.Editor.start(b,[]);k.push({[W]:!0,placeholder:l,anchor:j,focus:j})}return o.a.createElement(ye.Provider,{value:u},o.a.createElement(fe.Provider,{value:r},o.a.createElement(p,Object.assign({"data-gramm":!1,role:u?void 0:"textbox"},m,{spellCheck:!!Z&&m.spellCheck,autoCorrect:Z?m.autoCorrect:"false",autoCapitalize:Z?m.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!u||void 0,suppressContentEditableWarning:!0,ref:y,style:Ne({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},h),onBeforeInput:Object(n.useCallback)((e=>{if(!Z&&!u&&!_e(e,m.onBeforeInput)&&Me(b,e.target)&&(e.preventDefault(),!w.isComposing)){var t=e.data;a.Editor.insertText(b,t)}}),[u]),onBlur:Object(n.useCallback)((e=>{if(!u&&!w.isUpdatingSelection&&Me(b,e.target)&&!_e(e,m.onBlur)){var t=ze.findDocumentOrShadowRoot(b);if(w.latestElement!==t.activeElement){var{relatedTarget:r}=e;if(r!==ze.toDOMNode(b,b)&&(!ke(r)||!r.hasAttribute("data-slate-spacer"))){if(null!=r&&je(r)&&ze.hasDOMNode(b,r)){var n=ze.toSlateNode(b,r);if(a.Element.isElement(n)&&!b.isVoid(n))return}if(H){var o=t.getSelection();null===o||void 0===o||o.removeAllRanges()}M.delete(b)}}}}),[u,m.onBlur]),onClick:Object(n.useCallback)((e=>{if(!u&&Te(b,e.target)&&!_e(e,m.onClick)&&je(e.target)){var t=ze.toSlateNode(b,e.target),r=ze.findPath(b,t),n=a.Editor.start(b,r),o=a.Editor.end(b,r),i=a.Editor.void(b,{at:n}),s=a.Editor.void(b,{at:o});if(i&&s&&a.Path.equals(i[1],s[1])){var l=a.Editor.range(b,n);a.Transforms.select(b,l)}}}),[u,m.onClick]),onCompositionEnd:Object(n.useCallback)((e=>{Me(b,e.target)&&!_e(e,m.onCompositionEnd)&&(w.isComposing=!1,H||Y||!e.data||a.Editor.insertText(b,e.data))}),[m.onCompositionEnd]),onCompositionUpdate:Object(n.useCallback)((e=>{Me(b,e.target)&&!_e(e,m.onCompositionUpdate)&&(w.isComposing=!0)}),[m.onCompositionUpdate]),onCompositionStart:Object(n.useCallback)((e=>{if(Me(b,e.target)&&!_e(e,m.onCompositionStart)){var{selection:t}=b;t&&a.Range.isExpanded(t)&&a.Editor.deleteFragment(b)}}),[m.onCompositionStart]),onCopy:Object(n.useCallback)((e=>{Me(b,e.target)&&!_e(e,m.onCopy)&&(e.preventDefault(),ze.setFragmentData(b,e.clipboardData))}),[m.onCopy]),onCut:Object(n.useCallback)((e=>{if(!u&&Me(b,e.target)&&!_e(e,m.onCut)){e.preventDefault(),ze.setFragmentData(b,e.clipboardData);var{selection:t}=b;if(t)if(a.Range.isExpanded(t))a.Editor.deleteFragment(b);else{var r=a.Node.parent(b,t.anchor.path);a.Editor.isVoid(b,r)&&a.Transforms.delete(b)}}}),[u,m.onCut]),onDragOver:Object(n.useCallback)((e=>{if(Te(b,e.target)&&!_e(e,m.onDragOver)){var t=ze.toSlateNode(b,e.target);a.Editor.isVoid(b,t)&&e.preventDefault()}}),[m.onDragOver]),onDragStart:Object(n.useCallback)((e=>{if(Te(b,e.target)&&!_e(e,m.onDragStart)){var t=ze.toSlateNode(b,e.target),r=ze.findPath(b,t);if(a.Editor.isVoid(b,t)||a.Editor.void(b,{at:r,voids:!0})){var n=a.Editor.range(b,r);a.Transforms.select(b,n)}w.isDraggingInternally=!0,ze.setFragmentData(b,e.dataTransfer)}}),[m.onDragStart]),onDrop:Object(n.useCallback)((e=>{if(!u&&Te(b,e.target)&&!_e(e,m.onDrop)){e.preventDefault();var t=b.selection,r=ze.findEventRange(b,e),n=e.dataTransfer;a.Transforms.select(b,r),w.isDraggingInternally&&(t&&a.Transforms.delete(b,{at:t}),w.isDraggingInternally=!1),ze.insertData(b,n),ze.isFocused(b)||ze.focus(b)}}),[u,m.onDrop]),onDragEnd:Object(n.useCallback)((e=>{!u&&w.isDraggingInternally&&Te(b,e.target)&&!_e(e,m.onDragEnd)&&(w.isDraggingInternally=!1)}),[u,m.onDragEnd]),onFocus:Object(n.useCallback)((e=>{if(!u&&!w.isUpdatingSelection&&Me(b,e.target)&&!_e(e,m.onFocus)){var t=ze.toDOMNode(b,b),r=ze.findDocumentOrShadowRoot(b);if(w.latestElement=r.activeElement,J&&e.target!==t)return void t.focus();M.set(b,!0)}}),[u,m.onFocus]),onKeyDown:Object(n.useCallback)((e=>{if(!u&&Me(b,e.target)&&!_e(e,m.onKeyDown)){var{nativeEvent:t}=e,{selection:r}=b,n=b.children[null!==r?r.focus.path[0]:0],o="rtl"===s()(a.Node.string(n));if(be.isRedo(t)){e.preventDefault();var i=b;return void("function"===typeof i.redo&&i.redo())}if(be.isUndo(t)){e.preventDefault();var l=b;return void("function"===typeof l.undo&&l.undo())}if(be.isMoveLineBackward(t))return e.preventDefault(),void a.Transforms.move(b,{unit:"line",reverse:!0});if(be.isMoveLineForward(t))return e.preventDefault(),void a.Transforms.move(b,{unit:"line"});if(be.isExtendLineBackward(t))return e.preventDefault(),void a.Transforms.move(b,{unit:"line",edge:"focus",reverse:!0});if(be.isExtendLineForward(t))return e.preventDefault(),void a.Transforms.move(b,{unit:"line",edge:"focus"});if(be.isMoveBackward(t))return e.preventDefault(),void(r&&a.Range.isCollapsed(r)?a.Transforms.move(b,{reverse:!o}):a.Transforms.collapse(b,{edge:"start"}));if(be.isMoveForward(t))return e.preventDefault(),void(r&&a.Range.isCollapsed(r)?a.Transforms.move(b,{reverse:o}):a.Transforms.collapse(b,{edge:"end"}));if(be.isMoveWordBackward(t))return e.preventDefault(),r&&a.Range.isExpanded(r)&&a.Transforms.collapse(b,{edge:"focus"}),void a.Transforms.move(b,{unit:"word",reverse:!o});if(be.isMoveWordForward(t))return e.preventDefault(),r&&a.Range.isExpanded(r)&&a.Transforms.collapse(b,{edge:"focus"}),void a.Transforms.move(b,{unit:"word",reverse:o});if(Z){if(($||H)&&r&&(be.isDeleteBackward(t)||be.isDeleteForward(t))&&a.Range.isCollapsed(r)){var c=a.Node.parent(b,r.anchor.path);if(a.Element.isElement(c)&&a.Editor.isVoid(b,c)&&a.Editor.isInline(b,c))return e.preventDefault(),void a.Transforms.delete(b,{unit:"block"})}}else{if(be.isBold(t)||be.isItalic(t)||be.isTransposeCharacter(t))return void e.preventDefault();if(be.isSplitBlock(t))return e.preventDefault(),void a.Editor.insertBreak(b);if(be.isDeleteBackward(t))return e.preventDefault(),void(r&&a.Range.isExpanded(r)?a.Editor.deleteFragment(b,{direction:"backward"}):a.Editor.deleteBackward(b));if(be.isDeleteForward(t))return e.preventDefault(),void(r&&a.Range.isExpanded(r)?a.Editor.deleteFragment(b,{direction:"forward"}):a.Editor.deleteForward(b));if(be.isDeleteLineBackward(t))return e.preventDefault(),void(r&&a.Range.isExpanded(r)?a.Editor.deleteFragment(b,{direction:"backward"}):a.Editor.deleteBackward(b,{unit:"line"}));if(be.isDeleteLineForward(t))return e.preventDefault(),void(r&&a.Range.isExpanded(r)?a.Editor.deleteFragment(b,{direction:"forward"}):a.Editor.deleteForward(b,{unit:"line"}));if(be.isDeleteWordBackward(t))return e.preventDefault(),void(r&&a.Range.isExpanded(r)?a.Editor.deleteFragment(b,{direction:"backward"}):a.Editor.deleteBackward(b,{unit:"word"}));if(be.isDeleteWordForward(t))return e.preventDefault(),void(r&&a.Range.isExpanded(r)?a.Editor.deleteFragment(b,{direction:"forward"}):a.Editor.deleteForward(b,{unit:"word"}))}}}),[u,m.onKeyDown]),onPaste:Object(n.useCallback)((e=>{u||!Me(b,e.target)||_e(e,m.onPaste)||Z&&!(e=>e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length)(e.nativeEvent)||(e.preventDefault(),ze.insertData(b,e.clipboardData))}),[u,m.onPaste])}),ve({decorations:k,node:b,renderElement:d,renderPlaceholder:v,renderLeaf:f,selection:b.selection}))))}},LsI9:function(e,t,r){"use strict";function n(e){return!0===(null!=(t=e)&&"object"===typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);var t}t.a=function(e){var t,r;return!1!==n(e)&&("function"===typeof(t=e.constructor)&&(!1!==n(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))}},MTPF:function(e,t,r){var n=r("DL8J").Symbol;e.exports=n},Nwb9:function(e,t,r){var n=r("epKk"),o=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(o,""):e}},S5M5:function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},Si2O:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},TucM:function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return l}));var n=r("mXGw"),o=r.n(n),a=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},i=o.a.createContext({}),s=function(){var e;return null===(e=Object(n.useContext)(i))||void 0===e?void 0:e.visible},l=function(){var e;return null===(e=Object(n.useContext)(i))||void 0===e?void 0:e.setVisible};t.a=function(e){var t=e.children,r=a(Object(n.useState)(!1),2),s=r[0],l=r[1],c=Object(n.useMemo)((function(){return{visible:s,setVisible:l}}),[s,l]);return o.a.createElement(i.Provider,{value:c},t)}},XPfE:function(e,t,r){var n=r("MTPF"),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(l){}var o=i.call(e);return n&&(t?e[s]=r:delete e[s]),o}},epKk:function(e,t){var r=/\s/;e.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}},j7Cr:function(e,t,r){var n=r("6Daa"),o=r("uVtA"),a=r("GQJy"),i=Math.max,s=Math.min;e.exports=function(e,t,r){var l,c,u,d,f,v,h=0,p=!1,g=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var r=l,n=c;return l=c=void 0,h=t,d=e.apply(n,r)}function y(e){return h=e,f=setTimeout(O,t),p?b(e):d}function w(e){var r=e-v;return void 0===v||r>=t||r<0||g&&e-h>=u}function O(){var e=o();if(w(e))return E(e);f=setTimeout(O,function(e){var r=t-(e-v);return g?s(r,u-(e-h)):r}(e))}function E(e){return f=void 0,m&&l?b(e):(l=c=void 0,d)}function x(){var e=o(),r=w(e);if(l=arguments,c=this,v=e,r){if(void 0===f)return y(v);if(g)return clearTimeout(f),f=setTimeout(O,t),b(v)}return void 0===f&&(f=setTimeout(O,t)),d}return t=a(t)||0,n(r)&&(p=!!r.leading,u=(g="maxWait"in r)?i(a(r.maxWait)||0,t):u,m="trailing"in r?!!r.trailing:m),x.cancel=function(){void 0!==f&&clearTimeout(f),h=0,l=v=c=f=void 0},x.flush=function(){return void 0===f?d:E(o())},x}},qJQC:function(e,t,r){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,o,a;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(o=n;0!==o--;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(a=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(o=n;0!==o--;)if(!Object.prototype.hasOwnProperty.call(r,a[o]))return!1;for(o=n;0!==o--;){var i=a[o];if(!e(t[i],r[i]))return!1}return!0}return t!==t&&r!==r}},tlN6:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),o={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},a={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},i={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},s=1;s<20;s++)i["f"+s]=111+s;function l(e,t,r){t&&!("byKey"in t)&&(r=t,t=null),Array.isArray(e)||(e=[e]);var n=e.map((function(e){return c(e,t)})),o=function(e){return n.some((function(t){return u(t,e)}))};return null==r?o:o(r)}function c(e,t){var r=t&&t.byKey,n={},a=(e=e.replace("++","+add")).split("+"),i=a.length;for(var s in o)n[o[s]]=!1;var l=!0,c=!1,u=void 0;try{for(var v,h=a[Symbol.iterator]();!(l=(v=h.next()).done);l=!0){var p=v.value,g=p.endsWith("?")&&p.length>1;g&&(p=p.slice(0,-1));var m=f(p),b=o[m];1!==i&&b||(r?n.key=m:n.which=d(p)),b&&(n[b]=!g||null)}}catch(y){c=!0,u=y}finally{try{!l&&h.return&&h.return()}finally{if(c)throw u}}return n}function u(e,t){for(var r in e){var n=e[r],o=void 0;if(null!=n&&((null!=(o="key"===r&&null!=t.key?t.key.toLowerCase():"which"===r?91===n&&93===t.which?91:t.which:t[r])||!1!==n)&&o!==n))return!1}return!0}function d(e){return e=f(e),i[e]||e.toUpperCase().charCodeAt(0)}function f(e){return e=e.toLowerCase(),e=a[e]||e}t.default=l,t.isHotkey=l,t.isCodeHotkey=function(e,t){return l(e,t)},t.isKeyHotkey=function(e,t){return l(e,{byKey:!0},t)},t.parseHotkey=c,t.compareHotkey=u,t.toKeyCode=d,t.toKeyName=f},tq0X:function(e,t,r){var n=r("76Yc"),o=r("Si2O");e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},uVtA:function(e,t,r){var n=r("DL8J");e.exports=function(){return n.Date.now()}},wu58:function(e,t,r){"use strict";e.exports=function(e){if(e=String(e||""),a.test(e))return"rtl";if(i.test(e))return"ltr";return"neutral"};var n="\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc",o="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff",a=new RegExp("^[^"+o+"]*["+n+"]"),i=new RegExp("^[^"+n+"]*["+o+"]")}}]);